(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["bundle-pages-order_details-order_details"],{4021:function(e,t,a){"use strict";var r;a.d(t,"b",(function(){return i})),a.d(t,"c",(function(){return n})),a.d(t,"a",(function(){return r}));var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-uni-view")},n=[]},"6de9":function(e,t,a){var r=a("ac7d");"string"===typeof r&&(r=[[e.i,r,""]]),r.locals&&(e.exports=r.locals);var i=a("4f06").default;i("5882c8c0",r,!0,{sourceMap:!1,shadowMode:!1})},7096:function(e,t,a){"use strict";var r=a("4ea4");Object.defineProperty(t,"__esModule",{value:!0}),t.wxpay=o,t.alipay=d;var i=r(a("ab0c")),n=a("a2f3");function o(e){if((0,n.isWeixinClient)())return i.default.wxPay(e);console.log(e),location.href=e}function d(e){var t=window.open("","_self");t.document.body.innerHTML=e.data,t.document.forms[0].submit()}},"78a2":function(e,t,a){"use strict";var r=a("6de9"),i=a.n(r);i.a},"8c8b":function(e,t,a){"use strict";a.r(t);var r=a("4021"),i=a("c305");for(var n in i)"default"!==n&&function(e){a.d(t,e,(function(){return i[e]}))}(n);a("78a2");var o,d=a("f0c5"),s=Object(d["a"])(i["default"],r["b"],r["c"],!1,null,"5ee6abba",null,!1,r["a"],o);t["default"]=s.exports},ac7d:function(e,t,a){var r=a("24fb");t=r(!1),t.push([e.i,"@charset \"UTF-8\";\r\n/**\r\n * 这里是uni-app内置的常用样式变量\r\n *\r\n * uni-app 官方扩展插件及插件市场（https://ext.dcloud.net.cn）上很多三方插件均使用了这些样式变量\r\n * 如果你是插件开发者，建议你使用scss预处理，并在插件代码中直接使用这些变量（无需 import 这个文件），方便用户通过搭积木的方式开发整体风格一致的App\r\n *\r\n */\r\n/**\r\n * 如果你是App开发者（插件使用者），你可以通过修改这些变量来定制自己的插件主题，实现自定义主题功能\r\n *\r\n * 如果你的项目同样使用了scss预处理，你也可以直接在你的 scss 代码中使用如下变量，同时无需 import 这个文件\r\n */\r\n/* 颜色变量 */\r\n/* 行为相关颜色 */\r\n/* 颜色变量 */\r\n/** S Font's size **/\r\n/** E Font's size **/[data-v-5ee6abba]:export{red_theme:#e60012;brown_theme:#ce853a;bamboo_theme:#06a777;blue_theme:#6e99ff;green_theme:#7ec045}.bt[data-v-5ee6abba]{width:100%;text-align:right}.order-details[data-v-5ee6abba]{position:relative;padding-bottom:calc(%?120?% + env(safe-area-inset-bottom))}.order-details .header-bg[data-v-5ee6abba]{position:absolute;top:0;width:100%;height:%?200?%;background-color:#ff2c3c;z-index:0}.order-details .goods .status[data-v-5ee6abba]{height:%?88?%;padding:0 %?20?%}.order-details .main[data-v-5ee6abba]{position:relative;z-index:1}.order-details .contain[data-v-5ee6abba]{margin:0 %?20?% %?20?%;border-radius:%?14?%;background-color:#fff}.order-details .header[data-v-5ee6abba]{padding:%?24?% %?40?%;box-sizing:border-box}.order-details .img-line[data-v-5ee6abba]{height:1.5px;width:100%;display:block}.order-details .address-wrap[data-v-5ee6abba]{height:%?164?%;padding:0 %?24?%}.order-details .order-info[data-v-5ee6abba]{padding:%?12?% 0}.order-details .order-info .item[data-v-5ee6abba]{padding:%?12?% %?24?%}.order-details .order-info .item .title[data-v-5ee6abba]{width:%?180?%;flex:none}.order-details .price > uni-view[data-v-5ee6abba]{height:%?60?%;padding:0 %?24?%}.order-details .footer[data-v-5ee6abba]{position:fixed;bottom:0;left:0;right:0;height:%?100?%;padding:0 %?24?%;box-sizing:initial;padding-bottom:env(safe-area-inset-bottom)}.footer .plain[data-v-5ee6abba]{border:1px solid #bbb}.footer .plain.red[data-v-5ee6abba]{border:1px solid #ff2c3c}.tips-dialog[data-v-5ee6abba]{height:%?230?%;width:100%}.order-details .invite-btn[data-v-5ee6abba]{background:linear-gradient(270deg,#ff2c3c,#f95f2f);margin:%?30?% %?26?% %?40?%}",""]),e.exports=t},c305:function(e,t,a){"use strict";a.r(t);var r=a("f190"),i=a.n(r);for(var n in r)"default"!==n&&function(e){a.d(t,e,(function(){return r[e]}))}(n);t["default"]=i.a},d441:function(e,t,a){"use strict";var r=a("4ea4");Object.defineProperty(t,"__esModule",{value:!0}),t.orderInfo=n,t.orderBuy=o,t.delOrder=d,t.apiOrderLists=s,t.apiOrderDetail=u,t.apiCancelOrder=c,t.orderTraces=f,t.confirmOrder=l,t.getPayResult=b;var i=r(a("1eb8"));a("a2f3");function n(e){return i.default.post("order/settlement",e)}function o(e){return i.default.post("order/sumbitOrder",e)}function d(e){return i.default.post("order/del",{id:e})}function s(e){return i.default.get("order/lists",{params:e})}function u(e){return i.default.get("order/getOrderDetail",{params:e})}function c(e){return i.default.post("order/cancel",{id:e})}function f(e){return i.default.get("order/orderTraces",{params:{id:e}})}function l(e){return i.default.post("order/confirm",{id:e})}function b(e){return i.default.get("order/pay_result",{params:{id:e}})}},f190:function(e,t,a){"use strict";a("caad"),Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=a("d441"),i=(a("e416"),a("7096"),{data:function(){return{orderDetail:{shop:{}},team:{},isFirstLoading:!0,type:0,cancelTime:0,showCancel:"",showLoading:!1}},onLoad:function(e){var t=this.$Route.query.id;this.id=t,this.getOrderDetailFun()},methods:{onRefresh:function(){uni.$emit("refreshorder");var e=this.type;[0,2].includes(e)?this.getOrderDetailFun():1==e&&setTimeout((function(){uni.navigateBack()}),2e3)},orderDialog:function(){this.$refs.orderDialog.open()},delOrder:function(){var e=this;this.type=1,this.$nextTick((function(){e.orderDialog()}))},comfirmOrder:function(){var e=this;this.type=2,this.$nextTick((function(){e.orderDialog()}))},cancelOrder:function(){var e=this;this.type=0,this.$nextTick((function(){e.orderDialog()}))},payNow:function(){var e=this;uni.$on("payment",(function(t){setTimeout((function(){t.result?(e.$toast({title:"支付成功"}),e.getOrderDetailFun(),uni.$emit("refreshorder"),uni.$off("payment")):e.$toast({title:"支付失败"})}),500)})),uni.navigateTo({url:"/pages/payment/payment?from=".concat("order","&order_id=",this.id)})},getOrderDetailFun:function(){var e=this;(0,r.getOrderDetail)(this.id).then((function(t){1==t.code?(e.cancelTime=t.data.order_cancel_time-Date.now()/1e3,e.orderDetail=t.data,e.team=t.data.team||{},e.$nextTick((function(){e.isFirstLoading=!1}))):setTimeout((function(){return uni.navigateBack()}),1500)}))}},computed:{}});t.default=i}}]);
-- =====================================================
-- 营销聊天后台管理菜单 - 快速添加
-- =====================================================
-- 使用说明：
-- 1. 先查看你的后台菜单表名和结构
-- 2. 修改下面的SQL中的表名（默认为 la_auth）
-- 3. 根据实际情况调整 pid（父级菜单ID）
-- 4. 执行SQL添加菜单
-- =====================================================

-- 方案一：作为"设置"菜单的子菜单（推荐）
-- =====================================================

-- 第一步：查找"设置"菜单的ID
SELECT id, pid, name, uri FROM `la_auth` WHERE name LIKE '%设置%';

-- 假设"设置"菜单ID是 100，添加子菜单
-- 请将下面的 100 替换为实际的设置菜单ID
INSERT INTO `la_auth` (`pid`, `name`, `uri`, `type`, `sort`, `is_show`, `create_time`, `update_time`) 
VALUES 
(100, '营销聊天配置', 'marketing_chat/index', 1, 999, 1, UNIX_TIMESTAMP(), UNIX_TIMESTAMP());

-- =====================================================
-- 方案二：作为"营销"菜单的子菜单
-- =====================================================

-- 第一步：查找"营销"相关菜单的ID
SELECT id, pid, name, uri FROM `la_auth` WHERE name LIKE '%营销%';

-- 假设"营销"菜单ID是 200，添加子菜单
-- 请将下面的 200 替换为实际的营销菜单ID
-- INSERT INTO `la_auth` (`pid`, `name`, `uri`, `type`, `sort`, `is_show`, `create_time`, `update_time`) 
-- VALUES 
-- (200, '聊天配置', 'marketing_chat/index', 1, 999, 1, UNIX_TIMESTAMP(), UNIX_TIMESTAMP());

-- =====================================================
-- 方案三：作为一级菜单（独立显示）
-- =====================================================

-- 创建一级菜单
-- INSERT INTO `la_auth` (`pid`, `name`, `uri`, `type`, `sort`, `is_show`, `create_time`, `update_time`) 
-- VALUES 
-- (0, '营销聊天', 'marketing_chat/index', 1, 500, 1, UNIX_TIMESTAMP(), UNIX_TIMESTAMP());

-- =====================================================
-- 查看添加结果
-- =====================================================

-- 查看刚添加的菜单
SELECT * FROM `la_auth` WHERE name LIKE '%营销聊天%' OR name LIKE '%聊天配置%';

-- 查看所有菜单（用于确认位置）
-- SELECT id, pid, name, uri, sort FROM `la_auth` ORDER BY pid, sort;

-- =====================================================
-- 如果需要删除菜单（谨慎使用）
-- =====================================================

-- 删除菜单（请确认ID后再执行）
-- DELETE FROM `la_auth` WHERE name = '营销聊天配置';

-- =====================================================
-- 权限配置（如果需要）
-- =====================================================

-- 如果系统有角色权限表，可能需要给管理员角色添加权限
-- 请根据实际的权限表结构调整

-- 示例：给所有管理员角色添加权限
-- 假设刚添加的菜单ID是 1001，角色ID是 1
-- INSERT INTO `la_role_auth` (`role_id`, `auth_id`) VALUES (1, 1001);

-- =====================================================
-- 注意事项
-- =====================================================
-- 1. 不同系统的表结构可能不同，请根据实际情况调整
-- 2. 添加菜单后可能需要清除缓存
-- 3. 某些系统需要重新登录才能看到新菜单
-- 4. 如果有权限控制，需要给对应角色分配权限
-- =====================================================

-- 常见表名变体：
-- la_auth / ls_auth / admin_menu / system_menu / auth_rule

-- 常见字段名：
-- id: 菜单ID
-- pid: 父级菜单ID（0表示顶级菜单）
-- name: 菜单名称
-- uri/url/path: 路由地址
-- type: 类型（1=菜单，2=按钮）
-- sort/listorder: 排序
-- is_show/visible/status: 是否显示
-- icon: 图标（可选）
-- create_time: 创建时间
-- update_time: 更新时间

{"version":3,"file":"register.js","sources":["pages/login/register.vue","../../../软件/HBuilderX/HBuilderX/plugins/uniapp-cli-vite/uniPage:/cGFnZXMvbG9naW4vcmVnaXN0ZXIudnVl"],"sourcesContent":["<template>\r\n\t<view class=\"login-container\">\r\n\t\t<view class=\"back-btn\" @click=\"goBack\">\r\n\t\t\t<text class=\"iconfont icon-back\">返回</text>\r\n\t\t</view>\r\n\t\t\r\n\t\t<view class=\"logo-section\">\r\n\t\t\t<text class=\"app-name\">创建账号</text>\r\n\t\t\t<text class=\"sub-title\">加入我们的聊天社区</text>\r\n\t\t</view>\r\n\t\t\r\n\t\t<view class=\"form-section\">\r\n\t\t\t<view class=\"input-group\">\r\n\t\t\t\t<input class=\"input\" v-model=\"username\" placeholder=\"设置用户名 (3-20位)\" placeholder-style=\"color:#999\" />\r\n\t\t\t</view>\r\n\t\t\t\r\n\t\t\t<view class=\"input-group\">\r\n\t\t\t\t<input class=\"input\" v-model=\"nickname\" placeholder=\"设置昵称\" placeholder-style=\"color:#999\" />\r\n\t\t\t</view>\r\n\t\t\t\r\n\t\t\t<view class=\"input-group\">\r\n\t\t\t\t<input class=\"input\" v-model=\"password\" password placeholder=\"设置密码 (至少6位)\" placeholder-style=\"color:#999\" />\r\n\t\t\t</view>\r\n\t\t\t\r\n\t\t\t<view class=\"input-group\">\r\n\t\t\t\t<input class=\"input\" v-model=\"confirmPassword\" password placeholder=\"确认密码\" placeholder-style=\"color:#999\" />\r\n\t\t\t</view>\r\n\t\t\t\r\n\t\t\t<button class=\"login-btn\" :loading=\"loading\" @click=\"handleRegister\">立即注册</button>\r\n\t\t</view>\r\n\t</view>\r\n</template>\r\n\r\n<script setup>\r\nimport { ref, getCurrentInstance } from 'vue'\r\n\r\nconst username = ref('')\r\nconst nickname = ref('')\r\nconst password = ref('')\r\nconst confirmPassword = ref('')\r\nconst loading = ref(false)\r\n\r\nconst { proxy } = getCurrentInstance()\r\n\r\nconst goBack = () => {\r\n\tuni.navigateBack()\r\n}\r\n\r\nconst handleRegister = async () => {\r\n\tif (!username.value || !password.value || !confirmPassword.value) {\r\n\t\treturn uni.showToast({ title: '请填写完整信息', icon: 'none' })\r\n\t}\r\n\tif (password.value !== confirmPassword.value) {\r\n\t\treturn uni.showToast({ title: '两次密码输入不一致', icon: 'none' })\r\n\t}\r\n\tif (username.value.length < 3) {\r\n\t\treturn uni.showToast({ title: '用户名太短', icon: 'none' })\r\n\t}\r\n\tif (password.value.length < 6) {\r\n\t\treturn uni.showToast({ title: '密码至少6位', icon: 'none' })\r\n\t}\r\n\t\r\n\tloading.value = true\r\n\ttry {\r\n\t\tconst res = await proxy.$request({\r\n\t\t\turl: '/register',\r\n\t\t\tmethod: 'POST',\r\n\t\t\tdata: {\r\n\t\t\t\tusername: username.value,\r\n\t\t\t\tnickname: nickname.value || username.value,\r\n\t\t\t\tpassword: password.value\r\n\t\t\t}\r\n\t\t})\r\n\t\t\r\n\t\tif (res.success) {\r\n\t\t\tuni.showToast({ title: '注册成功，请登录', icon: 'success' })\r\n\t\t\tsetTimeout(() => {\r\n\t\t\t\tuni.navigateBack()\r\n\t\t\t}, 1500)\r\n\t\t} else {\r\n\t\t\tuni.showToast({ title: res.message || '注册失败', icon: 'none' })\r\n\t\t}\r\n\t} catch (e) {\r\n\t\tuni.showToast({ title: '网络请求错误', icon: 'none' })\r\n\t} finally {\r\n\t\tloading.value = false\r\n\t}\r\n}\r\n</script>\r\n\r\n<style>\r\n\t.login-container {\r\n\t\tpadding: 60rpx;\r\n\t\tbackground-color: #ffffff;\r\n\t\tmin-height: 100vh;\r\n\t}\r\n\t\r\n\t.back-btn {\r\n\t\tmargin-top: 20rpx;\r\n\t\tpadding: 20rpx 0;\r\n\t}\r\n\t\r\n\t.logo-section {\r\n\t\tmargin-top: 60rpx;\r\n\t\tmargin-bottom: 80rpx;\r\n\t}\r\n\t\r\n\t.app-name {\r\n\t\tfont-size: 48rpx;\r\n\t\tfont-weight: bold;\r\n\t\tcolor: #333;\r\n\t\tdisplay: block;\r\n\t}\r\n\t\r\n\t.sub-title {\r\n\t\tfont-size: 28rpx;\r\n\t\tcolor: #999;\r\n\t\tmargin-top: 10rpx;\r\n\t\tdisplay: block;\r\n\t}\r\n\t\r\n\t.input-group {\r\n\t\theight: 110rpx;\r\n\t\tborder-bottom: 1px solid #eeeeee;\r\n\t\tmargin-bottom: 30rpx;\r\n\t\tdisplay: flex;\r\n\t\talign-items: center;\r\n\t}\r\n\t\r\n\t.input {\r\n\t\tflex: 1;\r\n\t\theight: 80rpx;\r\n\t\tfont-size: 30rpx;\r\n\t\tcolor: #333;\r\n\t}\r\n\t\r\n\t.login-btn {\r\n\t\twidth: 100%;\r\n\t\theight: 94rpx;\r\n\t\tline-height: 94rpx;\r\n\t\tbackground: linear-gradient(to right, #007AFF, #00aaff);\r\n\t\tcolor: #ffffff;\r\n\t\tfont-size: 34rpx;\r\n\t\tborder-radius: 47rpx;\r\n\t\tmargin-top: 80rpx;\r\n\t}\r\n</style>\r\n","import MiniProgramPage from 'D:/代码测试/shop1/uniapp/pages/login/register.vue'\nwx.createPage(MiniProgramPage)"],"names":["ref","getCurrentInstance","uni","MiniProgramPage"],"mappings":";;;;;AAoCA,UAAM,WAAWA,cAAG,IAAC,EAAE;AACvB,UAAM,WAAWA,cAAG,IAAC,EAAE;AACvB,UAAM,WAAWA,cAAG,IAAC,EAAE;AACvB,UAAM,kBAAkBA,cAAG,IAAC,EAAE;AAC9B,UAAM,UAAUA,cAAG,IAAC,KAAK;AAEzB,UAAM,EAAE,MAAO,IAAGC,iCAAoB;AAEtC,UAAM,SAAS,MAAM;AACpBC,oBAAAA,MAAI,aAAc;AAAA,IACnB;AAEA,UAAM,iBAAiB,YAAY;AAClC,UAAI,CAAC,SAAS,SAAS,CAAC,SAAS,SAAS,CAAC,gBAAgB,OAAO;AACjE,eAAOA,cAAAA,MAAI,UAAU,EAAE,OAAO,WAAW,MAAM,QAAQ;AAAA,MACvD;AACD,UAAI,SAAS,UAAU,gBAAgB,OAAO;AAC7C,eAAOA,cAAAA,MAAI,UAAU,EAAE,OAAO,aAAa,MAAM,QAAQ;AAAA,MACzD;AACD,UAAI,SAAS,MAAM,SAAS,GAAG;AAC9B,eAAOA,cAAAA,MAAI,UAAU,EAAE,OAAO,SAAS,MAAM,QAAQ;AAAA,MACrD;AACD,UAAI,SAAS,MAAM,SAAS,GAAG;AAC9B,eAAOA,cAAAA,MAAI,UAAU,EAAE,OAAO,UAAU,MAAM,QAAQ;AAAA,MACtD;AAED,cAAQ,QAAQ;AAChB,UAAI;AACH,cAAM,MAAM,MAAM,MAAM,SAAS;AAAA,UAChC,KAAK;AAAA,UACL,QAAQ;AAAA,UACR,MAAM;AAAA,YACL,UAAU,SAAS;AAAA,YACnB,UAAU,SAAS,SAAS,SAAS;AAAA,YACrC,UAAU,SAAS;AAAA,UACnB;AAAA,QACJ,CAAG;AAED,YAAI,IAAI,SAAS;AAChBA,wBAAG,MAAC,UAAU,EAAE,OAAO,YAAY,MAAM,WAAW;AACpD,qBAAW,MAAM;AAChBA,0BAAAA,MAAI,aAAc;AAAA,UAClB,GAAE,IAAI;AAAA,QACV,OAAS;AACNA,8BAAI,UAAU,EAAE,OAAO,IAAI,WAAW,QAAQ,MAAM,QAAQ;AAAA,QAC5D;AAAA,MACD,SAAQ,GAAG;AACXA,sBAAG,MAAC,UAAU,EAAE,OAAO,UAAU,MAAM,QAAQ;AAAA,MACjD,UAAW;AACT,gBAAQ,QAAQ;AAAA,MAChB;AAAA,IACF;;;;;;;;;;;;;;;;;;ACtFA,GAAG,WAAWC,SAAe;"}
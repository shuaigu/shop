{"version":3,"file":"subChoujiang.js","sources":["subPages/subChoujiang/subChoujiang.vue","D:/代码测试/HBuilderX.4.45.2025010502/HBuilderX/plugins/uniapp-cli-vite/uniPage:/c3ViUGFnZXNcc3ViQ2hvdWppYW5nXHN1YkNob3VqaWFuZy52dWU"],"sourcesContent":["<template>\n\t<view class=\"container\">\n\t\t<view class=\"settings-panel\" v-if=\"showSettings\">\n\t\t\t<view class=\"settings-header\">\n\t\t\t\t<text class=\"settings-title\">抽奖设置</text>\n\t\t\t\t<button class=\"close-btn\" @click=\"showSettings = false\">关闭</button>\n\t\t\t</view>\n\t\t\t\n\t\t\t<view class=\"prize-settings\">\n\t\t\t\t<view class=\"section-title\">奖品设置</view>\n\t\t\t\t<view class=\"prize-item\" v-for=\"(prize, index) in prizes\" :key=\"index\" v-if=\"prize && prize.type !== 'center'\">\n\t\t\t\t\t<input class=\"prize-name\" v-model=\"prize.name\" placeholder=\"奖品名称\" />\n\t\t\t\t\t<picker v-if=\"prize.type !== 'center' && prizeTypeIndex[index] !== undefined\" \n\t\t\t\t\t\t:value=\"prizeTypeIndex[index]\" \n\t\t\t\t\t\t:range=\"prizeTypes\" \n\t\t\t\t\t\trange-key=\"name\" \n\t\t\t\t\t\t@change=\"(e) => changePrizeType(index, e)\"\n\t\t\t\t\t>\n\t\t\t\t\t\t<view class=\"picker\">\n\t\t\t\t\t\t\t类型: {{prizeTypeIndex[index] >= 0 ? prizeTypes[prizeTypeIndex[index]].name : ''}}\n\t\t\t\t\t\t</view>\n\t\t\t\t\t</picker>\n\t\t\t\t</view>\n\t\t\t</view>\n\t\t\t\n\t\t\t<view class=\"probability-settings\">\n\t\t\t\t<view class=\"section-title\">概率设置（总和需为100%）</view>\n\t\t\t\t<view class=\"prob-item\">\n\t\t\t\t\t<text>谢谢参与概率(%):</text>\n\t\t\t\t\t<input class=\"prob-input\" type=\"number\" :value=\"(probability.empty * 100).toFixed(1)\" @input=\"(e) => updateProbability('empty', parseFloat(e.detail.value)/100)\" />\n\t\t\t\t</view>\n\t\t\t\t<view class=\"prob-item\">\n\t\t\t\t\t<text>小额奖品概率(%):</text>\n\t\t\t\t\t<input class=\"prob-input\" type=\"number\" :value=\"(probability.small * 100).toFixed(1)\" @input=\"(e) => updateProbability('small', parseFloat(e.detail.value)/100)\" />\n\t\t\t\t</view>\n\t\t\t\t<view class=\"prob-item\">\n\t\t\t\t\t<text>中额奖品概率(%):</text>\n\t\t\t\t\t<input class=\"prob-input\" type=\"number\" :value=\"(probability.medium * 100).toFixed(1)\" @input=\"(e) => updateProbability('medium', parseFloat(e.detail.value)/100)\" />\n\t\t\t\t</view>\n\t\t\t\t<view class=\"prob-item\">\n\t\t\t\t\t<text>大额奖品概率(%):</text>\n\t\t\t\t\t<input class=\"prob-input\" type=\"number\" :value=\"(probability.large * 100).toFixed(1)\" @input=\"(e) => updateProbability('large', parseFloat(e.detail.value)/100)\" />\n\t\t\t\t</view>\n\t\t\t\t\n\t\t\t\t<text class=\"total-prob\" :class=\"{'error': !isProbabilityValid}\">\n\t\t\t\t\t总概率: {{getTotalProbability()}}% {{isProbabilityValid ? '' : '(需调整为100%)'}}\n\t\t\t\t</text>\n\t\t\t</view>\n\t\t\t\n\t\t\t<button class=\"save-btn\" @click=\"saveSettings\">保存设置</button>\n\t\t</view>\n\t\t\n\t\t<!-- 手动指定奖品面板 -->\n\t\t<view class=\"manual-panel\" v-if=\"showManualInput\">\n\t\t\t<view class=\"settings-header\">\n\t\t\t\t<text class=\"settings-title\">指定奖品</text>\n\t\t\t\t<button class=\"close-btn\" @click=\"showManualInput = false\">关闭</button>\n\t\t\t</view>\n\t\t\t\n\t\t\t<view class=\"section-title\">选择奖品</view>\n\t\t\t<view class=\"prize-select\">\n\t\t\t\t<picker v-if=\"prizes.length > 0\"\n\t\t\t\t\t:value=\"selectedPrizeIndex\" \n\t\t\t\t\t:range=\"prizeSelectOptions\" \n\t\t\t\t\t@change=\"(e) => selectedPrizeIndex = parseInt(e.detail.value)\"\n\t\t\t\t>\n\t\t\t\t\t<view class=\"picker-full\">\n\t\t\t\t\t\t选择奖品: {{prizeSelectOptions[selectedPrizeIndex]}}\n\t\t\t\t\t</view>\n\t\t\t\t</picker>\n\t\t\t</view>\n\t\t\t\n\t\t\t<view class=\"custom-prize\">\n\t\t\t\t<view class=\"section-title\">或自定义奖品</view>\n\t\t\t\t<input class=\"manual-input\" v-model=\"customPrize\" placeholder=\"请输入自定义奖品名称\" />\n\t\t\t</view>\n\t\t\t\n\t\t\t<button class=\"confirm-btn\" @click=\"confirmManualPrize\">确认</button>\n\t\t</view>\n\t\t\n\t\t<view class=\"action-btns\" v-if=\"!showSettings && !showManualInput && !isRunning\">\n\t\t\t<button class=\"settings-btn\" @click=\"showSettings = true\">设置</button>\n\t\t\t<button class=\"manual-btn\" @click=\"showManualInput = true\">指定奖品</button>\n\t\t\t<text class=\"mode-text\">当前模式: {{isManualMode ? '手动指定' : '随机抽奖'}}</text>\n\t\t</view>\n\t\t\n\t\t<view class=\"lottery-container\" v-if=\"!showSettings && !showManualInput\">\n\t\t\t<view class=\"lottery-grid\">\n\t\t\t\t<view \n\t\t\t\t\tv-for=\"(prize, index) in prizes\" \n\t\t\t\t\t:key=\"index\" \n\t\t\t\t\t:class=\"['lottery-item', {'active': currentIndex === index}, {'center': prize && prize.type === 'center'}]\"\n\t\t\t\t\t@click=\"startLottery(prize, index)\"\n\t\t\t\t>\n\t\t\t\t\t<text>{{prize ? prize.name : ''}}</text>\n\t\t\t\t</view>\n\t\t\t</view>\n\t\t</view>\n\t\t\n\t\t<view class=\"result\" v-if=\"lotteryResult && !showSettings && !showManualInput\">\n\t\t\t<text class=\"result-text\">{{lotteryResult.message}}</text>\n\t\t\t<button class=\"again-btn\" @click=\"resetLottery\">再来一次</button>\n\t\t</view>\n\t</view>\n</template>\n\n<script setup>\nimport { ref, reactive, computed, onMounted, watch } from 'vue';\n\n// 状态变量\nconst showSettings = ref(false);\nconst showManualInput = ref(false);\nconst isManualMode = ref(false);\nconst prizes = ref([]);\nconst sequence = ref([]);\nconst currentIndex = ref(-1);\nconst isRunning = ref(false);\nconst timer = ref(null);\nconst speed = ref(100);\nconst times = ref(0);\nconst cycle = ref(50);\nconst targetIndex = ref(0);\nconst lotteryResult = ref(null);\nconst isLoading = ref(true);\nconst prizeResult = ref(null);\n\n// 手动指定奖品相关\nconst selectedPrizeIndex = ref(0);\nconst customPrize = ref('');\nconst manualTargetIndex = ref(-1);\n\n// 奖品类型设置\nconst prizeTypes = [\n\t{ id: 'empty', name: '谢谢参与' },\n\t{ id: 'small', name: '小额奖品' },\n\t{ id: 'medium', name: '中额奖品' },\n\t{ id: 'large', name: '大额奖品' }\n];\n\n// 对应prizes的类型索引\nconst prizeTypeIndex = reactive({});\n\n// 中奖概率设置\nconst probability = reactive({\n\tempty: 0.6,   // 谢谢参与概率: 60%\n\tsmall: 0.25,  // 小额奖品概率: 25%\n\tmedium: 0.1,  // 中额奖品概率: 10%\n\tlarge: 0.05   // 大额奖品概率: 5%\n});\n\n// 计算picker选择器的奖品选项\nconst prizeSelectOptions = computed(() => {\n\tif (!prizes.value || prizes.value.length === 0) return [];\n\treturn prizes.value\n\t\t.filter(prize => prize && prize.type !== 'center')\n\t\t.map(prize => prize.name);\n});\n\n// 计算属性\nconst isProbabilityValid = computed(() => {\n\treturn Math.abs(getTotalProbability() - 100) < 0.1;\n});\n\n// 从云函数获取初始数据\nconst initData = async () => {\n\ttry {\n\t\tisLoading.value = true;\n\t\t\n\t\t// 调用云函数获取奖品列表和概率设置\n\t\tconst res = await uniCloud.callFunction({\n\t\t\tname: 'choujiangWx',\n\t\t\tdata: {\n\t\t\t\tmethod: 'getPrizes'\n\t\t\t}\n\t\t});\n\t\t\n\t\tif (res && res.result && res.result.success) {\n\t\t\t// 设置奖品和序列\n\t\t\tprizes.value = res.result.prizes || [];\n\t\t\tsequence.value = res.result.sequence || [];\n\t\t\t\n\t\t\t// 设置概率\n\t\t\tif (res.result.probabilityConfig) {\n\t\t\t\tObject.assign(probability, res.result.probabilityConfig);\n\t\t\t}\n\t\t\t\n\t\t\t// 初始化奖品类型索引\n\t\t\tinitPrizeTypeIndex();\n\t\t} else {\n\t\t\tuni.showToast({\n\t\t\t\ttitle: (res && res.result) ? res.result.message || '获取奖品数据失败' : '获取奖品数据失败',\n\t\t\t\ticon: 'none'\n\t\t\t});\n\t\t}\n\t} catch (e) {\n\t\tuni.showToast({\n\t\t\ttitle: '获取奖品数据失败',\n\t\t\ticon: 'none'\n\t\t});\n\t\tconsole.error(e);\n\t} finally {\n\t\tisLoading.value = false;\n\t}\n};\n\n// 初始化奖品类型索引\nconst initPrizeTypeIndex = () => {\n\tprizes.value.forEach((prize, index) => {\n\t\tif (!prize) return;\n\t\t\n\t\tif (prize.type === 'center') {\n\t\t\tprizeTypeIndex[index] = -1;\n\t\t} else {\n\t\t\t// 根据prizeType设置类型索引\n\t\t\tconst type = prize.prizeType || (prize.type === 'empty' ? 'empty' : 'small');\n\t\t\t\n\t\t\t// 找到对应的类型索引\n\t\t\tconst typeIdx = prizeTypes.findIndex(item => item.id === type);\n\t\t\tprizeTypeIndex[index] = typeIdx >= 0 ? typeIdx : 0;\n\t\t}\n\t});\n};\n\n// 计算总概率\nconst getTotalProbability = () => {\n\tconst total = probability.empty + probability.small + probability.medium + probability.large;\n\treturn (total * 100).toFixed(1);\n};\n\n// 更新概率设置\nconst updateProbability = (type, value) => {\n\tprobability[type] = value;\n};\n\n// 改变奖品类型\nconst changePrizeType = (index, event) => {\n\tconst typeIndex = event.detail.value;\n\tprizeTypeIndex[index] = typeIndex;\n\t\n\tif (!prizes.value[index]) return;\n\t\n\tconst typeId = prizeTypes[typeIndex].id;\n\t\n\t// 更新奖品类型\n\tif (typeId === 'empty') {\n\t\tprizes.value[index].type = 'empty';\n\t} else {\n\t\tprizes.value[index].type = 'reward';\n\t}\n\t\n\t// 更新奖品的prizeType\n\tprizes.value[index].prizeType = typeId;\n};\n\n// 确认手动指定奖品\nconst confirmManualPrize = () => {\n\tisManualMode.value = true;\n\t\n\t// 如果有自定义奖品输入，优先使用自定义奖品\n\tif (customPrize.value) {\n\t\t// 查找可能的位置（非中心点）\n\t\tconst validIndices = [0, 1, 2, 3, 5, 6, 7, 8]; // 除去中心点击按钮\n\t\tconst randomIndex = Math.floor(Math.random() * validIndices.length);\n\t\tmanualTargetIndex.value = sequence.value.findIndex(item => item === validIndices[randomIndex]);\n\t\t\n\t\t// 创建临时自定义奖品\n\t\tconst tempPrize = {\n\t\t\tname: customPrize.value,\n\t\t\ttype: 'reward',\n\t\t\tprizeType: 'custom'\n\t\t};\n\t\tprizeResult.value = {\n\t\t\tsuccess: true,\n\t\t\tprize: tempPrize,\n\t\t\tselectedIndex: validIndices[randomIndex],\n\t\t\ttargetPosition: manualTargetIndex.value\n\t\t};\n\t} else {\n\t\t// 使用选择的奖品\n\t\tconst allPrizes = prizes.value.filter(prize => prize && prize.type !== 'center');\n\t\tif (allPrizes.length > 0 && selectedPrizeIndex.value < allPrizes.length) {\n\t\t\tconst selectedPrize = allPrizes[selectedPrizeIndex.value];\n\t\t\t\n\t\t\t// 查找该奖品在原始数组中的索引\n\t\t\tconst prizeIndex = prizes.value.findIndex(p => p && p.name === selectedPrize.name);\n\t\t\tif (prizeIndex >= 0) {\n\t\t\t\tmanualTargetIndex.value = sequence.value.findIndex(item => item === prizeIndex);\n\t\t\t\t\n\t\t\t\tprizeResult.value = {\n\t\t\t\t\tsuccess: true,\n\t\t\t\t\tprize: selectedPrize,\n\t\t\t\t\tselectedIndex: prizeIndex,\n\t\t\t\t\ttargetPosition: manualTargetIndex.value\n\t\t\t\t};\n\t\t\t}\n\t\t}\n\t}\n\t\n\tshowManualInput.value = false;\n\t\n\t// 显示提示\n\tuni.showToast({\n\t\ttitle: '奖品已指定',\n\t\ticon: 'success'\n\t});\n};\n\n// 保存设置到云端\nconst saveSettings = async () => {\n\tif (!isProbabilityValid.value) {\n\t\tuni.showToast({\n\t\t\ttitle: '概率总和必须为100%',\n\t\t\ticon: 'none'\n\t\t});\n\t\treturn;\n\t}\n\t\n\ttry {\n\t\t// 调用云函数更新概率设置\n\t\tconst res = await uniCloud.callFunction({\n\t\t\tname: 'choujiangWx',\n\t\t\tdata: {\n\t\t\t\tmethod: 'updateProbability',\n\t\t\t\tdata: {\n\t\t\t\t\tprobability: probability\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\t\t\n\t\tif (res && res.result && res.result.success) {\n\t\t\tshowSettings.value = false;\n\t\t\tuni.showToast({\n\t\t\t\ttitle: '设置已保存',\n\t\t\t\ticon: 'success'\n\t\t\t});\n\t\t} else {\n\t\t\tuni.showToast({\n\t\t\t\ttitle: (res && res.result) ? res.result.message || '保存失败' : '保存失败',\n\t\t\t\ticon: 'none'\n\t\t\t});\n\t\t}\n\t} catch (e) {\n\t\tuni.showToast({\n\t\t\ttitle: '保存设置失败',\n\t\t\ticon: 'none'\n\t\t});\n\t\tconsole.error(e);\n\t}\n};\n\n// 开始抽奖\nconst startLottery = async (prize, index) => {\n\t// 如果不是中心按钮或者正在抽奖中，不执行操作\n\tif (!prize || prize.type !== 'center' || isRunning.value) {\n\t\treturn;\n\t}\n\t\n\t// 重置抽奖结果\n\tlotteryResult.value = null;\n\t\n\ttry {\n\t\t// 如果是手动模式，使用已选择的奖品\n\t\tif (isManualMode.value && prizeResult.value) {\n\t\t\t// 设置目标位置\n\t\t\ttargetIndex.value = prizeResult.value.targetPosition >= 0 ? \n\t\t\t\tprizeResult.value.targetPosition : 0;\n\t\t\t\t\n\t\t\t// 开始抽奖动画\n\t\t\tisRunning.value = true;\n\t\t\ttimes.value = 0;\n\t\t\tspeed.value = 100;\n\t\t\trunLottery();\n\t\t}\n\t\t// 否则使用云函数随机抽奖\n\t\telse {\n\t\t\tisManualMode.value = false;\n\t\t\t// 调用云函数执行抽奖\n\t\t\tconst res = await uniCloud.callFunction({\n\t\t\t\tname: 'choujiangWx',\n\t\t\t\tdata: {\n\t\t\t\t\tmethod: 'doLottery',\n\t\t\t\t\tdata: {\n\t\t\t\t\t\tuserId: 'test-user' // 这里可以传入用户ID等信息\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t});\n\t\t\t\n\t\t\tif (res && res.result && res.result.success) {\n\t\t\t\t// 设置目标位置\n\t\t\t\ttargetIndex.value = res.result.targetPosition;\n\t\t\t\t\n\t\t\t\t// 开始抽奖动画\n\t\t\t\tisRunning.value = true;\n\t\t\t\ttimes.value = 0;\n\t\t\t\tspeed.value = 100;\n\t\t\t\trunLottery();\n\t\t\t\t\n\t\t\t\t// 保存抽奖结果用于显示\n\t\t\t\tprizeResult.value = res.result;\n\t\t\t} else {\n\t\t\t\tuni.showToast({\n\t\t\t\t\ttitle: (res && res.result) ? res.result.message || '抽奖失败' : '抽奖失败',\n\t\t\t\t\ticon: 'none'\n\t\t\t\t});\n\t\t\t}\n\t\t}\n\t} catch (e) {\n\t\tuni.showToast({\n\t\t\ttitle: '抽奖失败，请重试',\n\t\t\ticon: 'none'\n\t\t});\n\t\tconsole.error(e);\n\t}\n};\n\n// 抽奖动画\nconst runLottery = () => {\n\ttimer.value = setTimeout(() => {\n\t\t// 转动次数递增\n\t\ttimes.value++;\n\t\t\n\t\t// 计算当前位置\n\t\tlet index = times.value % sequence.value.length;\n\t\tcurrentIndex.value = sequence.value[index];\n\t\t\n\t\t// 加速期\n\t\tif (times.value < cycle.value) {\n\t\t\tspeed.value -= 10;\n\t\t\tif (speed.value < 40) {\n\t\t\t\tspeed.value = 40;\n\t\t\t}\n\t\t} \n\t\t// 减速期\n\t\telse if (times.value > cycle.value + 10 && ((index > targetIndex.value && targetIndex.value === 0) || index === targetIndex.value)) {\n\t\t\tspeed.value += 110;\n\t\t} \n\t\t// 慢速转动期\n\t\telse {\n\t\t\tspeed.value += 20;\n\t\t}\n\t\t\n\t\t// 结束抽奖\n\t\tif (times.value > cycle.value + 10 && index === targetIndex.value) {\n\t\t\tclearTimeout(timer.value);\n\t\t\tisRunning.value = false;\n\t\t\tshowResult();\n\t\t} else {\n\t\t\trunLottery();\n\t\t}\n\t}, speed.value);\n};\n\n// 显示抽奖结果\nconst showResult = () => {\n\t// 如果有抽奖结果，使用它\n\tif (prizeResult.value && prizeResult.value.prize) {\n\t\tconst prize = prizeResult.value.prize;\n\t\tlet message = '';\n\t\t\n\t\tif (prize.type === 'empty') {\n\t\t\tmessage = '很遗憾，谢谢参与！';\n\t\t} else {\n\t\t\tmessage = `恭喜您获得${prize.name}！`;\n\t\t}\n\t\t\n\t\tlotteryResult.value = {\n\t\t\tprize,\n\t\t\tmessage\n\t\t};\n\t} else {\n\t\t// 兜底方案，使用当前显示的奖品\n\t\tconst prize = prizes.value[currentIndex.value];\n\t\tif (!prize) return;\n\t\t\n\t\tlet message = '';\n\t\t\n\t\tif (prize.type === 'empty') {\n\t\t\tmessage = '很遗憾，谢谢参与！';\n\t\t} else {\n\t\t\tmessage = `恭喜您获得${prize.name}！`;\n\t\t}\n\t\t\n\t\tlotteryResult.value = {\n\t\t\tprize,\n\t\t\tmessage\n\t\t};\n\t}\n};\n\n// 重置抽奖\nconst resetLottery = () => {\n\tcurrentIndex.value = -1;\n\tlotteryResult.value = null;\n\t\n\t// 如果是一次性手动模式，重置为随机模式\n\tif (isManualMode.value) {\n\t\tisManualMode.value = false;\n\t\tprizeResult.value = null;\n\t\tcustomPrize.value = '';\n\t}\n};\n\n// 页面加载时初始化数据\nonMounted(() => {\n\tinitData();\n});\n</script>\n\n<style>\n.container {\n\tpadding: 30rpx;\n\tposition: relative;\n}\n\n.settings-panel, .manual-panel {\n\tposition: absolute;\n\ttop: 0;\n\tleft: 0;\n\twidth: 100%;\n\tbackground-color: #fff;\n\tz-index: 10;\n\tpadding: 30rpx;\n\tbox-sizing: border-box;\n}\n\n.settings-header {\n\tdisplay: flex;\n\tjustify-content: space-between;\n\talign-items: center;\n\tmargin-bottom: 30rpx;\n}\n\n.settings-title {\n\tfont-size: 36rpx;\n\tfont-weight: bold;\n}\n\n.close-btn {\n\tpadding: 0 20rpx;\n\theight: 60rpx;\n\tline-height: 60rpx;\n\tfont-size: 28rpx;\n}\n\n.section-title {\n\tfont-size: 32rpx;\n\tfont-weight: bold;\n\tmargin: 20rpx 0;\n\tborder-left: 6rpx solid #ff6600;\n\tpadding-left: 20rpx;\n}\n\n.prize-item {\n\tdisplay: flex;\n\talign-items: center;\n\tpadding: 15rpx 0;\n\tborder-bottom: 1px solid #f0f0f0;\n}\n\n.prize-name {\n\tflex: 1;\n\tborder: 1px solid #eee;\n\tpadding: 10rpx;\n\tmargin-right: 20rpx;\n}\n\n.picker {\n\twidth: 200rpx;\n\tpadding: 10rpx;\n\tborder: 1px solid #eee;\n\ttext-align: center;\n}\n\n.picker-full {\n\twidth: 100%;\n\tpadding: 20rpx;\n\tborder: 1px solid #eee;\n\ttext-align: center;\n\tmargin: 20rpx 0;\n}\n\n.prize-select {\n\tmargin: 20rpx 0;\n}\n\n.manual-input {\n\twidth: 100%;\n\theight: 80rpx;\n\tborder: 1px solid #eee;\n\tpadding: 0 20rpx;\n\tmargin: 20rpx 0;\n\tbox-sizing: border-box;\n}\n\n.confirm-btn, .save-btn {\n\tmargin-top: 40rpx;\n\tbackground-color: #ff6600;\n\tcolor: #fff;\n}\n\n.action-btns {\n\tdisplay: flex;\n\tflex-direction: column;\n\talign-items: center;\n\tmargin-bottom: 20rpx;\n}\n\n.settings-btn, .manual-btn {\n\twidth: 300rpx;\n\tmargin-bottom: 20rpx;\n\tbackground-color: #f0f0f0;\n\tfont-size: 28rpx;\n}\n\n.manual-btn {\n\tbackground-color: #ffcc00;\n\tcolor: #fff;\n}\n\n.mode-text {\n\tfont-size: 28rpx;\n\tcolor: #666;\n\tmargin-top: 10rpx;\n}\n\n.prob-item {\n\tmargin-bottom: 20rpx;\n\tdisplay: flex;\n\talign-items: center;\n\tjustify-content: space-between;\n}\n\n.prob-input {\n\twidth: 150rpx;\n\theight: 60rpx;\n\tborder: 1px solid #eee;\n\tpadding: 0 10rpx;\n\ttext-align: center;\n}\n\n.total-prob {\n\tdisplay: block;\n\tmargin: 30rpx 0;\n\ttext-align: center;\n\tfont-weight: bold;\n}\n\n.total-prob.error {\n\tcolor: #ff0000;\n}\n\n.lottery-container {\n\twidth: 100%;\n\theight: 600rpx;\n\tdisplay: flex;\n\tjustify-content: center;\n\talign-items: center;\n\tmargin-top: 80rpx;\n}\n\n.lottery-grid {\n\twidth: 600rpx;\n\theight: 600rpx;\n\tdisplay: flex;\n\tflex-wrap: wrap;\n\tposition: relative;\n}\n\n.lottery-item {\n\twidth: 200rpx;\n\theight: 200rpx;\n\tbox-sizing: border-box;\n\tborder: 1px solid #ccc;\n\tdisplay: flex;\n\tjustify-content: center;\n\talign-items: center;\n\tbackground-color: #f9f9f9;\n}\n\n.lottery-item.active {\n\tbackground-color: #ffcc00;\n\tcolor: #fff;\n}\n\n.lottery-item.center {\n\tbackground-color: #ff6600;\n\tcolor: #fff;\n}\n\n.result {\n\tmargin-top: 40rpx;\n\tdisplay: flex;\n\tflex-direction: column;\n\talign-items: center;\n}\n\n.result-text {\n\tfont-size: 36rpx;\n\tmargin-bottom: 20rpx;\n}\n\n.again-btn {\n\twidth: 300rpx;\n\tbackground-color: #ff6600;\n\tcolor: #fff;\n}\n\n.custom-prize {\n\tmargin-top: 40rpx;\n}\n</style>\n","import MiniProgramPage from 'E:/dy2/subPages/subChoujiang/subChoujiang.vue'\ntt.createPage(MiniProgramPage)"],"names":["ref","reactive","computed","uniCloud","uni","onMounted","MiniProgramPage"],"mappings":"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"}
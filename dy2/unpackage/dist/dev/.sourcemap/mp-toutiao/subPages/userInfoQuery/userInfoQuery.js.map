{"version":3,"file":"userInfoQuery.js","sources":["subPages/userInfoQuery/userInfoQuery.vue","D:/代码测试/HBuilderX.4.45.2025010502/HBuilderX/plugins/uniapp-cli-vite/uniPage:/c3ViUGFnZXNcdXNlckluZm9RdWVyeVx1c2VySW5mb1F1ZXJ5LnZ1ZQ"],"sourcesContent":["<script setup>\r\n\timport { ref, reactive } from 'vue';\r\n\t\r\n\tconst searchForm = reactive({\r\n\t\tmobile: '',\r\n\t\tnickName: ''\r\n\t});\r\n\t\r\n\tconst userList = ref([]);\r\n\tconst loading = ref(false);\r\n\tconst hasMore = ref(true);\r\n\tconst page = ref(1);\r\n\tconst pageSize = 10;\r\n\t\r\n\t// 定义可用的角色列表\r\n\tconst availableRoles = [\r\n\t\t{ id: 'user', name: '普通用户', description: '基础用户权限' },\r\n\t\t{ id: 'admin', name: '管理员', description: '拥有系统管理权限' },\r\n\t\t{ id: 'vip', name: 'VIP用户', description: '拥有特殊内容访问权限' },\r\n\t\t{ id: 'editor', name: '编辑', description: '可以编辑和发布内容' }\r\n\t];\r\n\t\r\n\t// 用户API\r\n\tconst userApi = uniCloud.importObject('user', { customUI: true });\r\n\t\r\n\t// 搜索用户\r\n\tconst searchUsers = async () => {\r\n\t\t// 检查是否至少有一个搜索条件\r\n\t\tif (!searchForm.mobile && !searchForm.nickName) {\r\n\t\t\tuni.showToast({\r\n\t\t\t\ttitle: '请输入手机号或昵称',\r\n\t\t\t\ticon: 'none'\r\n\t\t\t});\r\n\t\t\treturn;\r\n\t\t}\r\n\t\t\r\n\t\ttry {\r\n\t\t\tloading.value = true;\r\n\t\t\tpage.value = 1;\r\n\t\t\tconst result = await userApi.queryUsers({\r\n\t\t\t\t...searchForm,\r\n\t\t\t\tpage: page.value,\r\n\t\t\t\tpageSize\r\n\t\t\t});\r\n\t\t\t\r\n\t\t\t// 确保每个用户都有 user 角色\r\n\t\t\tuserList.value = result.data.map(user => ensureUserRole(user));\r\n\t\t\thasMore.value = result.data.length >= pageSize;\r\n\t\t\t\r\n\t\t\tif (userList.value.length === 0) {\r\n\t\t\t\tuni.showToast({\r\n\t\t\t\t\ttitle: '未找到匹配的用户',\r\n\t\t\t\t\ticon: 'none'\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t} catch (e) {\r\n\t\t\tuni.showToast({\r\n\t\t\t\ttitle: '查询失败: ' + e.message,\r\n\t\t\t\ticon: 'none'\r\n\t\t\t});\r\n\t\t} finally {\r\n\t\t\tloading.value = false;\r\n\t\t}\r\n\t};\r\n\t\r\n\t// 加载更多\r\n\tconst loadMore = async () => {\r\n\t\tif (!hasMore.value || loading.value) return;\r\n\t\t\r\n\t\ttry {\r\n\t\t\tloading.value = true;\r\n\t\t\tpage.value++;\r\n\t\t\t\r\n\t\t\tconst result = await userApi.queryUsers({\r\n\t\t\t\t...searchForm,\r\n\t\t\t\tpage: page.value,\r\n\t\t\t\tpageSize\r\n\t\t\t});\r\n\t\t\t\r\n\t\t\t// 确保每个用户都有 user 角色\r\n\t\t\tconst newUsers = result.data.map(user => ensureUserRole(user));\r\n\t\t\tuserList.value = [...userList.value, ...newUsers];\r\n\t\t\thasMore.value = result.data.length >= pageSize;\r\n\t\t} catch (e) {\r\n\t\t\tuni.showToast({\r\n\t\t\t\ttitle: '加载失败: ' + e.message,\r\n\t\t\t\ticon: 'none'\r\n\t\t\t});\r\n\t\t\tpage.value--; // 恢复页码\r\n\t\t} finally {\r\n\t\t\tloading.value = false;\r\n\t\t}\r\n\t};\r\n\t\r\n\t// 重置搜索\r\n\tconst resetSearch = () => {\r\n\t\tsearchForm.mobile = '';\r\n\t\tsearchForm.nickName = '';\r\n\t\tuserList.value = [];\r\n\t\tpage.value = 1;\r\n\t\thasMore.value = true;\r\n\t};\r\n\t\r\n\t// 查看用户详情\r\n\tconst viewUserDetail = (user) => {\r\n\t\tuni.navigateTo({\r\n\t\t\turl: `/subPages/userDetail/userDetail?id=${user._id}`\r\n\t\t});\r\n\t};\r\n\t\r\n\t// 切换用户角色\r\n\tconst toggleUserRole = async (user, roleId, event) => {\r\n\t\t// 阻止事件冒泡，避免触发点击整行的事件\r\n\t\tevent.stopPropagation();\r\n\t\t\r\n\t\t// 不允许移除 user 角色\r\n\t\tif (roleId === 'user' && user.role && user.role.includes('user')) {\r\n\t\t\tuni.showToast({\r\n\t\t\t\ttitle: '不能移除普通用户角色',\r\n\t\t\t\ticon: 'none'\r\n\t\t\t});\r\n\t\t\treturn;\r\n\t\t}\r\n\t\t\r\n\t\ttry {\r\n\t\t\tuni.showLoading({\r\n\t\t\t\ttitle: '处理中...'\r\n\t\t\t});\r\n\t\t\t\r\n\t\t\t// 检查用户是否已有该角色\r\n\t\t\tconst hasRole = user.role && user.role.includes(roleId);\r\n\t\t\t\r\n\t\t\t// 找到角色名称用于提示\r\n\t\t\tconst roleName = availableRoles.find(r => r.id === roleId)?.name || roleId;\r\n\t\t\t\r\n\t\t\t// 调用云函数更新用户角色\r\n\t\t\tawait userApi.updateUserRole({\r\n\t\t\t\tuserId: user._id,\r\n\t\t\t\taction: hasRole ? 'remove' : 'add',\r\n\t\t\t\trole: roleId\r\n\t\t\t});\r\n\t\t\t\r\n\t\t\t// 更新本地数据\r\n\t\t\tif (hasRole) {\r\n\t\t\t\t// 移除角色\r\n\t\t\t\tconst index = user.role.indexOf(roleId);\r\n\t\t\t\tuser.role.splice(index, 1);\r\n\t\t\t} else {\r\n\t\t\t\t// 添加角色\r\n\t\t\t\tif (!user.role) {\r\n\t\t\t\t\tuser.role = [];\r\n\t\t\t\t}\r\n\t\t\t\tuser.role.push(roleId);\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tuni.showToast({\r\n\t\t\t\ttitle: hasRole ? `已移除${roleName}权限` : `已设为${roleName}`,\r\n\t\t\t\ticon: 'success'\r\n\t\t\t});\r\n\t\t} catch (e) {\r\n\t\t\tuni.showToast({\r\n\t\t\t\ttitle: '操作失败: ' + e.message,\r\n\t\t\t\ticon: 'none'\r\n\t\t\t});\r\n\t\t} finally {\r\n\t\t\tuni.hideLoading();\r\n\t\t}\r\n\t};\r\n\t\r\n\t// 检查用户是否有特定角色\r\n\tconst hasRole = (user, roleId) => {\r\n\t\treturn user.role && user.role.includes(roleId);\r\n\t};\r\n\t\r\n\t// 打开角色管理弹窗\r\n\tconst showRoleManagePopup = (user) => {\r\n\t\tuni.navigateTo({\r\n\t\t\turl: `/subPages/userRoleManage/userRoleManage?id=${user._id}`\r\n\t\t});\r\n\t};\r\n\t\r\n\t// 确保用户至少有 user 角色\r\n\tconst ensureUserRole = (user) => {\r\n\t\tif (!user.role) {\r\n\t\t\tuser.role = ['user'];\r\n\t\t} else if (!user.role.includes('user')) {\r\n\t\t\tuser.role.push('user');\r\n\t\t}\r\n\t\treturn user;\r\n\t};\r\n</script>\r\n\r\n<template>\r\n\t<view class=\"user-info-query\">\r\n\t\t<view class=\"search-form\">\r\n\t\t\t<view class=\"form-title\">用户查询</view>\r\n\t\t\t<view class=\"form-item\">\r\n\t\t\t\t<text class=\"label\">手机号码:</text>\r\n\t\t\t\t<input type=\"text\" v-model=\"searchForm.mobile\" placeholder=\"请输入手机号\" />\r\n\t\t\t</view>\r\n\t\t\t<view class=\"form-item\">\r\n\t\t\t\t<text class=\"label\">昵称:</text>\r\n\t\t\t\t<input type=\"text\" v-model=\"searchForm.nickName\" placeholder=\"请输入昵称\" />\r\n\t\t\t</view>\r\n\t\t\t<view class=\"form-tips\">提示: 可以只输入手机号的一部分进行模糊查询</view>\r\n\t\t\t<view class=\"form-actions\">\r\n\t\t\t\t<button class=\"btn-search\" @click=\"searchUsers\">查询用户</button>\r\n\t\t\t\t<button class=\"btn-reset\" @click=\"resetSearch\">重置</button>\r\n\t\t\t</view>\r\n\t\t</view>\r\n\t\t\r\n\t\t<view class=\"user-list\">\r\n\t\t\t<view v-if=\"userList.length === 0 && !loading\" class=\"empty-tip\">\r\n\t\t\t\t暂无匹配用户，请输入手机号或昵称进行查询\r\n\t\t\t</view>\r\n\t\t\t\r\n\t\t\t<view v-for=\"(user, index) in userList\" :key=\"index\" class=\"user-item\" @click=\"viewUserDetail(user)\">\r\n\t\t\t\t<view class=\"user-avatar\">\r\n\t\t\t\t\t<image :src=\"user.avatarUrl || '/static/default-avatar.png'\" mode=\"aspectFill\"></image>\r\n\t\t\t\t</view>\r\n\t\t\t\t<view class=\"user-info\">\r\n\t\t\t\t\t<view class=\"user-name\">{{user.nickName || '未设置昵称'}}</view>\r\n\t\t\t\t\t<view class=\"user-mobile\">\r\n\t\t\t\t\t\t{{user.mobile}}\r\n\t\t\t\t\t</view>\r\n\t\t\t\t\t<view class=\"user-roles\">\r\n\t\t\t\t\t\t<view class=\"user-status\" :class=\"{'status-normal': user.status === 0, 'status-disabled': user.status === 1, 'status-banned': user.status === 2}\">\r\n\t\t\t\t\t\t\t{{user.status === 0 ? '正常' : user.status === 1 ? '禁用' : '封禁'}}\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t<view class=\"role-tags\">\r\n\t\t\t\t\t\t\t<view v-for=\"role in availableRoles\" :key=\"role.id\" \r\n\t\t\t\t\t\t\t\tclass=\"role-tag\" :class=\"{'active': hasRole(user, role.id)}\"\r\n\t\t\t\t\t\t\t\t@click.stop=\"toggleUserRole(user, role.id, $event)\">\r\n\t\t\t\t\t\t\t\t{{role.name}}\r\n\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t<view class=\"more-roles\" @click.stop=\"showRoleManagePopup(user)\">\r\n\t\t\t\t\t\t\t\t<uni-icons type=\"more-filled\" size=\"18\" color=\"#999\"></uni-icons>\r\n\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t</view>\r\n\t\t\t\t<uni-icons type=\"right\" size=\"20\" color=\"#CCCCCC\"></uni-icons>\r\n\t\t\t</view>\r\n\t\t\t\r\n\t\t\t<view v-if=\"loading\" class=\"loading\">加载中...</view>\r\n\t\t\t<view v-if=\"!hasMore && userList.length > 0\" class=\"no-more\">没有更多数据了</view>\r\n\t\t</view>\r\n\t</view>\r\n</template>\r\n\r\n<style lang=\"scss\" scoped>\r\n\t@import \"@/style/common.scss\";\r\n\t\r\n\t.user-info-query {\r\n\t\t@include pagesBaseStyle;\r\n\t\tpadding: 20rpx;\r\n\t\t\r\n\t\t.search-form {\r\n\t\t\tbackground-color: #fff;\r\n\t\t\tborder-radius: 12rpx;\r\n\t\t\tpadding: 20rpx;\r\n\t\t\tmargin-bottom: 20rpx;\r\n\t\t\t\r\n\t\t\t.form-title {\r\n\t\t\t\tfont-size: 32rpx;\r\n\t\t\t\tfont-weight: bold;\r\n\t\t\t\tcolor: #333;\r\n\t\t\t\tmargin-bottom: 20rpx;\r\n\t\t\t\tpadding-left: 20rpx;\r\n\t\t\t\tborder-left: 6rpx solid #399bfe;\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\t.form-item {\r\n\t\t\t\tdisplay: flex;\r\n\t\t\t\talign-items: center;\r\n\t\t\t\tmargin-bottom: 20rpx;\r\n\t\t\t\t\r\n\t\t\t\t.label {\r\n\t\t\t\t\twidth: 150rpx;\r\n\t\t\t\t\tfont-size: 28rpx;\r\n\t\t\t\t\tcolor: #333;\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\tinput {\r\n\t\t\t\t\tflex: 1;\r\n\t\t\t\t\theight: 70rpx;\r\n\t\t\t\t\tborder: 1px solid #eee;\r\n\t\t\t\t\tborder-radius: 8rpx;\r\n\t\t\t\t\tpadding: 0 20rpx;\r\n\t\t\t\t\tfont-size: 28rpx;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\t.form-tips {\r\n\t\t\t\tfont-size: 24rpx;\r\n\t\t\t\tcolor: #999;\r\n\t\t\t\tmargin-bottom: 20rpx;\r\n\t\t\t\tpadding: 0 20rpx;\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\t.form-actions {\r\n\t\t\t\tdisplay: flex;\r\n\t\t\t\tjustify-content: space-between;\r\n\t\t\t\tmargin-top: 30rpx;\r\n\t\t\t\t\r\n\t\t\t\tbutton {\r\n\t\t\t\t\twidth: 45%;\r\n\t\t\t\t\theight: 80rpx;\r\n\t\t\t\t\tline-height: 80rpx;\r\n\t\t\t\t\tfont-size: 28rpx;\r\n\t\t\t\t\tborder-radius: 8rpx;\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\t.btn-search {\r\n\t\t\t\t\tbackground-color: #399bfe;\r\n\t\t\t\t\tcolor: #fff;\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\t.btn-reset {\r\n\t\t\t\t\tbackground-color: #f5f5f5;\r\n\t\t\t\t\tcolor: #333;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t\t\r\n\t\t.user-list {\r\n\t\t\tbackground-color: #fff;\r\n\t\t\tborder-radius: 12rpx;\r\n\t\t\tpadding: 20rpx;\r\n\t\t\t\r\n\t\t\t.empty-tip {\r\n\t\t\t\ttext-align: center;\r\n\t\t\t\tpadding: 40rpx 0;\r\n\t\t\t\tcolor: #999;\r\n\t\t\t\tfont-size: 28rpx;\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\t.user-item {\r\n\t\t\t\tdisplay: flex;\r\n\t\t\t\talign-items: center;\r\n\t\t\t\tpadding: 20rpx 0;\r\n\t\t\t\tborder-bottom: 1px solid #eee;\r\n\t\t\t\t\r\n\t\t\t\t&:last-child {\r\n\t\t\t\t\tborder-bottom: none;\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\t.user-avatar {\r\n\t\t\t\t\twidth: 100rpx;\r\n\t\t\t\t\theight: 100rpx;\r\n\t\t\t\t\tmargin-right: 20rpx;\r\n\t\t\t\t\t\r\n\t\t\t\t\timage {\r\n\t\t\t\t\t\twidth: 100%;\r\n\t\t\t\t\t\theight: 100%;\r\n\t\t\t\t\t\tborder-radius: 50%;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\t.user-info {\r\n\t\t\t\t\tflex: 1;\r\n\t\t\t\t\t\r\n\t\t\t\t\t.user-name {\r\n\t\t\t\t\t\tfont-size: 30rpx;\r\n\t\t\t\t\t\tcolor: #333;\r\n\t\t\t\t\t\tmargin-bottom: 10rpx;\r\n\t\t\t\t\t}\r\n\t\t\t\t\t\r\n\t\t\t\t\t.user-mobile {\r\n\t\t\t\t\t\tfont-size: 26rpx;\r\n\t\t\t\t\t\tcolor: #999;\r\n\t\t\t\t\t\tmargin-bottom: 10rpx;\r\n\t\t\t\t\t}\r\n\t\t\t\t\t\r\n\t\t\t\t\t.user-roles {\r\n\t\t\t\t\t\tdisplay: flex;\r\n\t\t\t\t\t\talign-items: center;\r\n\t\t\t\t\t\tflex-wrap: wrap;\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\t.role-tags {\r\n\t\t\t\t\t\t\tdisplay: flex;\r\n\t\t\t\t\t\t\tflex-wrap: wrap;\r\n\t\t\t\t\t\t\tmargin-left: 20rpx;\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t.role-tag {\r\n\t\t\t\t\t\t\t\tfont-size: 22rpx;\r\n\t\t\t\t\t\t\t\tpadding: 4rpx 12rpx;\r\n\t\t\t\t\t\t\t\tborder-radius: 30rpx;\r\n\t\t\t\t\t\t\t\tmargin-right: 10rpx;\r\n\t\t\t\t\t\t\t\tmargin-bottom: 6rpx;\r\n\t\t\t\t\t\t\t\tbackground-color: #f5f5f5;\r\n\t\t\t\t\t\t\t\tcolor: #666;\r\n\t\t\t\t\t\t\t\tborder: 1px solid #eee;\r\n\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t&.active {\r\n\t\t\t\t\t\t\t\t\tbackground-color: #e1f5fe;\r\n\t\t\t\t\t\t\t\t\tcolor: #399bfe;\r\n\t\t\t\t\t\t\t\t\tborder-color: #399bfe;\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t.more-roles {\r\n\t\t\t\t\t\t\t\tdisplay: flex;\r\n\t\t\t\t\t\t\t\talign-items: center;\r\n\t\t\t\t\t\t\t\tjustify-content: center;\r\n\t\t\t\t\t\t\t\twidth: 40rpx;\r\n\t\t\t\t\t\t\t\theight: 40rpx;\r\n\t\t\t\t\t\t\t\tmargin-left: 6rpx;\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t\t\r\n\t\t\t\t\t.user-status {\r\n\t\t\t\t\t\tdisplay: inline-block;\r\n\t\t\t\t\t\tfont-size: 24rpx;\r\n\t\t\t\t\t\tpadding: 4rpx 12rpx;\r\n\t\t\t\t\t\tborder-radius: 6rpx;\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\t&.status-normal {\r\n\t\t\t\t\t\t\tbackground-color: #e8f5e9;\r\n\t\t\t\t\t\t\tcolor: #4caf50;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\t&.status-disabled {\r\n\t\t\t\t\t\t\tbackground-color: #fff8e1;\r\n\t\t\t\t\t\t\tcolor: #ffc107;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\t&.status-banned {\r\n\t\t\t\t\t\t\tbackground-color: #ffebee;\r\n\t\t\t\t\t\t\tcolor: #f44336;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\t.loading, .no-more {\r\n\t\t\t\ttext-align: center;\r\n\t\t\t\tpadding: 20rpx 0;\r\n\t\t\t\tfont-size: 26rpx;\r\n\t\t\t\tcolor: #999;\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n</style> ","import MiniProgramPage from 'E:/dy2/subPages/userInfoQuery/userInfoQuery.vue'\ntt.createPage(MiniProgramPage)"],"names":["reactive","ref","uniCloud","uni","hasRole"],"mappings":"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"}
{"version":3,"file":"articleDetail.js","sources":["pages/article/articleDetail.vue","D:/代码测试/HBuilderX.4.45.2025010502/HBuilderX/plugins/uniapp-cli-vite/uniPage:/cGFnZXMvYXJ0aWNsZS9hcnRpY2xlRGV0YWlsLnZ1ZQ"],"sourcesContent":["<script setup>\n\timport { computed, onMounted, ref, watch, onUnmounted, onBeforeUnmount, onActivated, nextTick } from 'vue'\n\timport { useUserInfoStore } from '@/store/user.js'\n\timport formatTime from '@/utils/formatTime.js'\n\timport { testLogin } from '@/utils/isLogin'\n\timport { onReachBottom, onShareAppMessage, onShareTimeline, onLoad, onShow, onHide, onUnload, onReady, onPullDownRefresh } from '@dcloudio/uni-app'\n\t// 导入推荐组件\n\timport tuijian from '@/components/tuijian/tuijian.vue'\n\timport commentList from '@/components/comment-list/comment-list.vue'\n\timport LotteryDraw from '@/components/articleDetail-choujia/articleDetail-choujia.vue' // Import lottery component\n\t// 导入uni-load-more组件\n\timport uniLoadMore from '@/uni_modules/uni-load-more/components/uni-load-more/uni-load-more.vue'\n\t\n\t// 设置默认粉丝群ID，如果从数据库获取失败，则使用此值\n\tconst FANS_GROUP_ID = ref(\"CgYIASAHKAESTgpMPxsfnWvXJ61q6Eun6E6R/pZOQXqOK93pt9RbaamdIKv8hWML07CE8p7UrP6JX+XO7emnzmu+LFuaNy62FR6ye20jDcp/UPy2SaOrbBoA\")\n\n\t// 获取粉丝群ID\n\tconst fetchFansGroupId = async () => {\n\t\ttry {\n\t\t\tconst sendOnApi = uniCloud.importObject('sendOn', { customUI: true })\n\t\t\tconst res = await sendOnApi.get()\n\t\t\t\n\t\t\tif (res && res.data && res.data.length > 0 && res.data[0].fans_group_id) {\n\t\t\t\tFANS_GROUP_ID.value = res.data[0].fans_group_id\n\t\t\t\tconsole.log('从数据库获取粉丝群ID:', FANS_GROUP_ID.value)\n\t\t\t} else {\n\t\t\t\tconsole.log('未从数据库获取到粉丝群ID，使用默认ID')\n\t\t\t}\n\t\t} catch (err) {\n\t\t\tconsole.error('获取粉丝群ID失败:', err)\n\t\t}\n\t}\n\n\t// 接受传递过来的数据 - 不需要导入 defineProps\n\tconst props = defineProps( {\n\t\tarticle_id: {\n\t\t\ttype: String,\n\t\t\tdefault: ''\n\t\t},\n\t\t\n\t\tuser_id: String\n\t} )\n\n\t// 在setup部分顶部添加userStore引用\n\tconst userStore = useUserInfoStore()\n\n\t// 在script setup顶部添加图片CDN处理函数\n\tconst processCDNImage = (url) => {\n\t\tif (!url) return '';\n\t\t\n\t\t// 检查图片URL是否已经包含CDN参数\n\t\tif (url.includes('imageMogr2') || url.includes('watermark')) {\n\t\t\t// 已经有CDN参数，直接返回\n\t\t\treturn url;\n\t\t}\n\t\t\n\t\t// 为图片添加CDN参数，根据实际情况修改\n\t\tif (url.includes('?')) {\n\t\t\treturn `${url}&imageMogr2/thumbnail/!300x300r/format/webp/quality/70`;\n\t\t} else {\n\t\t\treturn `${url}?imageMogr2/thumbnail/!300x300r/format/webp/quality/70`;\n\t\t}\n\t};\n\t\n\t// 添加登录状态跟踪，避免多次显示loading\n\tconst loginLoadingVisible = ref(false);\n\n\t// 处理页面跳转逻辑\n\tconst handlePageNavigation = async () => {\n\t\ttry {\n\t\t\t// 获取当前页面栈\n\t\t\tconst pages = getCurrentPages()\n\t\t\t\n\t\t\t// 如果是直接进入详情页（页面栈长度为1）\n\t\t\tif (pages.length === 1) {\n\t\t\t\t// 先跳转到首页\n\t\t\t\tuni.switchTab({\n\t\t\t\t\turl: '/pages/index/index',\n\t\t\t\t\tsuccess: () => {\n\t\t\t\t\t\t// 首页加载完成后，再跳转回文章详情页\n\t\t\t\t\t\tsetTimeout(() => {\n\t\t\t\t\t\t\tuni.navigateTo({\n\t\t\t\t\t\t\t\turl: `/pages/article/articleDetail?article_id=${props.article_id}`,\n\t\t\t\t\t\t\t\tanimationType: 'slide-in-right', // 添加右侧滑入动画\n\t\t\t\t\t\t\t\tanimationDuration: 300, // 设置动画持续时间为300ms\n\t\t\t\t\t\t\t\tfail: (err) => {\n\t\t\t\t\t\t\t\t\tconsole.error('跳转回文章详情页失败:', err)\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t})\n\t\t\t\t\t\t}, 300) // 减少首页加载时间，增加流畅度\n\t\t\t\t\t},\n\t\t\t\t\tfail: (err) => {\n\t\t\t\t\t\tconsole.error('跳转到首页失败:', err)\n\t\t\t\t\t\t// 如果跳转失败，仍然尝试加载首页数据\n\t\t\t\t\t\ttry {\n\t\t\t\t\t\t\tconst cateApi = uniCloud.importObject('cateWx', { customUI: true })\n\t\t\t\t\t\t\tcateApi.get().catch(err => {\n\t\t\t\t\t\t\t\tconsole.warn('预加载首页数据失败', err)\n\t\t\t\t\t\t\t})\n\t\t\t\t\t\t} catch (err) {\n\t\t\t\t\t\t\tconsole.warn('初始化首页数据失败', err)\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t})\n\t\t\t\treturn true // 返回 true 表示需要跳转\n\t\t\t}\n\n\t\t\treturn false // 返回 false 表示无需跳转\n\t\t} catch (err) {\n\t\t\tconsole.error('页面导航错误：', err)\n\t\t\treturn false\n\t\t}\n\t}\n\t// 添加一个加载状态标记\n\tconst isLoading = ref( true )\n\tconst isSubmitting = ref( false )\n\tconst commentContent = ref( '' )\n\t// 添加评论加载状态变量\n\tconst isCommentsLoading = ref( true ) // 添加这个变量定义\n\tconst isLoadingComments = ref( true ) // 添加这个变量定义\n\tconst articleApi = uniCloud.importObject( 'articleDy', { customUI: true } )\n\tconst commentApi = uniCloud.importObject( 'commentList', { customUI: true } )\n\tconst likeApi = uniCloud.importObject( 'likeRecord', { customUI: true } )\n\tconst userApi = uniCloud.importObject('userDy', { customUI: true }) // 使用userDy代替login\n\t// const loginApi = uniCloud.importObject('login', { customUI: true })\n\n\t// 添加评论刷新定时器变量\n\tconst commentRefreshTimer = ref(null);\n\n\t// 评论展示控制\n\tconst displayCommentsCount = ref(5) // 默认显示5条评论\n\tconst showAllComments = ref(false) // 控制是否显示全部评论\n\t\n\t// 幸运抽奖相关变量\n\tconst showLottery = ref(false) // 控制抽奖组件的显示\n\tconst selectedWinner = ref(null) // 选中的幸运用户\n\tconst canDrawLottery = computed(() => articleComment.value.length >= 3) // 至少需要3条评论才能抽奖\n\t\n\t// 文章详情\n\tconst articleDetail = ref( {} )\n\tconst articleComment = ref( [ ] )\n\n\t// 计算实际显示的评论\n\tconst displayedComments = computed(() => {\n\t\tif (articleComment.value.length <= 5) {\n\t\t\treturn articleComment.value;\n\t\t} else {\n\t\t\t// 显示指定数量的评论\n\t\t\treturn articleComment.value.slice(0, displayCommentsCount.value);\n\t\t}\n\t});\n\t\n\t// 加载更多评论\n\tconst loadMoreComments = () => {\n\t\t// 每次增加5条评论\n\t\tdisplayCommentsCount.value += 5;\n\t\t\n\t\t// 如果显示数量超过了总评论数，设置为全部显示\n\t\tif (displayCommentsCount.value >= articleComment.value.length) {\n\t\t\tdisplayCommentsCount.value = articleComment.value.length;\n\t\t\tshowAllComments.value = true;\n\t\t}\n\t};\n\t\n\t// 收起评论\n\tconst foldComments = () => {\n\t\tdisplayCommentsCount.value = 5;\n\t\tshowAllComments.value = false;\n\t};\n\n\t// 总评论数\n\tconst commentCount = computed( ( ) => {\n\t\treturn articleComment.value.length\n\t} )\n\n\t// 增加一个标志位，避免重复登录检查\n\tconst isCheckingLogin = ref(false)\n\n\t// 添加当前图片索引的状态\n\tconst currentImageIndex = ref(0)\n\n\t// 添加图片懒加载状态跟踪\n\tconst imageLoadStatus = ref({})\n\tconst isAnyImageLoading = ref(true)\n\t\n\t// 添加视频相关状态\n\tconst videoLoadStatus = ref('loading')\n\tconst videoContext = ref(null)\n\t\n\t// 新增导航信息\n\tconst navInfo = ref(null)\n\t// 新增抽奖模块显示状态\n\tconst lotteryVisibility = ref(false)  // 默认关闭\n\n\t// 添加推荐组件的ref\n\tconst tuijianRef = ref(null)\n\n\t// 在script setup顶部添加ref引用\n\tconst likeButtonTop = ref(null)\n\tconst likeButtonBottom = ref(null)\n\tconst isLikeAnimating = ref(false)\n\n\t// 添加一个统一的媒体处理函数\n\tconst processMediaURL = (url, type = 'image') => {\n\t\tif (!url) return '';\n\t\t\n\t\t// 处理CDN域名\n\t\tif (url.includes('jingle0350.cn')) {\n\t\t\tif (type === 'image') {\n\t\t\t\treturn processCDNImage(url);\n\t\t\t}\n\t\t}\n\t\t\n\t\t// 处理可能的防盗链问题\n\t\tif (url.includes('ixigua.com') || url.includes('aly2.')) {\n\t\t\treturn url.includes('?') ? `${url}&referer=no_referer` : `${url}?referer=no_referer`;\n\t\t}\n\t\t\n\t\t// 对视频URL的特殊处理\n\t\tif (type === 'video' && url.includes('baidu.com')) {\n\t\t\t// 百度视频链接可能需要特殊处理\n\t\t\treturn url;\n\t\t}\n\t\t\n\t\treturn url;\n\t};\n\t\n\t// 添加图片加载超时机制\n\tconst imageLoadTimeouts = ref({});\n\t// 添加最大加载时间，单位毫秒\n\tconst IMAGE_LOAD_TIMEOUT = 8000; // 8秒\n\t// 添加最大重试次数\n\tconst MAX_RETRY_COUNT = 2;\n\t// 添加图片重试计数\n\tconst imageRetryCount = ref({});\n\t\n\t// 添加分享信息\n\tconst shareInfo = ref({\n\t\ttitle: '',\n\t\tpath: '',\n\t\timageUrl: ''\n\t});\n\t\n\t// 更新分享信息\n\tconst updateShareInfo = () => {\n\t\ttry {\n\t\t\t// 处理分享标题，使用文章内容的前30个字符\n\t\t\tlet title = articleDetail.value.content \n\t\t\t\t? articleDetail.value.content.substring(0, 30) \n\t\t\t\t: '精彩内容';\n\t\t\t\n\t\t\t// 如果标题太短，尝试添加分类名\n\t\t\tif (title.length < 15 && articleDetail.value.cate_name) {\n\t\t\t\ttitle\n\t\t\t}\n\t\t\t\n\t\t\t// 设置分享图片URL为空值\n\t\t\tlet imageUrl = '';\n\t\t\t\n\t\t\t// 设置分享路径\n\t\t\tconst path = `/pages/article/articleDetail?article_id=${props.article_id}`;\n\t\t\t\n\t\t\t// 更新分享信息\n\t\t\tshareInfo.value = {\n\t\t\t\ttitle,\n\t\t\t\tpath,\n\t\t\t\timageUrl\n\t\t\t};\n\t\t} catch (err) {\n\t\t\tconsole.error('更新分享信息失败:', err);\n\t\t}\n\t};\n\t\n\t// 分享到微信好友\n\tonShareAppMessage((res) => {\n\t\tupdateShareInfo();\n\t\treturn {\n\t\t\ttitle: shareInfo.value.title,\n\t\t\tpath: shareInfo.value.path,\n\t\t\timageUrl: shareInfo.value.imageUrl\n\t\t};\n\t});\n\t\n\t// 分享到朋友圈\n\tonShareTimeline(() => {\n\t\tupdateShareInfo();\n\t\treturn {\n\t\t\ttitle: shareInfo.value.title,\n\t\t\tpath: shareInfo.value.path,\n\t\t\timageUrl: shareInfo.value.imageUrl\n\t\t};\n\t});\n\t\n\t// 自定义按钮分享\n\tconst handleShareButtonClick = () => {\n\t\tupdateShareInfo();\n\t\t\n\t\t// 检查环境是否支持uni.share API\n\t\tif (typeof uni.share === 'function') {\n\t\t\tuni.share({\n\t\t\t\tprovider: 'weixin',\n\t\t\t\ttitle: shareInfo.value.title,\n\t\t\t\tscene: 'WXSceneSession', // WXSceneSession 微信好友，WXSceneTimeline 朋友圈\n\t\t\t\tsummary: shareInfo.value.title,\n\t\t\t\thref: shareInfo.value.path,\n\t\t\t\timageUrl: shareInfo.value.imageUrl,\n\t\t\t\tsuccess: () => {\n\t\t\t\t\tconsole.log('分享成功');\n\t\t\t\t\tuni.showToast({\n\t\t\t\t\t\ttitle: '分享成功',\n\t\t\t\t\t\ticon: 'success'\n\t\t\t\t\t});\n\t\t\t\t},\n\t\t\t\tfail: (err) => {\n\t\t\t\t\tconsole.error('分享失败:', err);\n\t\t\t\t\tuni.showToast({\n\t\t\t\t\t\ttitle: '分享失败',\n\t\t\t\t\t\ticon: 'none'\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t});\n\t\t} else {\n\t\t\t// 对于不支持 uni.share 的平台，提示用户使用右上角菜单分享\n\t\t\tuni.showToast({\n\t\t\t\ttitle: '请使用右上角菜单分享',\n\t\t\t\ticon: 'none'\n\t\t\t});\n\t\t}\n\t};\n\t\n\t// 监听分享信息设置事件\n\tuni.$on('setShareInfo', (data) => {\n\t\tif (data) {\n\t\t\tshareInfo.value = {\n\t\t\t\ttitle: data.title || shareInfo.value.title,\n\t\t\t\tpath: data.path || shareInfo.value.path,\n\t\t\t\timageUrl: data.imageUrl || shareInfo.value.imageUrl\n\t\t\t};\n\t\t}\n\t});\n\n\t// 页面卸载时移除事件监听\n\tonBeforeUnmount(() => {\n\t\tuni.$off('setShareInfo');\n\t});\n\t\n\t// 获取文章详情\n\tconst getArticleDetail = async () => {\n\t\ttry {\n\t\t\t// 先检查是否需要处理页面导航\n\t\t\tconst needRedirect = await handlePageNavigation()\n\t\t\tif (needRedirect) {\n\t\t\t\treturn // 如果需要重定向，直接返回\n\t\t\t}\n\n\t\t\t// 检查文章ID是否存在\n\t\t\tif (!props.article_id) {\n\t\t\t\tthrow new Error('文章ID不能为空')\n\t\t\t}\n\n\t\t\t// 添加轻微延迟，确保页面动画完成\n\t\t\tawait new Promise(resolve => setTimeout(resolve, 50));\n\n\t\t\tconst res = await articleApi.getArticleDetal(props.article_id)\n\t\t\t\n\t\t\t// 检查返回的数据结构\n\t\t\tif (!res || !res.articleRes || !res.articleRes.data || !Array.isArray(res.articleRes.data)) {\n\t\t\t\tthrow new Error('获取文章详情失败：返回数据格式错误')\n\t\t\t}\n\n\t\t\t// 更新文章详情\n\t\t\tconst articleData = res.articleRes.data[0]\n\t\t\t\n\t\t\t// 确保文章内容不为空\n\t\t\tif (!articleData.content) {\n\t\t\t\tarticleData.content = '暂无内容'\n\t\t\t}\n\t\t\t\n\t\t\t// 处理视频资源\n\t\t\tif (articleData.videoURL) {\n\t\t\t\tarticleData.videoURL = processMediaURL(articleData.videoURL, 'video');\n\t\t\t\tvideoLoadStatus.value = 'loading';\n\t\t\t}\n\t\t\t\n\t\t\t// 处理图片资源，优化图片处理\n\t\t\tif (articleData.images && articleData.images.length) {\n\t\t\t\t// 清空之前的加载状态\n\t\t\t\timageLoadStatus.value = {};\n\t\t\t\timageRetryCount.value = {};\n\t\t\t\t\n\t\t\t\t// 清除之前的超时计时器\n\t\t\t\tObject.keys(imageLoadTimeouts.value).forEach(key => {\n\t\t\t\t\tclearTimeout(imageLoadTimeouts.value[key]);\n\t\t\t\t});\n\t\t\t\timageLoadTimeouts.value = {};\n\t\t\t\t\n\t\t\t\t// 处理图片资源，添加必要的处理逻辑\n\t\t\t\tarticleData.images = articleData.images.map((img, index) => {\n\t\t\t\t\t// 确保图片有压缩地址\n\t\t\t\t\tif (!img.compressedURL && img.url) {\n\t\t\t\t\t\timg.compressedURL = img.url;\n\t\t\t\t\t}\n\t\t\t\t\t\n\t\t\t\t\t// 处理图片URL，使用统一的媒体处理函数\n\t\t\t\t\tif (img.compressedURL) {\n\t\t\t\t\t\timg.compressedURL = processMediaURL(img.compressedURL, 'image');\n\t\t\t\t\t}\n\t\t\t\t\t\n\t\t\t\t\t// 设置每张图片的初始加载状态\n\t\t\t\t\timageLoadStatus.value[index] = 'loading';\n\t\t\t\t\t\n\t\t\t\t\t// 为每张图片设置加载超时\n\t\t\t\t\timageLoadTimeouts.value[index] = setTimeout(() => {\n\t\t\t\t\t\tif (imageLoadStatus.value[index] === 'loading') {\n\t\t\t\t\t\t\tconsole.log(`图片 ${index} 加载超时`);\n\t\t\t\t\t\t\timageLoadStatus.value[index] = 'error';\n\t\t\t\t\t\t\tcheckAllImagesLoaded();\n\t\t\t\t\t\t}\n\t\t\t\t\t}, IMAGE_LOAD_TIMEOUT);\n\t\t\t\t\t\n\t\t\t\t\treturn img;\n\t\t\t\t});\n\t\t\t\t\n\t\t\t\t// 设置加载状态\n\t\t\t\tisAnyImageLoading.value = true;\n\t\t\t\t\n\t\t\t\t// 设置全局超时，确保即使所有图片都加载失败，也能看到内容\n\t\t\t\tsetTimeout(() => {\n\t\t\t\t\tif (isAnyImageLoading.value) {\n\t\t\t\t\t\tconsole.log('图片加载全局超时，强制显示内容');\n\t\t\t\t\t\tisAnyImageLoading.value = false;\n\t\t\t\t\t}\n\t\t\t\t}, IMAGE_LOAD_TIMEOUT + 2000);\n\t\t\t} else {\n\t\t\t\tisAnyImageLoading.value = false;\n\t\t\t}\n\t\t\t\n\t\t\t// 获取分类名称\n\t\t\tif (articleData.cate_id) {\n\t\t\t\ttry {\n\t\t\t\t\tconst cateApi = uniCloud.importObject('cateWx', { customUI: true })\n\t\t\t\t\tconst cateRes = await cateApi.get(articleData.cate_id)\n\t\t\t\t\tif (cateRes.data && cateRes.data[0]) {\n\t\t\t\t\t\tarticleData.cate_name = cateRes.data[0].cate_name\n\t\t\t\t\t\t}\n\t\t\t\t\t} catch (err) {\n\t\t\t\t\tconsole.error('获取分类名称失败:', err)\n\t\t\t\t}\n\t\t\t}\n\t\t\t\n\t\t\t// 确保文章对象有所有必要的属性\n\t\t\tarticleDetail.value = {\n\t\t\t\t_id: articleData._id || '',\n\t\t\t\tcontent: articleData.content || '',\n\t\t\t\tuser_id: articleData.user_id || '',\n\t\t\t\tuser_nickName: articleData.user_nickName || '',\n\t\t\t\tuser_avatarUrl: articleData.user_avatarUrl || '',\n\t\t\t\tuser_mobile: articleData.user_mobile || '',\n\t\t\t\tcate_id: articleData.cate_id || '',\n\t\t\t\tcate_name: articleData.cate_name || '',\n\t\t\t\tcreate_time: articleData.create_time || Date.now(),\n\t\t\t\tlook_count: articleData.look_count || 0,\n\t\t\t\tlike_count: articleData.like_count || 0,\n\t\t\t\tcomment_count: articleData.comment_count || 0,\n\t\t\t\timages: articleData.images || [],\n\t\t\t\tvideoURL: articleData.videoURL || null\n\t\t\t}\n\t\t\t\n\t\t\tarticleComment.value = res.comment || []\n\t\t\t\n\t\t\t// 获取评论区显示状态\n\t\t\ttry {\n\t\t\t\t// 从sendOn集合获取显示状态\n\t\t\t\tconst sendOnApi = uniCloud.importObject('sendOn', { customUI: true })\n\t\t\t\tconst sendOnRes = await sendOnApi.get()\n\t\t\t\t\n\t\t\t\t// 设置评论区显示状态\n\t\t\t\tif (sendOnRes && sendOnRes.data && sendOnRes.data.length > 0) {\n\t\t\t\t\tnavInfo.value = {\n\t\t\t\t\t\tisVisible: sendOnRes.data[0].commentVisibility !== undefined ? \n\t\t\t\t\t\t\tsendOnRes.data[0].commentVisibility : true, // 默认显示\n\t\t\t\t\t\ttitle: '评论区'\n\t\t\t\t\t}\n\t\t\t\t\t// 设置抽奖模块显示状态\n\t\t\t\t\tlotteryVisibility.value = sendOnRes.data[0].lotteryVisibility !== undefined ? \n\t\t\t\t\t\tsendOnRes.data[0].lotteryVisibility : false // 默认关闭\n\t\t\t\t\tconsole.log('评论区显示状态:', navInfo.value.isVisible)\n\t\t\t\t\tconsole.log('抽奖模块显示状态:', lotteryVisibility.value)\n\t\t\t\t} else {\n\t\t\t\t\t// 如果没有获取到数据，默认显示评论区，关闭抽奖\n\t\t\t\t\tnavInfo.value = {\n\t\t\t\t\t\tisVisible: true,\n\t\t\t\t\t\ttitle: '评论区'\n\t\t\t\t\t}\n\t\t\t\t\tlotteryVisibility.value = false\n\t\t\t\t}\n\t\t\t} catch (err) {\n\t\t\t\tconsole.error('获取显示状态失败:', err)\n\t\t\t\t// 默认显示评论区，关闭抽奖\n\t\t\t\tnavInfo.value = {\n\t\t\t\t\tisVisible: true,\n\t\t\t\t\ttitle: '评论区'\n\t\t\t\t}\n\t\t\t\tlotteryVisibility.value = false\n\t\t\t}\n\n\t\t} catch (err) {\n\t\t\tconsole.error('获取文章详情失败：', err)\n\t\t\tuni.showToast({\n\t\t\t\ttitle: '获取文章详情失败',\n\t\t\t\ticon: 'none'\n\t\t\t})\n\t\t}\n\t}\n\n\t// 获取评论列表\n\tconst getCommentList = async () => {\n\t\tisLoadingComments.value = true\n\t\tisCommentsLoading.value = true\n\t\t\n\t\ttry {\n\t\t\t// 使用articleApi.getCommentList获取评论列表\n\t\t\tconst result = await articleApi.getCommentList(props.article_id)\n\t\t\t\n\t\t\t// 检查结果是否有效\n\t\t\tif (result && result.code === 0 && Array.isArray(result.data)) {\n\t\t\t\t\n\t\t\t\t// 创建一个用户ID到手机号的映射\n\t\t\t\tconst userIdToMobileMap = {}\n\t\t\t\t\n\t\t\t\t// 如果文章详情中有作者手机号，先添加到映射中\n\t\t\t\tif (articleDetail.value && articleDetail.value.user_id && articleDetail.value.user_mobile) {\n\t\t\t\t\tuserIdToMobileMap[articleDetail.value.user_id] = articleDetail.value.user_mobile\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\t// 如果当前用户已登录且有手机号，添加到映射中\n\t\t\t\tif (userStore.userInfo && userStore.userInfo.uid && userStore.userInfo.mobile) {\n\t\t\t\t\tuserIdToMobileMap[userStore.userInfo.uid] = userStore.userInfo.mobile\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\t// 处理评论数据，确保每条评论都有必要的字段\n\t\t\t\tconst processedComments = result.data.map(comment => {\n\t\t\t\t\t// 确保评论有基本字段\n\t\t\t\t\tconst processedComment = {\n\t\t\t\t\t\t...comment,\n\t\t\t\t\t\t_id: comment._id || comment.id,\n\t\t\t\t\t\tnickName: comment.nickName || '匿名用户',\n\t\t\t\t\t\tavatarUrl: comment.avatarUrl || '/static/images/default-avatar.png',\n\t\t\t\t\t\tcontent: comment.content || '',\n\t\t\t\t\t\tcreate_time: comment.create_time || new Date().getTime(),\n\t\t\t\t\t\tlikeCount: comment.like_count || 0,\n\t\t\t\t\t\tisLiked: comment.is_liked || false\n\t\t\t\t\t}\n\t\t\t\t\t\n\t\t\t\t\t// 如果评论中已有手机号，添加到映射中\n\t\t\t\t\tif (comment.mobile) {\n\t\t\t\t\t\tuserIdToMobileMap[comment.user_id] = comment.mobile\n\t\t\t\t\t}\n\t\t\t\t\t\n\t\t\t\t\treturn processedComment\n\t\t\t\t})\n\t\t\t\t\n\t\t\t\t// 获取缺少手机号的用户ID列表\n\t\t\t\tconst userIdsWithoutMobile = processedComments\n\t\t\t\t\t.filter(comment => comment.user_id && !userIdToMobileMap[comment.user_id])\n\t\t\t\t\t.map(comment => comment.user_id)\n\t\t\t\t\n\t\t\t\t// 如果有没有手机号的用户，尝试从数据库获取\n\t\t\t\tif (userIdsWithoutMobile.length > 0) {\n\t\t\t\t\ttry {\n\t\t\t\t\t\t// 直接从数据库查询用户信息\n\t\t\t\t\t\tconst db = uniCloud.database();\n\t\t\t\t\t\tconst userCollection = db.collection('user');\n\t\t\t\t\t\t\n\t\t\t\t\t\t// 查询这些用户ID的用户信息\n\t\t\t\t\t\tconst userResult = await userCollection.where({\n\t\t\t\t\t\t\t_id: db.command.in(userIdsWithoutMobile)\n\t\t\t\t\t\t}).field({\n\t\t\t\t\t\t\t_id: true,\n\t\t\t\t\t\t\tmobile: true\n\t\t\t\t\t\t}).get();\n\t\t\t\t\t\t\n\t\t\t\t\t\tif (userResult && userResult.data && userResult.data.length > 0) {\n\t\t\t\t\t\t\t// 更新映射\n\t\t\t\t\t\t\tuserResult.data.forEach(user => {\n\t\t\t\t\t\t\t\tif (user._id && user.mobile) {\n\t\t\t\t\t\t\t\t\tuserIdToMobileMap[user._id] = user.mobile;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t// 修改：使用userDy云对象的getUserInfo方法逐个获取用户信息，而不是使用不存在的getUsersByIds方法\n\t\t\t\t\t\t\ttry {\n\t\t\t\t\t\t\t\t// 逐个查询用户信息\n\t\t\t\t\t\t\t\tfor (const userId of userIdsWithoutMobile) {\n\t\t\t\t\t\t\t\t\ttry {\n\t\t\t\t\t\t\t\t\t\tconst userInfoResult = await userApi.getUserInfo(userId);\n\t\t\t\t\t\t\t\t\t\tif (userInfoResult && userInfoResult.data && userInfoResult.data.mobile) {\n\t\t\t\t\t\t\t\t\t\t\tuserIdToMobileMap[userId] = userInfoResult.data.mobile;\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t} catch (singleUserError) {\n\t\t\t\t\t\t\t\t\t\tconsole.warn(`获取用户 ${userId} 信息失败:`, singleUserError);\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t} catch (userApiError) {\n\t\t\t\t\t\t\t\tconsole.error('获取用户信息失败:', userApiError);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t} catch (dbError) {\n\t\t\t\t\t\tconsole.error('从数据库获取用户手机号失败:', dbError);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\t// 更新评论中的手机号\n\t\t\t\tconst finalComments = processedComments.map(comment => {\n\t\t\t\t\tif (comment.user_id && userIdToMobileMap[comment.user_id]) {\n\t\t\t\t\t\tcomment.mobile = userIdToMobileMap[comment.user_id];\n\t\t\t\t\t} else if (comment.mobile === '无手机号') {\n\t\t\t\t\t\t// 如果已经设置为\"无手机号\"，则清空它\n\t\t\t\t\t\tcomment.mobile = '';\n\t\t\t\t\t}\n\t\t\t\t\t// 如果没有手机号，保持原样，不设置为\"无手机号\"\n\t\t\t\t\treturn comment;\n\t\t\t\t})\n\t\t\t\t\n\t\t\t\t// 更新评论列表\n\t\t\t\tarticleComment.value = finalComments\n\t\t\t\t\n\t\t\t\t// 重置评论显示状态\n\t\t\t\tshowAllComments.value = finalComments.length <= 5;\n\t\t\t\tdisplayCommentsCount.value = Math.min(5, finalComments.length);\n\t\t\t} else {\n\t\t\t\tconsole.error('获取评论列表失败: 返回结果无效', result)\n\t\t\t\tarticleComment.value = []\n\t\t\t\t// 重置评论显示状态\n\t\t\t\tshowAllComments.value = true;\n\t\t\t\tdisplayCommentsCount.value = 0;\n\t\t\t}\n\t\t} catch (error) {\n\t\t\tconsole.error('获取评论列表出错:', error)\n\t\t\tuni.showToast({\n\t\t\t\ttitle: '获取评论失败，请稍后再试',\n\t\t\t\ticon: 'none'\n\t\t\t})\n\t\t\tarticleComment.value = []\n\t\t\t// 重置评论显示状态\n\t\t\tshowAllComments.value = true;\n\t\t\tdisplayCommentsCount.value = 0;\n\t\t} finally {\n\t\t\t// 无论是否有评论，都结束加载状态\n\t\t\tisLoadingComments.value = false\n\t\t\tisCommentsLoading.value = false\n\t\t}\n\t}\n\n\t// 监听评论数量变化\n\twatch(() => articleComment.value.length, (newCount, oldCount) => {\n\t})\n\n\t// 添加页面刷新方法\n\tconst refreshPage = async () => {\n\t\ttry {\n\t\t\t// 设置加载状态\n\t\t\tisLoading.value = true;\n\t\t\tisCommentsLoading.value = true;\n\t\t\t\n\t\t\t// 重新加载文章详情\n\t\t\tawait getArticleDetail();\n\t\t\t\n\t\t\t// 重新加载评论列表\n\t\t\tawait getCommentList();\n\t\t\t\n\t\t\t// 更新浏览计数\n\t\t\tawait updatePageView();\n\t\t\t\n\t\t\tconsole.log('页面数据已刷新');\n\t\t} catch (error) {\n\t\t\tconsole.error('刷新页面数据失败:', error);\n\t\t\tuni.showToast({\n\t\t\t\ttitle: '刷新数据失败',\n\t\t\t\ticon: 'none'\n\t\t\t});\n\t\t} finally {\n\t\t\t// 重置加载状态\n\t\t\tisLoading.value = false;\n\t\t\tisCommentsLoading.value = false;\n\t\t\t\n\t\t\t// 停止下拉刷新动画（如果有）\n\t\t\tuni.stopPullDownRefresh();\n\t\t}\n\t}\n\n\t// 添加下拉刷新处理函数\n\tonPullDownRefresh(() => {\n\t\trefreshPage();\n\t});\n\n\t// 提交评论\n\tconst commentSubmit = async () => {\n\t\tif (isSubmitting.value) {\n\t\t\treturn\n\t\t}\n\n\t\ttry {\n\t\t\t// 检查用户信息是否完整\n\t\t\tif (!userStore.userInfo.uid || !userStore.userInfo.nickName) {\n\t\t\t\tthrow new Error('用户信息不完整，请重新登录')\n\t\t\t}\n\n\t\t\tconst content = commentContent.value.trim()\n\t\t\tif (!content) {\n\t\t\t\treturn uni.showToast({\n\t\t\t\t\ttitle: '评论内容不能为空',\n\t\t\t\t\ticon: 'none',\n\t\t\t\t\tduration: 2000\n\t\t\t\t})\n\t\t\t}\n\n\t\t\tisSubmitting.value = true\n\n\t\t\t// 显示加载提示\n\t\t\tuni.showLoading({\n\t\t\t\ttitle: '提交中...',\n\t\t\t\tmask: true\n\t\t\t})\n\n\t\t\t// 获取用户手机号\n\t\t\tlet userMobile = userStore.userInfo.mobile || '';\n\t\t\tif (!userMobile) {\n\t\t\t\ttry {\n\t\t\t\t\tconst localUserInfo = uni.getStorageSync('userInfo');\n\t\t\t\t\tif (localUserInfo && localUserInfo.mobile) {\n\t\t\t\t\t\tuserMobile = localUserInfo.mobile;\n\t\t\t\t\t}\n\t\t\t\t\t} catch (err) {\n\t\t\t\t\tconsole.error('[前端] 获取本地存储的用户信息失败:', err);\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// 构建评论数据\n\t\t\tconst commentData = {\n\t\t\t\tarticle_id: articleDetail.value._id,\n\t\t\t\tuser_id: userStore.userInfo.uid,\n\t\t\t\tcontent: content,\n\t\t\t\tnickName: userStore.userInfo.nickName || '匿名用户',\n\t\t\t\tavatarUrl: userStore.userInfo.avatarUrl || '',\n\t\t\t\tmobile: userMobile || '',\n\t\t\t\tuser_mobile: userMobile || ''\n\t\t\t}\n\n\t\t\t// 提交评论\n\t\t\tconst result = await commentApi.addComment(commentData)\n\n\t\t\tif (result.code === 0) {\n\t\t\t\t// 清空评论内容\n\t\t\t\tcommentContent.value = ''\n\t\t\t\t\n\t\t\t\t// 显示成功消息\n\t\t\t\tuni.showToast({\n\t\t\t\t\ttitle: '评论成功',\n\t\t\t\t\ticon: 'success',\n\t\t\t\t\tduration: 1500,\n\t\t\t\t\tsuccess: () => {\n\t\t\t\t\t\t// 等待提示显示完毕后刷新页面\n\t\t\t\t\t\tsetTimeout(() => {\n\t\t\t\t\t\t\t// 刷新整个页面以确保所有数据同步\n\t\t\t\t\t\t\trefreshPage();\n\t\t\t\t\t\t}, 1000);\n\t\t\t\t\t}\n\t\t\t\t})\n\t\t\t} else {\n\t\t\t\tthrow new Error(result.message || '评论失败')\n\t\t\t}\n\t\t} catch (err) {\n\t\t\tconsole.error('[前端] 评论失败:', {\n\t\t\t\terror: err,\n\t\t\t\tmessage: err.message,\n\t\t\t\tstack: err.stack\n\t\t\t})\n\t\t\tuni.showToast({\n\t\t\t\ttitle: err.message || '评论失败，请稍后重试',\n\t\t\t\ticon: 'none',\n\t\t\t\tduration: 2000\n\t\t\t})\n\t\t} finally {\n\t\t\t// 隐藏加载提示\n\t\t\tuni.hideLoading()\n\t\t\tisSubmitting.value = false\n\t\t}\n\t}\n\n\t// 处理删除评论\n\tconst handelDelComment = async (commentId) => {\n\t\ttry {\n\t\t\tconst confirmRes = await uni.showModal({\n\t\t\t\ttitle: '提示',\n\t\t\t\tcontent: '确定要删除这条评论吗？',\n\t\t\t\tconfirmText: '删除',\n\t\t\t\tconfirmColor: '#ff0000'\n\t\t\t})\n\t\t\t\n\t\t\tif (!confirmRes.confirm) return\n\n\t\t\tuni.showLoading({\n\t\t\t\ttitle: '删除中...',\n\t\t\t\tmask: true\n\t\t\t})\n\n\t\t\tconst result = await articleApi.deleteComment(commentId)\n\t\t\t\n\t\t\tif (result.code === 0) {\n\t\t\t\t// 显示成功消息\n\t\t\t\tuni.showToast({\n\t\t\t\t\ttitle: '删除成功',\n\t\t\t\t\ticon: 'success',\n\t\t\t\t\tduration: 1500,\n\t\t\t\t\tsuccess: () => {\n\t\t\t\t\t\t// 等待提示显示完毕后刷新页面\n\t\t\t\t\t\tsetTimeout(() => {\n\t\t\t\t\t\t\t// 刷新整个页面以确保所有数据同步\n\t\t\t\t\t\t\trefreshPage();\n\t\t\t\t\t\t}, 1000);\n\t\t\t\t\t}\n\t\t\t\t})\n\t\t\t} else {\n\t\t\t\tthrow new Error(result.message || '删除失败')\n\t\t\t}\n\t\t} catch (err) {\n\t\t\tconsole.error('删除失败:', err)\n\t\t\tuni.showToast({\n\t\t\t\ttitle: typeof err === 'string' ? err : (err.message || '删除失败'),\n\t\t\t\ticon: 'none'\n\t\t\t})\n\t\t} finally {\n\t\t\tuni.hideLoading()\n\t\t}\n\t}\n\n\t// 添加常用评论词汇数组\n\tconst commonComments = ref([\n\t\t'不错',\n\t\t'支持一下',\n\t\t'有用',\n\t\t'谢谢分享',\n\t\t'学习了',\n\t\t'点赞',\n\t\t'期待更多',\n\t\t'很好',\n\t\t'厉害',\n\t\t'喜欢',\n\t\t'太棒了',\n\t\t'赞一个',\n\t\t'非常好',\n\t\t'实用',\n\t\t'感谢楼主',\n\t\t'分享给朋友',\n\t\t'楼主辛苦了',\n\t\t'收藏了',\n\t\t'关注了',\n\t\t'顶一下'\n\t])\n\t\n\t// 随机推荐词汇\n\tconst recommendedComments = ref([])\n\t\n\t// 生成随机推荐词汇\n\tconst generateRecommendedComments = () => {\n\t\t// 清空原有推荐\n\t\trecommendedComments.value = []\n\t\t\n\t\t// 从常用评论中随机选择4个不重复的词汇\n\t\tconst tempArray = [...commonComments.value]\n\t\tconst count = Math.min(4, tempArray.length)\n\t\t\n\t\tfor (let i = 0; i < count; i++) {\n\t\t\tconst randomIndex = Math.floor(Math.random() * tempArray.length)\n\t\t\trecommendedComments.value.push(tempArray[randomIndex])\n\t\t\ttempArray.splice(randomIndex, 1)\n\t\t}\n\t}\n\t\n\t// 选择推荐词汇\n\tconst selectRecommendedComment = (comment) => {\n\t\tcommentContent.value = comment\n\t\t// 不再自动提交评论\n\t}\n\t\n\t// 打开评论弹窗时生成推荐词汇\n\tconst handleCommentClick = async () => {\n\t\ttry {\n\t\t\t// 检查登录状态\n\t\t\tconst isLoggedIn = await customTestLogin()\n\t\t\tif (!isLoggedIn) {\n\t\t\t\t// customTestLogin 已经处理了登录跳转\n\t\t\t\treturn\n\t\t\t}\n\n\t\t\t// 生成推荐词汇\n\t\t\tgenerateRecommendedComments()\n\t\t\t\n\t\t\t// 显示自定义弹窗\n\t\t\tshowCommentPopup.value = true\n\t\t} catch (err) {\n\t\t\tconsole.error('评论点击处理失败:', err)\n\t\t\tuni.showToast({\n\t\t\t\ttitle: '操作失败，请重试',\n\t\t\t\ticon: 'none'\n\t\t\t})\n\t\t}\n\t}\n\t\n\t// 添加评论弹窗状态\n\tconst showCommentPopup = ref(false);\n\t// 弹窗提交评论\n\tconst submitPopupComment = () => {\n\t\tif (commentContent.value.trim()) {\n\t\t\tcommentSubmit()\n\t\t\tshowCommentPopup.value = false\n\t\t} else {\n\t\t\tuni.showToast({\n\t\t\t\ttitle: '评论内容不能为空',\n\t\t\t\ticon: 'none'\n\t\t\t})\n\t\t}\n\t}\n\t\n\t// 关闭评论弹窗\n\tconst closeCommentPopup = () => {\n\t\tshowCommentPopup.value = false\n\t\tcommentContent.value = ''\n\t}\n\n\t// 跳转到首页\n\tconst goToHome = ( ) => {\n\t\tuni.switchTab( {\n\t\t\turl: '/pages/index/index'\n\t\t} )\n\t}\n\n\t// 修改处理打电话的方法\n\tconst handleCall = async () => {\n\t\ttry {\n\t\t\t// 检查登录状态\n\t\t\tconst isLoggedIn = await customTestLogin()\n\t\t\tif (!isLoggedIn) {\n\t\t\t\t// customTestLogin 已经处理了登录跳转\n\t\t\t\treturn\n\t\t\t}\n\n\t\t\t// 如果没有就给与提示\n\t\t\tif (articleDetail.value.user_mobile === '未填写') {\n\t\t\t\treturn uni.showToast({\n\t\t\t\t\ticon: 'none',\n\t\t\t\t\ttitle: '没有联系方式'\n\t\t\t\t})\n\t\t\t}\n\n\t\t\t// 如果有就拨打电话\n\t\t\tuni.makePhoneCall({\n\t\t\t\tphoneNumber: articleDetail.value.user_mobile,\n\t\t\t\tfail: (err) => {\n\t\t\t\t\tuni.showToast({\n\t\t\t\t\t\ttitle: '拨打电话失败',\n\t\t\t\t\t\ticon: 'none'\n\t\t\t\t\t})\n\t\t\t\t}\n\t\t\t})\n\t\t} catch (err) {\n\t\t\tconsole.error('拨打电话失败:', err)\n\t\t\tuni.showToast({\n\t\t\t\ttitle: '操作失败，请重试',\n\t\t\t\ticon: 'none'\n\t\t\t})\n\t\t}\n\t}\n\n\t// 修改 customTestLogin 方法，解决showLoading/hideLoading配对问题\n\tconst customTestLogin = async () => {\n\t\tif (isCheckingLogin.value) return false;\n\t\tisCheckingLogin.value = true;\n\n\t\ttry {\n\t\t\t// 如果已登录，直接返回true\n\t\t\tif (userStore.userInfo && userStore.userInfo.uid) {\n\t\t\t\t\n\t\t\t\t// 如果用户已登录但没有手机号，尝试获取手机号\n\t\t\t\tif (!userStore.userInfo.mobile) {\n\t\t\t\t\t\n\t\t\t\t\ttry {\n\t\t\t\t\t\t// 尝试从本地存储获取\n\t\t\t\t\t\tconst localUserInfo = uni.getStorageSync('userInfo');\n\t\t\t\t\t\tif (localUserInfo && localUserInfo.mobile) {\n\t\t\t\t\t\t\t// 更新用户信息\n\t\t\t\t\t\t\tuserStore.setUserInfo({\n\t\t\t\t\t\t\t\t...userStore.userInfo,\n\t\t\t\t\t\t\t\tmobile: localUserInfo.mobile\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t// 尝试从服务器获取用户信息 - 使用userDy云函数代替userKs\n\t\t\t\t\t\t\ttry {\n\t\t\t\t\t\t\t\t// 使用userDy云函数获取用户信息\n\t\t\t\t\t\t\t\tconst userInfoApi = uniCloud.importObject('userDy', { customUI: true });\n\t\t\t\t\t\t\t\tconst userResult = await userInfoApi.getUserInfo(userStore.userInfo.uid);\n\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\tif (userResult && userResult.data && userResult.data.mobile) {\n\t\t\t\t\t\t\t\t\t// 更新用户信息\n\t\t\t\t\t\t\t\t\tuserStore.setUserInfo({\n\t\t\t\t\t\t\t\t\t\t...userStore.userInfo,\n\t\t\t\t\t\t\t\t\t\tmobile: userResult.data.mobile\n\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t\t// 保存到本地存储\n\t\t\t\t\t\t\t\t\tuni.setStorageSync('userInfo', {\n\t\t\t\t\t\t\t\t\t\t...userStore.userInfo,\n\t\t\t\t\t\t\t\t\t\tmobile: userResult.data.mobile\n\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t} catch (err) {\n\t\t\t\t\t\t\t\t// 继续执行，不阻止用户操作\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t} catch (err) {\n\t\t\t\t\t\tconsole.error('获取用户手机号失败:', err);\n\t\t\t\t\t\t// 继续执行，不阻止用户操作\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\tisCheckingLogin.value = false;\n\t\t\t\treturn true;\n\t\t\t}\n\t\t\t\n\t\t\t// 检查是否已经显示loading，避免重复显示\n\t\t\tif (!loginLoadingVisible.value) {\n\t\t\t\tloginLoadingVisible.value = true;\n\t\t\t\t// 显示加载提示\n\t\t\t\tuni.showLoading({\n\t\t\t\t\ttitle: '登录中...',\n\t\t\t\t\tmask: true\n\t\t\t\t});\n\t\t\t}\n\t\t\t\n\t\t\t// 不再使用 loginApi.login()，直接跳转到登录页面\n\t\t\t// 获取当前页面路径和参数\n\t\t\tconst pages = getCurrentPages();\n\t\t\tconst currentPage = pages[pages.length - 1];\n\t\t\tconst currentRoute = currentPage.route;\n\t\t\tconst currentOptions = currentPage.options || {};\n\t\t\t\n\t\t\t// 构建完整的当前页面URL（包含参数）\n\t\t\t// 确保路径以斜杠开头\n\t\t\tlet redirectUrl = '/' + currentRoute;\n\t\t\tconst queryParams = [];\n\t\t\t\n\t\t\tfor (const key in currentOptions) {\n\t\t\t\tif (currentOptions.hasOwnProperty(key)) {\n\t\t\t\t\tqueryParams.push(`${key}=${encodeURIComponent(currentOptions[key])}`);\n\t\t\t\t}\n\t\t\t}\n\t\t\t\n\t\t\tif (queryParams.length > 0) {\n\t\t\t\tredirectUrl += '?' + queryParams.join('&');\n\t\t\t}\n\t\t\t\n\t\t\t// 隐藏加载提示\n\t\t\tif (loginLoadingVisible.value) {\n\t\t\t\tuni.hideLoading();\n\t\t\t\tloginLoadingVisible.value = false;\n\t\t\t}\n\t\t\t\n\t\t\t// 跳转到登录页面，并传递当前页面作为重定向参数\n\t\t\tuni.navigateTo({\n\t\t\t\turl: `/pages/login/login?redirect=${encodeURIComponent(redirectUrl)}`,\n\t\t\t\tcomplete: () => {\n\t\t\t\t\tisCheckingLogin.value = false;\n\t\t\t\t}\n\t\t\t});\n\t\t\t\n\t\t\treturn false;\n\t\t} catch (err) {\n\t\t\tconsole.error('登录检查失败:', err);\n\t\t\t\n\t\t\t// 隐藏加载提示\n\t\t\tif (loginLoadingVisible.value) {\n\t\t\t\tuni.hideLoading();\n\t\t\t\tloginLoadingVisible.value = false;\n\t\t\t}\n\t\t\t\n\t\t\t// 显示提示\n\t\t\tuni.showToast({\n\t\t\t\ttitle: '登录检查失败，请重试',\n\t\t\t\ticon: 'none',\n\t\t\t\tduration: 2000\n\t\t\t});\n\t\t\t\n\t\t\t// 发生错误时也跳转到登录页\n\t\t\tconst currentRoute = `/pages/article/articleDetail?article_id=${props.article_id}`;\n\t\t\tconst redirectUrl = encodeURIComponent(currentRoute);\n\t\t\t\n\t\t\t// 延迟跳转，让用户看到提示\n\t\t\tsetTimeout(() => {\n\t\t\t\tuni.navigateTo({\n\t\t\t\t\turl: `/pages/login/login?redirect=${redirectUrl}`,\n\t\t\t\t\tcomplete: () => {\n\t\t\t\t\t\tisCheckingLogin.value = false;\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t}, 1500);\n\t\t\t\n\t\t\treturn false;\n\t\t} finally {\n\t\t\tisCheckingLogin.value = false;\n\t\t}\n\t};\n\n\t// 确保updatePageView函数正确使用uni.$emit发送浏览量更新事件\n\tconst updatePageView = async () => {\n\t\ttry {\n\t\t\tif (!articleDetail.value._id) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\t\n\t\t\tconst result = await articleApi.updateLookCount(articleDetail.value._id);\n\t\t\t\n\t\t\tif (result && result.code === 0) {\n\t\t\t\t// 更新本地浏览量显示\n\t\t\t\tarticleDetail.value.look_count = (articleDetail.value.look_count || 0) + 1;\n\t\t\t\t\n\t\t\t\t// 使用uni.$emit发送浏览量更新事件，修改为正确的事件名称\n\t\t\t\t// 发送事件通知其他页面更新浏览量\n\t\t\t\tuni.$emit('viewCountUpdated', articleDetail.value._id);\n\t\t\t\t\n\t\t\t\tconsole.log('发送浏览量更新事件:', articleDetail.value._id, '浏览量:', articleDetail.value.look_count);\n\t\t\t} else {\n\t\t\t\tconsole.error('更新浏览量失败:', result);\n\t\t\t}\n\t\t} catch (err) {\n\t\t\tconsole.error('更新浏览量出错:', err);\n\t\t\tthrow err; // 重新抛出错误，让调用者可以捕获\n\t\t}\n\t}\n\n\t// 添加保存浏览记录的方法\n\tconst saveViewedArticle = () => {\n\t\ttry {\n\t\t\tif (!articleDetail.value || !articleDetail.value._id) return\n\t\t\t\n\t\t\t// 获取当前文章的基本信息\n\t\t\tconst article = {\n\t\t\t\t_id: articleDetail.value._id,\n\t\t\t\ttitle: articleDetail.value.content ? articleDetail.value.content.substring(0, 30) : '无标题',\n\t\t\t\tcontent: articleDetail.value.content || '',\n\t\t\t\tcate_name: articleDetail.value.cate_name || '未分类',\n\t\t\t\tcreate_time: articleDetail.value.create_time,\n\t\t\t\tview_time: Date.now(), // 浏览时间\n\t\t\t\timages: articleDetail.value.images && articleDetail.value.images.length > 0 \n\t\t\t\t\t? [articleDetail.value.images[0]] // 只保存第一张图片信息\n\t\t\t\t\t: []\n\t\t\t}\n\t\t\t\n\t\t\t// 从本地存储获取已浏览文章列表\n\t\t\tlet viewedArticles = uni.getStorageSync('viewedArticles') || []\n\t\t\t\n\t\t\t// 检查是否已存在该文章\n\t\t\tconst existingIndex = viewedArticles.findIndex(item => item._id === article._id)\n\t\t\t\n\t\t\tif (existingIndex !== -1) {\n\t\t\t\t// 如果已存在，更新浏览时间并移到列表最前面\n\t\t\t\tviewedArticles.splice(existingIndex, 1)\n\t\t\t}\n\t\t\t\n\t\t\t// 将当前文章添加到列表最前面\n\t\t\tviewedArticles.unshift(article)\n\t\t\t\n\t\t\t// 限制保存的数量，最多保存50篇\n\t\t\tif (viewedArticles.length > 50) {\n\t\t\t\tviewedArticles = viewedArticles.slice(0, 50)\n\t\t\t}\n\t\t\t\n\t\t\t// 保存到本地存储\n\t\t\tuni.setStorageSync('viewedArticles', viewedArticles)\n\t\t} catch (err) {\n\t\t\tconsole.error('保存浏览记录失败:', err)\n\t\t}\n\t}\n\n\t// 修改页面加载逻辑\n\tonMounted(async () => {\n\t\ttry {\n\t\t\t// 获取粉丝群ID\n\t\t\tawait fetchFansGroupId()\n\t\t\t\n\t\t\t// 初始化加载状态\n\t\t\tisLoading.value = true;\n\t\t\tisCommentsLoading.value = true;\n\t\t\t\n\t\t\t// 从当前页面获取参数\n\t\t\tconst pages = getCurrentPages();\n\t\t\tconst currentPage = pages[pages.length - 1];\n\t\t\tconst options = currentPage.$page?.options || {};\n\t\t\t\n\t\t\t// 使用当前页面的 options 获取 article_id\n\t\t\tconst articleId = options.article_id || props.article_id;\n\t\t\t\n\t\t\tif (!articleId) {\n\t\t\t\tthrow new Error('文章ID不能为空');\n\t\t\t}\n\n\t\t\t// 先获取文章详情，让用户尽快看到内容\n\t\t\tawait getArticleDetail();\n\t\t\t\n\t\t\t// 文章详情加载完成后，就可以显示页面了\n\t\t\tisLoading.value = false;\n\t\t\t\n\t\t\t// 获取视频播放器上下文\n\t\t\tif (articleDetail.value.videoURL) {\n\t\t\t\tsetTimeout(() => {\n\t\t\t\t\tvideoContext.value = uni.createVideoContext('articleVideo');\n\t\t\t\t}, 300);\n\t\t\t}\n\t\t\t\n\t\t\t// 获取评论列表\n\t\t\tgetCommentList().catch(err => {\n\t\t\t\tconsole.error('获取评论列表失败:', err);\n\t\t\t\t// 确保评论加载状态被重置\n\t\t\t\tisCommentsLoading.value = false;\n\t\t\t\tisLoadingComments.value = false;\n\t\t\t});\n\t\t\t\n\t\t\t// 更新浏览量\n\t\t\tupdatePageView().catch(err => {\n\t\t\t\tconsole.error('更新浏览量失败:', err);\n\t\t\t});\n\t\t\t\n\t\t\t// 添加文章到浏览记录\n\t\t\tsaveViewedArticle();\n\t\t\t\n\t\t\t// 显示加群引导弹窗\n\t\t\tsetTimeout(() => {\n\t\t\t\tshowGroupGuide.value = true;\n\t\t\t}, 1000);\n\t\t\t\n\t\t} catch (err) {\n\t\t\tconsole.error('页面初始化失败:', err);\n\t\t\tuni.showToast({\n\t\t\t\ttitle: '加载失败，请重试',\n\t\t\t\ticon: 'none'\n\t\t\t});\n\t\t} finally {\n\t\t\t// 确保在任何情况下都设置加载状态为false\n\t\t\tisLoading.value = false;\n\t\t}\n\t})\n\n\tonUnmounted(() => {\n\t\t// 清除定时器\n\t\tif (commentRefreshTimer.value) {\n\t\t\tclearInterval(commentRefreshTimer.value)\n\t\t}\n\t})\n\n\t// 添加图片预览方法\n\tconst previewImage = (current) => {\n\t\tif (!articleDetail.value.images || !articleDetail.value.images.length) return\n\t\t\n\t\tconst urls = articleDetail.value.images.map(img => img.compressedURL || img.url)\n\t\tuni.previewImage({\n\t\t\tcurrent: current, // 当前显示图片的索引\n\t\t\turls: urls, // 需要预览的图片链接列表\n\t\t\tindicator: 'number',\n\t\t\tloop: true,\n\t\t\tfail: (err) => {\n\t\t\t\tconsole.error('预览图片失败:', err)\n\t\t\t\tuni.showToast({\n\t\t\t\t\ttitle: '预览图片失败',\n\t\t\t\t\ticon: 'none'\n\t\t\t\t})\n\t\t\t}\n\t\t})\n\t}\n\n\t// 修改点赞处理方法\n\tconst handleCommentLike = (comment_id) => {\n\t\treturn new Promise(async (resolve, reject) => {\n\t\t\ttry {\n\t\t\t\t// 检查登录状态\n\t\t\t\tconst isLoggedIn = await customTestLogin()\n\t\t\t\tif (!isLoggedIn) {\n\t\t\t\t\tthrow new Error('请先登录')\n\t\t\t\t}\n\n\t\t\t\t// 检查参数\n\t\t\t\tif (!props.article_id || !userStore.userInfo.uid) {\n\t\t\t\t\tthrow new Error('参数错误')\n\t\t\t\t}\n\n\t\t\t\t// 调用点赞方法\n\t\t\t\tconst params = {\n\t\t\t\t\tarticle_id: props.article_id,\n\t\t\t\t\tcomment_id: comment_id,\n\t\t\t\t\tuser_id: userStore.userInfo.uid\n\t\t\t\t}\n\n\t\t\t\tconst result = await articleApi.likeComment(params)\n\t\t\t\t\n\t\t\t\tif (result.code === 0) {\n\t\t\t\t\tresolve(result)\n\t\t\t\t} else {\n\t\t\t\t\tthrow new Error(result.message || '操作失败')\n\t\t\t\t}\n\t\t\t} catch (err) {\n\t\t\t\treject(err)\n\t\t\t}\n\t\t})\n\t}\n\n\t// 添加文章点赞状态\n\tconst isArticleLiked = ref(false)\n\tconst likeCount = ref(0)\n\t\n\t// 获取文章点赞状态\n\tconst getArticleLikeStatus = async () => {\n\t\ttry {\n\t\t\tif (!props.article_id || !userStore.userInfo.uid) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\t\n\t\t\t// 先设置默认状态，确保即使请求失败也有基本显示\n\t\t\tif (articleDetail.value) {\n\t\t\t\tlikeCount.value = articleDetail.value.like_count || 0;\n\t\t\t}\n\t\t\t\n\t\t\ttry {\n\t\t\t\tconst result = await likeApi.getLikeRecord(props.article_id, userStore.userInfo.uid);\n\t\t\t\t\n\t\t\t\t// 更新点赞状态\n\t\t\t\tisArticleLiked.value = result.res.data && result.res.data.length > 0;\n\t\t\t\t\n\t\t\t\t// 更新点赞数\n\t\t\t\tif (articleDetail.value) {\n\t\t\t\t\tlikeCount.value = articleDetail.value.like_count || 0;\n\t\t\t\t} else {\n\t\t\t\t\tlikeCount.value = result.like_count || 0;\n\t\t\t\t}\n\t\t\t} catch (err) {\n\t\t\t\tconsole.error('获取点赞记录失败:', err);\n\t\t\t\t// 使用默认值继续执行\n\t\t\t\tisArticleLiked.value = false;\n\t\t\t}\n\t\t\t\n\t\t\t// 发送事件通知其他组件更新点赞状态\n\t\t\tuni.$emit('updateArticleLikeStatus', {\n\t\t\t\tarticleId: props.article_id,\n\t\t\t\tisLiked: isArticleLiked.value,\n\t\t\t\tlikeCount: likeCount.value\n\t\t\t});\n\t\t} catch (err) {\n\t\t\tconsole.error('获取点赞状态失败:', err);\n\t\t\t// 使用默认值\n\t\t\tisArticleLiked.value = false;\n\t\t\tif (articleDetail.value) {\n\t\t\t\tlikeCount.value = articleDetail.value.like_count || 0;\n\t\t\t}\n\t\t}\n\t};\n\t\n\t// 添加处理轮播图变化的方法\n\tconst handleSwiperChange = (e) => {\n\t\tcurrentImageIndex.value = e.detail.current\n\t}\n\n\t// 添加图片加载完成的处理方法\n\tconst handleImageLoad = (index) => {\n\t\timageLoadStatus.value[index] = 'loaded';\n\t\tcheckAllImagesLoaded();\n\t};\n\t\n\t// 修改图片加载失败的处理方法\n\tconst handleImageError = (index) => {\n\t\tconsole.error('图片加载失败:', index, articleDetail.value.images && articleDetail.value.images[index]);\n\t\t\n\t\t// 清除超时计时器\n\t\tif (imageLoadTimeouts.value[index]) {\n\t\t\tclearTimeout(imageLoadTimeouts.value[index]);\n\t\t\tdelete imageLoadTimeouts.value[index];\n\t\t}\n\t\t\n\t\t// 初始化或增加重试计数\n\t\tif (!imageRetryCount.value[index]) {\n\t\t\timageRetryCount.value[index] = 1;\n\t\t} else {\n\t\t\timageRetryCount.value[index]++;\n\t\t}\n\t\t\n\t\t// 确保文章详情和图片数组存在\n\t\tif (!articleDetail.value || !articleDetail.value.images || !articleDetail.value.images[index]) {\n\t\t\timageLoadStatus.value[index] = 'error';\n\t\t\tcheckAllImagesLoaded();\n\t\t\treturn;\n\t\t}\n\t\t\n\t\t// 检查图片是否存在且未超过最大重试次数\n\t\tif (imageRetryCount.value[index] <= MAX_RETRY_COUNT) {\n\t\t\tconst img = articleDetail.value.images[index];\n\t\t\tlet shouldRetry = false;\n\t\t\tlet newUrl = '';\n\t\t\t\n\t\t\t// 尝试使用原始URL替代压缩URL\n\t\t\tif (img.compressedURL !== img.url && img.url) {\n\t\t\t\tconsole.log('尝试使用原始URL加载图片:', img.url);\n\t\t\t\tnewUrl = img.url;\n\t\t\t\tshouldRetry = true;\n\t\t\t}\n\t\t\t// 尝试添加时间戳避免缓存问题\n\t\t\telse if (img.compressedURL) {\n\t\t\t\tconst timestamp = new Date().getTime();\n\t\t\t\tnewUrl = img.compressedURL.includes('?') \n\t\t\t\t\t? `${img.compressedURL}&t=${timestamp}` \n\t\t\t\t\t: `${img.compressedURL}?t=${timestamp}`;\n\t\t\t\tshouldRetry = true;\n\t\t\t}\n\t\t\t\n\t\t\tif (shouldRetry && newUrl) {\n\t\t\t\t// 使用Vue的更新方法确保响应式更新\n\t\t\t\tarticleDetail.value.images[index] = {\n\t\t\t\t\t...articleDetail.value.images[index],\n\t\t\t\t\tcompressedURL: newUrl\n\t\t\t\t};\n\t\t\t\t\n\t\t\t\t// 保持loading状态以允许重试\n\t\t\t\timageLoadStatus.value[index] = 'loading';\n\t\t\t\t\n\t\t\t\t// 再次设置超时\n\t\t\t\timageLoadTimeouts.value[index] = setTimeout(() => {\n\t\t\t\t\tif (imageLoadStatus.value[index] === 'loading') {\n\t\t\t\t\t\timageLoadStatus.value[index] = 'error';\n\t\t\t\t\t\tcheckAllImagesLoaded();\n\t\t\t\t\t}\n\t\t\t\t}, IMAGE_LOAD_TIMEOUT);\n\t\t\t\t\n\t\t\t\treturn;\n\t\t\t}\n\t\t}\n\t\t\n\t\t// 如果多次尝试后仍然失败，标记为错误\n\t\timageLoadStatus.value[index] = 'error';\n\t\tconsole.log(`图片${index}加载失败，已标记为错误状态`);\n\t\tcheckAllImagesLoaded();\n\t\t\n\t\t// 如果第一张图片加载失败，立即隐藏加载状态显示界面内容\n\t\tif (index === 0) {\n\t\t\tsetTimeout(() => {\n\t\t\t\tisAnyImageLoading.value = false;\n\t\t\t}, 300);\n\t\t}\n\t};\n\t\n\t// 检查所有图片是否已加载\n\tconst checkAllImagesLoaded = () => {\n\t\tif (!articleDetail.value || !articleDetail.value.images) {\n\t\t\tisAnyImageLoading.value = false;\n\t\t\treturn;\n\t\t}\n\t\t\n\t\tconst imageCount = articleDetail.value.images.length;\n\t\tlet loadedCount = 0;\n\t\t\n\t\tfor (let i = 0; i < imageCount; i++) {\n\t\t\tif (imageLoadStatus.value[i] === 'loaded' || imageLoadStatus.value[i] === 'error') {\n\t\t\t\tloadedCount++;\n\t\t\t}\n\n\t\t}\n\t\t\n\t\tisAnyImageLoading.value = loadedCount < imageCount;\n\t};\n\n\t// 处理关注功能\n\tconst handleFollow = async (followedId) => {\n\t\t// ... existing code ...\n\t}\n\t\n\t// 处理客服会话\n\tconst handleContact = (e) => {\n\t\t// 记录客服会话事件\n\t\tconsole.log('客服会话事件:', e)\n\t\t\n\t\t// 使用新API获取应用基础信息\n\t\tlet appInfo;\n\t\ttry {\n\t\t\t// 尝试使用新API\n\t\t\tappInfo = uni.getAppBaseInfo();\n\t\t} catch (error) {\n\t\t\t// 降级处理：如果新API不可用，使用旧API\n\t\t\tconsole.warn('getAppBaseInfo不可用，使用getSystemInfoSync降级');\n\t\t\tappInfo = uni.getSystemInfoSync();\n\t\t}\n\t\t\n\t\tconst isKuaishou = appInfo.AppPlatform === 'kwaishop' || \n\t\t\t\t\t\t   appInfo.host === 'Kuaishou' || \n\t\t\t\t\t\t   appInfo.hostName === 'Kuaishou'\n\t\t\n\t\t// 如果不在快手环境中，提供备选方案\n\t\tif (!isKuaishou) {\n\t\t\t// 检查是否支持客服会话\n\t\t\tif (e.detail && e.detail.errMsg && e.detail.errMsg.includes('fail')) {\n\t\t\t\t// 显示提示\n\t\t\t\tuni.showModal({\n\t\t\t\t\ttitle: '联系客服',\n\t\t\t\t\tcontent: '请添加客服微信: customer_service_wx',\n\t\t\t\t\tconfirmText: '复制微信号',\n\t\t\t\t\tsuccess: (res) => {\n\t\t\t\t\t\tif (res.confirm) {\n\t\t\t\t\t\t\tuni.setClipboardData({\n\t\t\t\t\t\t\t\tdata: 'customer_service_wx',\n\t\t\t\t\t\t\t\tsuccess: () => {\n\t\t\t\t\t\t\t\t\tuni.showToast({\n\t\t\t\t\t\t\t\t\t\ttitle: '微信号已复制',\n\t\t\t\t\t\t\t\t\t\ticon: 'success'\n\t\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t})\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t})\n\t\t\t}\n\t\t}\n\t}\n\n\t// 文章点击跳转\n\tconst handleArticleClick = (articleId) => {\n\t\t// 如果点击的是当前文章，不做任何操作\n\t\tif (articleId === props.article_id) {\n\t\t\treturn\n\t\t}\n\t\t\n\t\t// 跳转到新的文章详情页\n\t\tuni.navigateTo({\n\t\t\turl: `/pages/article/articleDetail?article_id=${articleId}`,\n\t\t\tsuccess: () => {\n\t\t\t},\n\t\t\tfail: (err) => {\n\t\t\t\tconsole.error('跳转到文章详情页失败:', err)\n\t\t\t\tuni.showToast({\n\t\t\t\t\ttitle: '跳转失败',\n\t\t\t\t\ticon: 'none'\n\t\t\t\t})\n\t\t\t}\n\t\t})\n\t}\n\t\n\t// 修改触底事件处理\n\tonReachBottom(() => {\n\t\t// 调用推荐组件的加载更多方法\n\t\tif (tuijianRef.value) {\n\t\t\ttuijianRef.value.loadMore()\n\t\t}\n\t})\n\n\t// 处理点赞变化\n\tconst handleLikeChange = async (data) => {\n\t\t// 检查用户是否登录\n\t\tconst isLoggedIn = await customTestLogin();\n\t\tif (!isLoggedIn) {\n\t\t\tconsole.log('用户未登录，无法点赞');\n\t\t\treturn;\n\t\t}\n\t\t\n\t\t// 确保有用户信息\n\t\tif (!userStore.userInfo || !userStore.userInfo.uid) {\n\t\t\tconsole.error('用户信息不完整，无法点赞');\n\t\t\tuni.showToast({\n\t\t\t\ttitle: '登录信息异常，请重新登录',\n\t\t\t\ticon: 'none'\n\t\t\t});\n\t\t\treturn;\n\t\t}\n\t\t\n\t\t// 获取用户信息\n\t\tconst userInfo = {\n\t\t\tuid: userStore.userInfo.uid,\n\t\t\tnickName: userStore.userInfo.nickName || '匿名用户',\n\t\t\tavatarUrl: userStore.userInfo.avatarUrl || '/static/images/default-avatar.png'\n\t\t};\n\t\t\n\t\tconsole.log('点赞用户信息:', userInfo);\n\t\t\n\t\t// 更新文章详情中的点赞数\n\t\tif (articleDetail.value) {\n\t\t\tarticleDetail.value.like_count = data.likeCount;\n\t\t}\n\t\t\n\t\t// 更新点赞状态\n\t\tisArticleLiked.value = data.isLiked;\n\t\tlikeCount.value = data.likeCount;\n\t}\n\n\t// 添加视频事件处理\n\tconst handleVideoLoad = () => {\n\t\tvideoLoadStatus.value = 'loaded';\n\t};\n\t\n\tconst handleVideoError = () => {\n\t\tvideoLoadStatus.value = 'error';\n\t\tuni.showToast({\n\t\t\ttitle: '视频加载失败',\n\t\t\ticon: 'none'\n\t\t});\n\t};\n\n\t// 监听来自其他页面的状态变化事件\n\tuni.$on('commentVisibilityChanged', (newState) => {\n\t\tconsole.log('收到评论显示状态变化事件:', newState)\n\t\tif (navInfo.value) {\n\t\t\tnavInfo.value.isVisible = newState\n\t\t}\n\t})\n\t\n\tuni.$on('lotteryVisibilityChanged', (newState) => {\n\t\tconsole.log('收到抽奖模块显示状态变化事件:', newState)\n\t\tlotteryVisibility.value = newState\n\t})\n\t\n\t// 页面卸载时移除事件监听\n\tonUnmounted(() => {\n\t\t// 移除评论显示状态变化事件监听\n\t\tuni.$off('commentVisibilityChanged')\n\t\tuni.$off('lotteryVisibilityChanged')\n\t\t\n\t\t// 清除其他可能的监听器和定时器\n\t\tuni.$off('setShareInfo');\n\t\tuni.$off('viewCountUpdated');\n\t\tuni.$off('updateArticleLikeStatus');\n\t\t\n\t\t// 移除粉丝群ID变化事件监听\n\t\tuni.$off('fansGroupIdChanged')\n\t})\n\n\t// 切换抽奖组件显示状态\n\tconst toggleLotteryDraw = () => {\n\t\tif (!canDrawLottery.value) {\n\t\t\tuni.showToast({\n\t\t\t\ttitle: '至少需要3条评论才能抽奖',\n\t\t\t\ticon: 'none'\n\t\t\t})\n\t\t\treturn\n\t\t}\n\t\tshowLottery.value = !showLottery.value\n\t}\n\t\n\t// 从评论中选择幸运用户\n\tconst selectLuckyUser = (commentIndex) => {\n\t\tif (!articleComment.value || articleComment.value.length === 0) {\n\t\t\treturn null\n\t\t}\n\t\t\n\t\t// 如果指定了索引，使用该索引，否则随机选择\n\t\tif (commentIndex !== undefined) {\n\t\t\treturn articleComment.value[commentIndex % articleComment.value.length]\n\t\t}\n\t\t\n\t\t// 随机选择一个评论\n\t\tconst randomIndex = Math.floor(Math.random() * articleComment.value.length)\n\t\treturn articleComment.value[randomIndex]\n\t}\n\t\n\t// 处理抽奖结果\n\tconst handleLotteryResult = (result) => {\n\t\t// 根据结果类型选择不同数量的幸运用户\n\t\tlet winnerCount = 1\n\t\t\n\t\tif (result.includes('8元')) {\n\t\t\twinnerCount = 1\n\t\t} else if (result.includes('2元')) {\n\t\t\twinnerCount = 1\n\t\t} else if (result.includes('20元')) {\n\t\t\twinnerCount = 1\n\t\t} else if (result.includes('谢谢参与')) {\n\t\t\twinnerCount = 1\n\t\t}\n\t\t\n\t\t// 随机选择用户并获取该用户的所有评论\n\t\tconst winners = []\n\t\tconst commentsCopy = [...articleComment.value]\n\t\t\n\t\t// 确保有足够的评论用户\n\t\tif (commentsCopy.length > 0) {\n\t\t\t// 随机选择一个用户\n\t\t\tconst randomIndex = Math.floor(Math.random() * commentsCopy.length)\n\t\t\tconst selectedUser = commentsCopy[randomIndex]\n\t\t\t\n\t\t\t// 获取所有相同用户的评论\n\t\t\tconst sameUsers = articleComment.value.filter(comment => comment.nickName === selectedUser.nickName)\n\t\t\twinners.push(...sameUsers)\n\t\t}\n\t\t\n\t\tselectedWinner.value = winners\n\t\t\n\t\t\n\t}\n\n\t// 处理加入粉丝群事件\n\tconst handleJoinGroup = (e) => {\n\t\tconsole.log('加入群聊回调', e.detail);\n\t\t\n\t\t// 检查回调消息\n\t\tif (e.detail) {\n\t\t\t// 成功情况：有errMsg为\"onJoinGroup:ok\"或errNo为0\n\t\t\tif ((e.detail.errMsg && e.detail.errMsg === \"onJoinGroup:ok\") || \n\t\t\t    (e.detail.errNo !== undefined && e.detail.errNo === 0)) {\n\t\t\t\tuni.showToast({\n\t\t\t\t\ttitle: '加入群聊成功',\n\t\t\t\t\ticon: 'success'\n\t\t\t\t});\n\t\t\t\treturn;\n\t\t\t}\n\t\t\t\n\t\t\t// 失败情况：有错误消息\n\t\t\tif (e.detail.errMsg && e.detail.errMsg !== \"onJoinGroup:ok\") {\n\t\t\t\tuni.showToast({\n\t\t\t\t\ttitle: '加入失败: ' + e.detail.errMsg,\n\t\t\t\t\ticon: 'none'\n\t\t\t\t});\n\t\t\t\treturn;\n\t\t\t}\n\t\t\t\n\t\t\t// 失败情况：有错误码但不为0\n\t\t\tif (e.detail.errNo !== undefined && e.detail.errNo !== 0) {\n\t\t\t\tuni.showToast({\n\t\t\t\t\ttitle: '加入失败: ' + (e.detail.errMsg || '错误码: ' + e.detail.errNo),\n\t\t\t\t\ticon: 'none'\n\t\t\t\t});\n\t\t\t\treturn;\n\t\t\t}\n\t\t}\n\t\t\n\t\t// 未知情况\n\t\tconsole.log('未知的群聊回调结果', e);\n\t}\n\n\t// 添加引导加群弹窗状态\n\tconst showGroupGuide = ref(false)\n\t\n\t// 关闭加群引导弹窗\n\tconst closeGroupGuide = () => {\n\t\tshowGroupGuide.value = false;\n\t\t// 记录用户已关闭过弹窗，避免重复显示\n\t\ttry {\n\t\t\tuni.setStorageSync('hasClosedGroupGuide', 'true');\n\t\t} catch (e) {\n\t\t\tconsole.error('保存弹窗关闭状态失败', e);\n\t\t}\n\t}\n\t\n\t// 处理加群引导点击\n\tconst handleGuideJoinGroup = () => {\n\t\tcloseGroupGuide();\n\t\t// 标记已查看引导\n\t\ttry {\n\t\t\tuni.setStorageSync('hasSeenGroupGuide', 'true');\n\t\t} catch (e) {\n\t\t\tconsole.error('保存引导状态失败', e);\n\t\t}\n\t}\n\n\t// 监听来自其他页面的粉丝群ID变化事件\n\tuni.$on('fansGroupIdChanged', (newId) => {\n\t\tconsole.log('收到粉丝群ID变化事件:', newId)\n\t\tFANS_GROUP_ID.value = newId\n\t})\n</script>\n\n<template>\n\t<view class=\"article-detail-container\">\n\t\t<!-- 替换原有的加载页面，使用与首页相同的加载样式 -->\n\t\t<view class=\"custom-loading-container\" v-if=\"isLoading && !articleDetail._id\">\n\t\t\t<view class=\"loading-spinner\">\n\t\t\t\t<uni-icons type=\"spinner-cycle\" size=\"48\" color=\"#399bfe\"></uni-icons>\n\t\t\t</view>\n\t\t\t<text class=\"loading-text\">内容加载中...</text>\n\t\t</view>\n\n\t\t<view class=\"article-detail-container\" v-show=\"articleDetail._id\">\n\t\t\t<scroll-view \n\t\t\t\tclass=\"article-detail-scroll\" \n\t\t\t\tscroll-y \n\t\t\t\t@scrolltolower=\"tuijianRef?.loadMore()\"\n\t\t\t\t:show-scrollbar=\"false\"\n\t\t\t\t:lower-threshold=\"150\"\n\t\t\t\tenable-back-to-top\n\t\t\t>\n\t\t\t\t<view class=\"article-detail fade-in-animation\">\n\t\t\t\t\t<!-- 头部文章内容 -->\n\t\t\t\t\t<view class=\"articleHead\">\n\t\t\t\t\t\t<!-- 用户信息区域 -->\n\t\t\t\t\t\t<view class=\"article-user-info\">\n\t\t\t\t\t\t\t<view class=\"user-avatar-container\">\n\t\t\t\t\t\t\t\t<image class=\"user-avatar\" :src=\"articleDetail.user_avatarUrl || '/static/images/default-avatar.png'\" mode=\"aspectFill\"></image>\n\t\t\t\t\t\t\t</view>\n\t\t\t\t\t\t\t<view class=\"user-info-container\">\n\t\t\t\t\t\t\t\t<view class=\"user-name\">{{articleDetail.user_nickName || '未知用户'}}</view>\n\t\t\t\t\t\t\t\t<view class=\"user-meta\">\n\t\t\t\t\t\t\t\t\t<view class=\"meta-row\">\n\t\t\t\t\t\t\t\t\t\t<text class=\"time-text\">{{formatTime(articleDetail.create_time)}}</text>\n\t\t\t\t\t\t\t\t\t\t<view class=\"view-count\">\n\t\t\t\t\t\t\t\t\t\t\t<text class=\"view-separator\">|</text>\n\t\t\t\t\t\t\t\t\t\t\t<text class=\"view-text\">{{articleDetail.look_count || 0}}浏览</text>\n\t\t\t\t\t\t\t\t\t\t</view>\n\t\t\t\t\t\t\t\t\t</view>\n\t\t\t\t\t\t\t\t</view>\n\t\t\t\t\t\t\t</view>\n\t\t\t\t\t\t\t<view class=\"contact-button\" @click=\"handleCall\">\n\t\t\t\t\t\t\t\t<uni-icons color=\"#5cb85c\" custom-prefix=\"icon\" type=\"lishuai-dianhua\" size=\"22\"></uni-icons>\n\t\t\t\t\t\t\t</view>\n\t\t\t\t\t\t</view>\n\t\t\t\t\t\t\n\t\t\t\t\t\t<!-- 时间和浏览信息区域 -->\n\t\t\t\t\t\t<view class=\"time-views-container\" style=\"display:none;\">\n\t\t\t\t\t\t\t<text class=\"time-text\">{{formatTime(articleDetail.create_time)}}</text>\n\t\t\t\t\t\t\t<text class=\"views-text\">{{articleDetail.look_count || 0}}浏览</text>\n\t\t\t\t\t\t</view>\n\t\t\t\t\t\t\n\t\t\t\t\t\t<!-- 视频和图片区域 -->\n\t\t\t\t\t\t<view class=\"media-container\">\n\t\t\t\t\t\t\t<!-- 视频区域 - 单独显示 -->\n\t\t\t\t\t\t\t<view class=\"articleVideo\" v-if=\"articleDetail.videoURL\">\n\t\t\t\t\t\t\t\t<!-- 视频加载状态 -->\n\t\t\t\t\t\t\t\t<view class=\"video-loading\" v-if=\"videoLoadStatus === 'loading'\">\n\t\t\t\t\t\t\t\t\t<uni-load-more status=\"loading\" :contentText=\"{ contentrefresh: '视频加载中...' }\"></uni-load-more>\n\t\t\t\t\t\t\t\t</view>\n\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t<!-- 视频错误状态 -->\n\t\t\t\t\t\t\t\t<view class=\"video-error\" v-if=\"videoLoadStatus === 'error'\">\n\t\t\t\t\t\t\t\t\t<uni-icons type=\"videocam-slash\" size=\"50\" color=\"#CCCCCC\"></uni-icons>\n\t\t\t\t\t\t\t\t\t<text>视频加载失败</text>\n\t\t\t\t\t\t\t\t</view>\n\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t<video\n\t\t\t\t\t\t\t\t\tid=\"articleVideo\"\n\t\t\t\t\t\t\t\t\tclass=\"video-player\"\n\t\t\t\t\t\t\t\t\t:src=\"articleDetail.videoURL\"\n\t\t\t\t\t\t\t\t\tautoplay\n\t\t\t\t\t\t\t\t\tobject-fit=\"cover\"\n\t\t\t\t\t\t\t\t\t:poster=\"articleDetail.images && articleDetail.images[0] ? articleDetail.images[0].compressedURL : ''\"\n\t\t\t\t\t\t\t\t\tcontrols\n\t\t\t\t\t\t\t\t\t@error=\"handleVideoError\"\n\t\t\t\t\t\t\t\t\t@loadedmetadata=\"handleVideoLoad\"\n\t\t\t\t\t\t\t\t></video>\n\t\t\t\t\t\t\t</view>\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t<!-- 图片显示区域 - 单独显示 -->\n\t\t\t\t\t\t\t<view class=\"articleImages\" v-if=\"articleDetail.images && articleDetail.images.length\">\n\t\t\t\t\t\t\t\t<!-- 图片网格 -->\n\t\t\t\t\t\t\t\t<view class=\"image-grid\">\n\t\t\t\t\t\t\t\t\t<view \n\t\t\t\t\t\t\t\t\t\tv-for=\"(item, index) in articleDetail.images.slice(0, articleDetail.images.length > 9 ? 9 : articleDetail.images.length)\" \n\t\t\t\t\t\t\t\t\t\t:key=\"index\"\n\t\t\t\t\t\t\t\t\t\t:class=\"[\n\t\t\t\t\t\t\t\t\t\t\t'image-grid-item',\n\t\t\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\t\t\t'single-image': articleDetail.images.length === 1,\n\t\t\t\t\t\t\t\t\t\t\t\t'double-image': articleDetail.images.length === 2,\n\t\t\t\t\t\t\t\t\t\t\t\t'triple-image': articleDetail.images.length === 3,\n\t\t\t\t\t\t\t\t\t\t\t\t'grid-image': articleDetail.images.length > 3\n\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t]\"\n\t\t\t\t\t\t\t\t\t\t@click=\"previewImage(item.compressedURL || item.url)\"\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t<!-- 图片加载失败占位符 -->\n\t\t\t\t\t\t\t\t\t\t<view class=\"image-placeholder\" v-if=\"imageLoadStatus[index] === 'error'\">\n\t\t\t\t\t\t\t\t\t\t\t<uni-icons type=\"image\" size=\"24\" color=\"#999999\"></uni-icons>\n\t\t\t\t\t\t\t\t\t\t\t<text>加载失败</text>\n\t\t\t\t\t\t\t\t\t\t</view>\n\t\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t\t\t<!-- 图片 -->\n\t\t\t\t\t\t\t\t\t\t<image \n\t\t\t\t\t\t\t\t\t\t\t:src=\"item.compressedURL || item.url\" \n\t\t\t\t\t\t\t\t\t\t\tmode=\"aspectFill\" \n\t\t\t\t\t\t\t\t\t\t\t@load=\"handleImageLoad(index)\"\n\t\t\t\t\t\t\t\t\t\t\t@error=\"handleImageError(index)\"\n\t\t\t\t\t\t\t\t\t\t\t:style=\"{opacity: imageLoadStatus[index] === 'loaded' ? 1 : 0}\"\n\t\t\t\t\t\t\t\t\t\t></image>\n\t\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t\t\t<!-- 更多图片提示 -->\n\t\t\t\t\t\t\t\t\t\t<view class=\"more-images\" v-if=\"index === 8 && articleDetail.images.length > 9\">\n\t\t\t\t\t\t\t\t\t\t\t<text>+{{articleDetail.images.length - 9}}</text>\n\t\t\t\t\t\t\t\t\t\t</view>\n\t\t\t\t\t\t\t\t\t</view>\n\t\t\t\t\t\t\t\t</view>\n\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t<!-- 图片计数器 -->\n\t\t\t\t\t\t\t\t<view class=\"image-counter\" v-if=\"articleDetail.images.length > 1\">\n\t\t\t\t\t\t\t\t\t{{articleDetail.images.length}}张图片\n\t\t\t\t\t\t\t\t</view>\n\t\t\t\t\t\t\t</view>\n\t\t\t\t\t\t</view>\n\t\t\t\t\t</view>\n\t\t\t\t\t\n\t\t\t\t\t<!-- 操作功能区 - 移除了重复的时间和浏览量 -->\n\t\t\t\t\t<view class=\"article-info\" style=\"display: none;\">\n\t\t\t\t\t</view>\n\t\t\t\t\t\n\t\t\t\t\t<!-- 新的元信息显示区域 -->\n\t\t\t\t\t<view class=\"article-meta-info\" style=\"display: none;\">\n\t\t\t\t\t\t<view class=\"meta-item date\">\n\t\t\t\t\t\t\t<uni-icons type=\"calendar\" size=\"18\" color=\"#666666\"></uni-icons>\n\t\t\t\t\t\t\t<text>{{formatTime(articleDetail.create_time)}}</text>\n\t\t\t\t\t\t</view>\n\t\t\t\t\t\t<view class=\"meta-divider\"></view>\n\t\t\t\t\t\t<view class=\"meta-item views\">\n\t\t\t\t\t\t\t<uni-icons type=\"eye\" size=\"18\" color=\"#666666\"></uni-icons>\n\t\t\t\t\t\t\t<text>{{articleDetail.look_count || 0}}浏览</text>\n\t\t\t\t\t\t</view>\n\t\t\t\t\t\t<view class=\"meta-divider\"></view>\n\t\t\t\t\t\t<view class=\"meta-item category\" v-if=\"articleDetail.cate_name\">\n\t\t\t\t\t\t\t<uni-icons type=\"tag\" size=\"18\" color=\"#399bfe\"></uni-icons>\n\t\t\t\t\t\t\t<text>{{articleDetail.cate_name}}</text>\n\t\t\t\t\t\t</view>\n\t\t\t\t\t</view>\n\t\t\t\t\t\n\t\t\t\t\t<!-- 文章内容区域 -->\n\t\t\t\t\t<view class=\"articleContent\">\n\t\t\t\t\t\t<view class=\"articleText\" v-if=\"articleDetail.content\">\n\t\t\t\t\t\t\t<text class=\"category-name\">{{articleDetail.content}}</text>\n\t\t\t\t\t\t</view>\n\t\t\t\t\t</view>\n\n\t\t\t\t\t<!-- 评论 -->\n\t\t\t\t\t<view class=\"comment-container\" v-if=\"navInfo && navInfo.isVisible\">\n\t\t\t\t\t\t<view class=\"comment-section\">\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t<!-- 评论加载中提示 -->\n\t\t\t\t\t\t\t<view v-if=\"isCommentsLoading && !articleComment.length\" class=\"comment-loading\">\n\t\t\t\t\t\t\t\t<uni-load-more status=\"loading\" :contentText=\"{ contentrefresh: '评论加载中...' }\"></uni-load-more>\n\t\t\t\t\t\t\t</view>\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t<!-- 添加空状态提示 -->\n\t\t\t\t\t\t\t<view v-else-if=\"!isCommentsLoading && articleComment.length === 0\" class=\"empty-comment\">\n\t\t\t\t\t\t\t\t<uni-icons type=\"chat\" size=\"50\" color=\"#CCCCCC\"></uni-icons>\n\t\t\t\t\t\t\t\t<text>暂无评论</text>\n\t\t\t\t\t\t\t</view>\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t<!-- 评论输入框 -->\n\t\t\t\t\t\t\t<view class=\"comment-input\" @click=\"handleCommentClick\">\n\t\t\t\t\t\t\t\t<uni-icons type=\"chat\" size=\"20\" color=\"#999\"></uni-icons>\n\t\t\t\t\t\t\t\t<text class=\"comment-placeholder\">写评论...</text>\n\t\t\t\t\t\t\t</view>\n\t\t\t\t\t\t\n\t\t\t\t\t\t\t<!-- 评论列表组件 -->\n\t\t\t\t\t\t\t<comment-list \n\t\t\t\t\t\t\t\t:comments=\"displayedComments\" \n\t\t\t\t\t\t\t\t:articleId=\"article_id\"\n\t\t\t\t\t\t\t\t:articleUserId=\"articleDetail.user_id\"\n\t\t\t\t\t\t\t\t:showMobile=\"true\"\n\t\t\t\t\t\t\t\t@delComment=\"handelDelComment\"\n\t\t\t\t\t\t\t></comment-list>\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t<!-- 添加查看更多评论按钮 -->\n\t\t\t\t\t\t\t<view \n\t\t\t\t\t\t\t\tv-if=\"articleComment.length > displayCommentsCount && !showAllComments\" \n\t\t\t\t\t\t\t\tclass=\"load-more-comments\" \n\t\t\t\t\t\t\t\t@click=\"loadMoreComments\"\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<text>查看更多评论 ({{displayCommentsCount}}/{{articleComment.length}})</text>\n\t\t\t\t\t\t\t\t<uni-icons type=\"bottom\" size=\"12\" color=\"#666\"></uni-icons>\n\t\t\t\t\t\t\t</view>\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t<!-- 添加收起评论按钮 -->\n\t\t\t\t\t\t\t<view \n\t\t\t\t\t\t\t\tv-if=\"articleComment.length > 5 && showAllComments\" \n\t\t\t\t\t\t\t\tclass=\"load-more-comments fold\" \n\t\t\t\t\t\t\t\t@click=\"foldComments\"\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<text>收起</text>\n\t\t\t\t\t\t\t\t<uni-icons type=\"top\" size=\"12\" color=\"#666\"></uni-icons>\n\t\t\t\t\t\t\t</view>\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t<!-- 评论区域 -->\n\t\t\t\t\t\t\t<view class=\"comment-container\" v-if=\"navInfo && navInfo.isVisible\">\n\t\t\t\t\t\t\t\t<view class=\"comment-section\">\n\t\t\t\t\t\t\t\t\t<!-- 评论相关内容 -->\n\t\t\t\t\t\t\t\t</view>\n\t\t\t\t\t\t\t</view>\n\n\t\t\t\t\t\t\t<!-- 抽奖模块 -->\n\t\t\t\t\t\t\t<view class=\"lottery-container\" v-if=\"lotteryVisibility\">\n\t\t\t\t\t\t\t\t<view class=\"lottery-section\">\n\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t\t<view class=\"lottery-content\">\n\t\t\t\t\t\t\t\t\t\t<LotteryDraw \n\t\t\t\t\t\t\t\t\t\t\t:commenters=\"articleComment\" \n\t\t\t\t\t\t\t\t\t\t\t@lottery-result=\"handleLotteryResult\"\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t</view>\n\t\t\t\t\t\t\t\t</view>\n\t\t\t\t\t\t\t</view>\n\t\t\t\t\t\t</view>\n\t\t\t\t\t</view>\n\t\t\t\t\t\n\t\t\t\t\t<!-- 详情图展示 - 在文章内容下方重复展示图片 -->\n\t\t\t\t\t<view class=\"article-detail-images\" v-if=\"articleDetail.images && articleDetail.images.length\" style=\"border-top: 10px solid #f5f5f5;\">\n\t\t\t\t\t\t<view class=\"detail-images-title\">\n\t\t\t\t\t\t\t<view class=\"line\"></view>\n\t\t\t\t\t\t\t<text>详情图片 ({{articleDetail.images.length}}张)</text>\n\t\t\t\t\t\t\t<view class=\"line\"></view>\n\t\t\t\t\t\t</view>\n\t\t\t\t\t\t<view class=\"detail-images-container\">\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t<view v-for=\"(item, index) in articleDetail.images\" :key=\"index\" class=\"detail-image-wrapper\">\n\t\t\t\t\t\t\t\t<image \n\t\t\t\t\t\t\t\t\tclass=\"detail-image\"\n\t\t\t\t\t\t\t\t\t:src=\"item.compressedURL || item.url\" \n\t\t\t\t\t\t\t\t\tmode=\"widthFix\"\n\t\t\t\t\t\t\t\t\t@click=\"previewImage(item.compressedURL || item.url)\"\n\t\t\t\t\t\t\t\t></image>\n\t\t\t\t\t\t\t</view>\n\t\t\t\t\t\t</view>\n\t\t\t\t\t</view>\n\t\t\t\t\t\n\t\t\t\t\t<!-- 替换原有的推荐部分为新组件 -->\n\t\t\t\t\t<tuijian \n\t\t\t\t\t\tref=\"tuijianRef\"\n\t\t\t\t\t\t:current-article-id=\"article_id\"\n\t\t\t\t\t\t:cate_id=\"articleDetail.cate_id\"\n\t\t\t\t\t\t@click=\"handleArticleClick\"\n\t\t\t\t\t/>\n\t\t\t\t</view>\n\t\t\t</scroll-view>\n\n\t\t\t\n\t\t</view>\n\n\t\t<!-- 底部栏 -->\n\t\t<view class=\"footer\">\n\t\t\t<view class=\"footer-content\">\n\t\t\t\t<view class=\"action-item\" @click=\"goToHome\">\n\t\t\t\t\t<uni-icons type=\"home\" size=\"24\" color=\"#444444\"></uni-icons>\n\t\t\t\t\t<view class=\"text\">\n\t\t\t\t\t\t首页\n\t\t\t\t\t</view>\n\t\t\t\t</view>\n\t\t\t\t\n\t\t\t\t<button open-type=\"share\" class=\"action-item share-btn\">\n\t\t\t\t\t<text class=\"icon lishuai-zhuanfa\" style=\"font-size: 24px; color: #444444;\"></text>\n\t\t\t\t\t<view class=\"text\">\n\t\t\t\t\t\t转发\n\t\t\t\t\t</view>\n\t\t\t\t</button>\n\t\t\t\t\n\t\t\t\t<!-- 添加间隔元素 -->\n\t\t\t\t<view class=\"spacer\"></view>\n\t\t\t\t\n\t\t\t\t<button \n\t\t\t\t\topen-type=\"joinGroup\" \n\t\t\t\t\t:group-id=\"FANS_GROUP_ID\"\n\t\t\t\t\t@joingroup=\"handleJoinGroup\"\n\t\t\t\t\tclass=\"group-btn\"\n\t\t\t\t>\n\t\t\t\t\t粉丝群\n\t\t\t\t</button>\n\t\t\t\t\n\t\t\t\t<view class=\"call-btn\" @click=\"handleCall\">\n\t\t\t\t\t打电话\n\t\t\t\t</view>\n\t\t\t</view>\n\t\t</view>\n\t\t\n\t\t<!-- 自定义评论弹窗 -->\n\t\t<view class=\"comment-popup\" v-if=\"showCommentPopup\">\n\t\t\t<view class=\"comment-popup-mask\" @click=\"closeCommentPopup\"></view>\n\t\t\t<view class=\"comment-popup-content\">\n\t\t\t\t<view class=\"comment-popup-header\">\n\t\t\t\t\t<text class=\"comment-popup-title\">发表评论</text>\n\t\t\t\t\t<view class=\"comment-popup-close\" @click=\"closeCommentPopup\">\n\t\t\t\t\t\t<uni-icons type=\"close\" size=\"20\" color=\"#999\"></uni-icons>\n\t\t\t\t\t</view>\n\t\t\t\t</view>\n\t\t\t\t\n\t\t\t\t<!-- 快速评论词汇 -->\n\t\t\t\t<view class=\"quick-comments\">\n\t\t\t\t\t<view \n\t\t\t\t\t\tv-for=\"(comment, index) in recommendedComments\" \n\t\t\t\t\t\t:key=\"index\"\n\t\t\t\t\t\tclass=\"quick-comment-item\"\n\t\t\t\t\t\t@click=\"selectRecommendedComment(comment)\"\n\t\t\t\t\t>\n\t\t\t\t\t\t{{comment}}\n\t\t\t\t\t</view>\n\t\t\t\t</view>\n\t\t\t\t\n\t\t\t\t<view class=\"comment-popup-body\">\n\t\t\t\t\t<textarea \n\t\t\t\t\t\tclass=\"comment-textarea\" \n\t\t\t\t\t\tv-model=\"commentContent\" \n\t\t\t\t\t\tplaceholder=\"评论点什么...\" \n\t\t\t\t\t\tauto-focus \n\t\t\t\t\t\tmaxlength=\"200\"\n\t\t\t\t\t\tauto-height\n\t\t\t\t\t></textarea>\n\t\t\t\t\t<view class=\"comment-length\">{{commentContent.length}}/200</view>\n\t\t\t\t</view>\n\t\t\t\t<view class=\"comment-popup-footer\">\n\t\t\t\t\t<view class=\"comment-cancel-btn\" @click=\"closeCommentPopup\">取消</view>\n\t\t\t\t\t<view class=\"comment-submit-btn\" @click=\"submitPopupComment\">发布</view>\n\t\t\t\t</view>\n\t\t\t</view>\n\t\t</view>\n\n\t\t<!-- 加群引导弹窗 -->\n\t\t<view class=\"group-guide-popup\" v-if=\"showGroupGuide\">\n\t\t\t<view class=\"group-guide-mask\" @click=\"closeGroupGuide\"></view>\n\t\t\t<view class=\"group-guide-content\">\n\t\t\t\t<view class=\"group-guide-close\" @click=\"closeGroupGuide\">\n\t\t\t\t\t<!-- 移除uni-icons，使用CSS创建的X图标 -->\n\t\t\t\t</view>\n\t\t\t\t<view class=\"group-guide-title\">加入粉丝群</view>\n\t\t\t\t<view class=\"group-guide-desc\">加入我们的粉丝群，获取更多优质内容和互动机会！</view>\n\t\t\t\t\n\t\t\t\t<!-- 使用文章图片代替静态图片 -->\n\t\t\t\t<view class=\"group-guide-image-grid\" v-if=\"articleDetail.images && articleDetail.images.length\">\n\t\t\t\t\t<view class=\"grid-item\" v-for=\"(item, index) in articleDetail.images.slice(0, 6)\" :key=\"index\">\n\t\t\t\t\t\t<image :src=\"item.compressedURL || item.url\" mode=\"aspectFill\" @click=\"previewImage(item.compressedURL || item.url)\"></image>\n\t\t\t\t\t</view>\n\t\t\t\t</view>\n\t\t\t\t<!-- 无图片时的备用显示 -->\n\t\t\t\t<view class=\"group-guide-image-grid\" v-else>\n\t\t\t\t\t<view class=\"grid-item\" v-for=\"index in 6\" :key=\"index\">\n\t\t\t\t\t\t<image :src=\"`/static/images/${index}.png`\" mode=\"aspectFill\"></image>\n\t\t\t\t\t</view>\n\t\t\t\t</view>\n\t\t\t\t\n\t\t\t\t<!-- 加群引导弹窗的按钮修改 -->\n\t\t\t\t<button \n\t\t\t\t\tclass=\"group-guide-button\"\n\t\t\t\t\topen-type=\"joinGroup\" \n\t\t\t\t\t:group-id=\"FANS_GROUP_ID\"\n\t\t\t\t\t@joingroup=\"handleJoinGroup\"\n\t\t\t\t\t@click=\"handleGuideJoinGroup\"\n\t\t\t\t>\n\t\t\t\t\t点击加入粉丝群\n\t\t\t\t</button>\n\t\t\t</view>\n\t\t</view>\n\t</view>\n</template>\n\n<style lang=\"scss\" scoped>\n\t.article-detail-container {\n\t\tdisplay: flex;\n\t\tflex-direction: column;\n\t\theight: 100vh;\n\t\tbackground-color: #fff;\n\t\tpadding-bottom: 160rpx;\n\t\tborder: none;\n\t\tbox-sizing: border-box;\n\t}\n\n\t.article-detail-scroll {\n\t\tflex: 1;\n\t\theight: calc(100vh - 120rpx);\n\t\t-webkit-overflow-scrolling: touch;\n\t}\n\n\t.article-detail {\n\t\tpadding-top: 128rpx; /* 移除 calc(128rpx + env(safe-area-inset-top)) */\n\t\tpadding-bottom: 120rpx;\n\t\tbackground-color: #fff;\n\t}\n\n\t.articleHead {\n\t\t.media-container {\n\t\t\tdisplay: flex;\n\t\t\tflex-direction: column;\n\t\t\tpadding: 24rpx 24rpx 0rpx 24rpx;\n\t\t\t\n\t\t\t// 视频播放区域\n\t\t\t.articleVideo {\n\t\t\t\tposition: relative;\n\t\t\t\twidth: 100%;\n\t\t\t\theight: 422rpx;\n\t\t\t\tborder-radius: 8rpx;\n\t\t\t\tbackground-color: #f5f5f5;\n\t\t\t\tmargin-bottom: 20rpx;\n\t\t\t\toverflow: hidden;\n\t\t\t\t\n\t\t\t\t.video-player {\n\t\t\t\t\tposition: absolute;\n\t\t\t\t\ttop: 0;\n\t\t\t\t\tleft: 0;\n\t\t\t\t\twidth: 100%;\n\t\t\t\t\theight: 100%;\n\t\t\t\t\tobject-fit: contain;\n\t\t\t\t\tz-index: 1;\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\t// 视频加载状态\n\t\t\t\t.video-loading {\n\t\t\t\t\tposition: absolute;\n\t\t\t\t\ttop: 0;\n\t\t\t\t\tleft: 0;\n\t\t\t\t\twidth: 100%;\n\t\t\t\t\theight: 100%;\n\t\t\t\t\tdisplay: flex;\n\t\t\t\t\tflex-direction: column;\n\t\t\t\t\tjustify-content: center;\n\t\t\t\t\talign-items: center;\n\t\t\t\t\tz-index: 2;\n\t\t\t\t\tbackground-color: rgba(0, 0, 0, 0.1);\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\t// 视频错误状态\n\t\t\t\t.video-error {\n\t\t\t\t\tposition: absolute;\n\t\t\t\t\ttop: 0;\n\t\t\t\t\tleft: 0;\n\t\t\t\t\twidth: 100%;\n\t\t\t\t\theight: 100%;\n\t\t\t\t\tdisplay: flex;\n\t\t\t\t\tflex-direction: column;\n\t\t\t\t\tjustify-content: center;\n\t\t\t\t\talign-items: center;\n\t\t\t\t\tz-index: 2;\n\t\t\t\t\tbackground-color: #f5f5f5;\n\t\t\t\t\t\n\t\t\t\t\ttext {\n\t\t\t\t\t\tmargin-top: 20rpx;\n\t\t\t\t\t\tcolor: #999999;\n\t\t\t\t\t\tfont-size: 28rpx;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\t\n\t\t\t.articleImages {\n\t\t\t\tposition: relative;\n\t\t\t\twidth: 100%;\n\t\t\t\tborder-radius: 8rpx;\n\t\t\t\toverflow: hidden;\n\t\t\t\tmargin-bottom: 20rpx;\n\t\t\t\tbackground-color: #f5f5f5;\n\t\t\t\t\n\t\t\t\t.image-grid {\n\t\t\t\t\tdisplay: flex;\n\t\t\t\t\tflex-wrap: wrap;\n\t\t\t\t\tpadding: 4rpx;\n\t\t\t\t\tbox-sizing: border-box;\n\t\t\t\t\t\n\t\t\t\t\t.image-grid-item {\n\t\t\t\t\t\tposition: relative;\n\t\t\t\t\t\toverflow: hidden;\n\t\t\t\t\t\tborder-radius: 8rpx;\n\t\t\t\t\t\tmargin: 4rpx;\n\t\t\t\t\t\t\n\t\t\t\t\t\t// 单张图片\n\t\t\t\t\t\t&.single-image {\n\t\t\t\t\t\t\twidth: calc(100% - 8rpx);\n\t\t\t\t\t\t\theight: 400rpx;\n\t\t\t\t\t\t}\n\t\t\t\t\t\t\n\t\t\t\t\t\t// 两张图片\n\t\t\t\t\t\t&.double-image {\n\t\t\t\t\t\t\twidth: calc(50% - 8rpx);\n\t\t\t\t\t\t\theight: 300rpx;\n\t\t\t\t\t\t}\n\t\t\t\t\t\t\n\t\t\t\t\t\t// 三张图片\n\t\t\t\t\t\t&.triple-image {\n\t\t\t\t\t\t\twidth: calc(33.33% - 8rpx);\n\t\t\t\t\t\t\theight: 200rpx;\n\t\t\t\t\t\t}\n\t\t\t\t\t\t\n\t\t\t\t\t\t// 九宫格布局\n\t\t\t\t\t\t&.grid-image {\n\t\t\t\t\t\t\twidth: calc(33.33% - 8rpx);\n\t\t\t\t\t\t\theight: 200rpx;\n\t\t\t\t\t\t}\n\t\t\t\t\t\t\n\t\t\t\t\t\timage {\n\t\t\t\t\t\t\twidth: 100%;\n\t\t\t\t\t\t\theight: 100%;\n\t\t\t\t\t\t\tobject-fit: cover;\n\t\t\t\t\t\t\ttransition: opacity 0.3s ease;\n\t\t\t\t\t\t}\n\t\t\t\t\t\t\n\t\t\t\t\t\t.image-placeholder {\n\t\t\t\t\t\t\tposition: absolute;\n\t\t\t\t\t\t\ttop: 0;\n\t\t\t\t\t\t\tleft: 0;\n\t\t\t\t\t\t\twidth: 100%;\n\t\t\t\t\t\t\theight: 100%;\n\t\t\t\t\t\t\tdisplay: flex;\n\t\t\t\t\t\t\tflex-direction: column;\n\t\t\t\t\t\t\tjustify-content: center;\n\t\t\t\t\t\t\talign-items: center;\n\t\t\t\t\t\t\tbackground-color: #f5f5f5;\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t\ttext {\n\t\t\t\t\t\t\t\tmargin-top: 10rpx;\n\t\t\t\t\t\t\t\tfont-size: 24rpx;\n\t\t\t\t\t\t\t\tcolor: #999;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t\t\n\t\t\t\t\t\t.more-images {\n\t\t\t\t\t\t\tposition: absolute;\n\t\t\t\t\t\t\ttop: 0;\n\t\t\t\t\t\t\tleft: 0;\n\t\t\t\t\t\t\twidth: 100%;\n\t\t\t\t\t\t\theight: 100%;\n\t\t\t\t\t\t\tbackground-color: rgba(0, 0, 0, 0.5);\n\t\t\t\t\t\t\tdisplay: flex;\n\t\t\t\t\t\t\tjustify-content: center;\n\t\t\t\t\t\t\talign-items: center;\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t\ttext {\n\t\t\t\t\t\t\t\tcolor: #fff;\n\t\t\t\t\t\t\t\tfont-size: 32rpx;\n\t\t\t\t\t\t\t\tfont-weight: bold;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\t.image-counter {\n\t\t\t\t\tposition: absolute;\n\t\t\t\t\tright: 20rpx;\n\t\t\t\t\tbackground-color: rgba(0, 0, 0, 0.5);\n\t\t\t\t\tcolor: #fff;\n\t\t\t\t\tpadding: 4rpx 12rpx;\n\t\t\t\t\tborder-radius: 20rpx;\n\t\t\t\t\tfont-size: 24rpx;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\t.articleContent {\n\t\tpadding: 30rpx;\n\t\tfont-size: 28rpx;\n\t\tline-height: 1.8;\n\t\tbackground-color: #fff;\n\t\t\n\t\tmin-height: 24rpx; /* 添加最小高度，确保即使内容为空也有高度 */\n\t\tdisplay: block; /* 确保始终显示 */\n\t\t\n\t\t.articleText {\n\t\t\tpadding: 0;\n\t\t\tcolor: #333;\n\t\t\tword-break: break-word;\n\t\t\tmin-height: 1.8em; /* 添加最小高度 */\n\t\t\tpadding: 0 24rpx;\n\t\t\t\n\t\t\t.call-text-button {\n\t\t\t\tcolor: #0066cc;\n\t\t\t\tmargin-left: 10rpx;\n\t\t\t\tcursor: pointer;\n\t\t\t\tdisplay: inline-flex;\n\t\t\t\talign-items: center;\n\t\t\t\tjustify-content: center;\n\t\t\t\tvertical-align: middle;\n\t\t\t\tgap: 4rpx;\n\t\t\t}\n\t\t}\n\t}\n\n\t.comment-container {\n\t\tmargin: 20rpx;\n\t\tborder: 1px solid #f3f3f361;\n\t\tborder-radius: 12rpx;\n\t\tbackground-color: #ffffff;\n\t\toverflow: hidden;\n\t}\n\n\t.comment-input {\n\t\tmargin-top: 30rpx;\n\t\tpadding: 20rpx 30rpx;\n\t\tbackground: #f8f8f8;\n\t\tborder-radius: 40rpx;\n\t\tcolor: #999;\n\t\tfont-size: 28rpx;\n\t\tdisplay: flex;\n\t\talign-items: center;\n\t\tborder: 1px solid #eee;\n\t\tbox-shadow: 0 2rpx 6rpx rgba(0, 0, 0, 0.05);\n\t\t\n\t\t.comment-placeholder {\n\t\t\tmargin-left: 15rpx;\n\t\t}\n\t\t\n\t\t&:active {\n\t\t\tbackground: #f0f0f0;\n\t\t}\n\t}\n\n\t.comment-loading, .empty-comment {\n\t\tpadding: 40rpx 0;\n\t\tdisplay: flex;\n\t\tflex-direction: column;\n\t\talign-items: center;\n\t\tjustify-content: center;\n\t}\n\n\t.comment-popup-header {\n\t\tdisplay: flex;\n\t\tjustify-content: space-between;\n\t\talign-items: center;\n\t\tmargin-bottom: 20rpx;\n\t\t\n\t\t.comment-popup-title {\n\t\t\tfont-size: 32rpx;\n\t\t\tfont-weight: 600;\n\t\t\tcolor: #333;\n\t\t\tletter-spacing: 2rpx;\n\t\t}\n\t\t\n\t\t.comment-popup-close {\n\t\t\tpadding: 10rpx;\n\t\t\tborder-radius: 50%;\n\t\t\t\n\t\t\t&:active {\n\t\t\t\tbackground-color: #f5f5f5;\n\t\t\t}\n\t\t}\n\t}\n\t\n\t.comment-popup-body {\n\t\tposition: relative;\n\t\tmargin-bottom: 30rpx;\n\t\t\n\t\t.comment-textarea {\n\t\t\twidth: 100%;\n\t\t\tmin-height: 180rpx;\n\t\t\tpadding: 20rpx;\n\t\t\tbox-sizing: border-box;\n\t\t\tbackground-color: #f9f9f9;\n\t\t\tborder-radius: 12rpx;\n\t\t\tfont-size: 28rpx;\n\t\t\tline-height: 1.6;\n\t\t\tletter-spacing: 1rpx;\n\t\t\tcolor: #333;\n\t\t}\n\t\t\n\t\t.comment-length {\n\t\t\tposition: absolute;\n\t\t\tright: 20rpx;\n\t\t\tbottom: 10rpx;\n\t\t\tfont-size: 24rpx;\n\t\t\tcolor: #999;\n\t\t}\n\t}\n\t\n\t.comment-popup-footer {\n\t\tdisplay: flex;\n\t\tjustify-content: flex-end;\n\t\t\n\t\t.comment-cancel-btn, .comment-submit-btn {\n\t\t\tpadding: 16rpx 40rpx;\n\t\t\tborder-radius: 40rpx;\n\t\t\tfont-size: 28rpx;\n\t\t\tmargin-left: 20rpx;\n\t\t\tletter-spacing: 2rpx;\n\t\t\tfont-weight: 500;\n\t\t\t\n\t\t\t&:active {\n\t\t\t\topacity: 0.8;\n\t\t\t}\n\t\t}\n\t\t\n\t\t.comment-cancel-btn {\n\t\t\tcolor: #666;\n\t\t\tbackground-color: #f5f5f5;\n\t\t}\n\t\t\n\t\t.comment-submit-btn {\n\t\t\tcolor: #fff;\n\t\t\tbackground-color: #399bfe;\n\t\t\tbox-shadow: 0 4rpx 8rpx rgba(57, 155, 254, 0.3);\n\t\t}\n\t}\n\n\t.footer {\n\t\tposition: fixed;\n\t\tleft: 0;\n\t\tright: 0;\n\t\tbottom: 0;\n\t\tbackground-color: #fff;\n\t\tborder-top: 1px solid #f0f0f0;\n\n\t\t.footer-content {\n\t\t\tdisplay: flex;\n\t\t\tpadding: 20rpx 30rpx;\n\t\t\theight: 120rpx;\n\t\t\talign-items: center;\n\t\t\tjustify-content: space-between;\n\t\t\t\n\t\t\t/* 间隔元素样式 */\n\t\t\t.spacer {\n\t\t\t\twidth: 40rpx;\n\t\t\t\tflex: 0 0 80rpx;\n\t\t\t}\n\t\t\t\n\t\t\t/* 重置按钮样式 */\n\t\t\t.footer .footer-content button.action-item,\n\t\t\t.footer .footer-content button.share-btn {\n\t\t\t\tbackground: none;\n\t\t\t\tmargin: 0;\n\t\t\t\tpadding: 0;\n\t\t\t\tborder: none;\n\t\t\t\toverflow: visible;\n\t\t\t\t-webkit-appearance: none;\n\t\t\t\t-moz-appearance: none;\n\t\t\t\tappearance: none;\n\t\t\t\tdisplay: flex;\n\t\t\t\tflex-direction: column;\n\t\t\t\talign-items: center;\n\t\t\t\twidth: 40rpx;\n\t\t\t\tfont-size: 24rpx;\n\t\t\t\tcolor: #666;\n\t\t\t\t\n\t\t\t\t&::after {\n\t\t\t\t\tdisplay: none;\n\t\t\t\t\tborder: none;\n\t\t\t\t}\n\t\t\t}\n\t\t\t\n\t\t\t.action-item, button.action-item {\n\t\t\t\tdisplay: flex;\n\t\t\t\tflex-direction: column;\n\t\t\t\talign-items: center;\n\t\t\t\tbackground: transparent;\n\t\t\t\tborder: none;\n\t\t\t\tpadding: 0;\n\t\t\t\tmargin: 0;\n\t\t\t\tfont-size: 24rpx;\n\t\t\t\tcolor: #666;\n\t\t\t\twidth: 80rpx !important;\n\t\t\t\tflex: 0 0 80rpx;\n\t\t\t\tbox-sizing: border-box;\n\t\t\t\t\n\t\t\t\t&::after {\n\t\t\t\t\tborder: none;\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\t.text {\n\t\t\t\t\tmargin-top: 8rpx;\n\t\t\t\t\tfont-size: 24rpx;\n\t\t\t\t\twidth: 100%;\n\t\t\t\t\ttext-align: center;\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\t&:active {\n\t\t\t\t\topacity: 0.7;\n\t\t\t\t}\n\t\t\t}\n\t\t\t\n\t\t\t.group-btn {\n\t\t\t\tbackground-color: #FF4757;\n\t\t\t\tcolor: #FFFFFF;\n\t\t\t\theight: 76rpx;\n\t\t\t\tline-height: 76rpx;\n\t\t\t\tfont-size: 28rpx;\n\t\t\t\tborder-radius: 5rpx; // 将圆角调整为5rpx\n\t\t\t\tpadding: 0 40rpx;\n\t\t\t\tmargin: 0;\n\t\t\t\tborder: none;\n\t\t\t\tflex-shrink: 0;\n\t\t\t\tbox-shadow: 0 4rpx 8rpx rgba(255, 71, 87, 0.3);\n\t\t\t\ttext-align: center; // 确保文字居中显示\n\t\t\t\t\n\t\t\t\t&::after {\n\t\t\t\t\tborder: none;\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\t&:active {\n\t\t\t\t\topacity: 0.9;\n\t\t\t\t\ttransform: scale(0.98);\n\t\t\t\t}\n\t\t\t}\n\t\t\t\n\t\t\t.call-btn {\n\t\t\t\tflex: 1;\n\t\t\t\tmax-width: 240rpx;\n\t\t\t\theight: 76rpx;\n\t\t\t\tline-height: 76rpx;\n\t\t\t\ttext-align: center; // 确保文字居中显示\n\t\t\t\tbackground-color: #399bfe;\n\t\t\t\tcolor: #fff;\n\t\t\t\tborder-radius: 5rpx;\n\t\t\t\tfont-size: 28rpx;\n\t\t\t\tpadding-left: 10rpx;\n\t\t\t\t\n\t\t\t\t&:active {\n\t\t\t\t\topacity: 0.9;\n\t\t\t\t\ttransform: scale(0.98);\n\t\t\t\t}\n\t\t\t}\n\t\t\t\n\t\t\t/* 转发按钮特殊样式 */\n\t\t\t.share-btn {\n\t\t\t\tline-height: normal !important;\n\t\t\t\twidth: 80rpx !important;\n\t\t\t\tbox-sizing: border-box;\n\t\t\t\t\n\t\t\t\t.text {\n\t\t\t\t\tmargin-top: 8rpx;\n\t\t\t\t\tfont-size: 24rpx;\n\t\t\t\t\ttext-align: center;\n\t\t\t\t\twidth: 100%;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\t.custom-play-pause {\n\t\tposition: absolute;\n\t\t\t\t\ttop: 20rpx;\n\t\tright: 20rpx;\n\t\tbackground-color: rgba(0, 0, 0, 0.6);\n\t\tcolor: white;\n\t\tz-index: 10;\n\t\twidth: auto;\n\t\tmin-width: 120rpx;\n\t\tpadding: 8rpx 20rpx;\n\t\tborder-radius: 30rpx;\n\t\tfont-size: 26rpx;\n\t\ttext-align: center;\n\t\tborder: 1px solid rgba(255,255,255,0.2);\n\t\t\n\t\t&:active {\n\t\t\tbackground-color: rgba(0, 0, 0, 0.8);\n\t\t}\n\t}\n\n\t.article-info {\n\t\tdisplay: flex;\n\t\talign-items: center;\n\t\tpadding: 0rpx 24rpx 15rpx;\n\t\tbackground-color: #fff;\n\t\tmargin: 0;\n\t\tborder-radius: 0;\n\t\tbox-shadow: none;\n\t\tjustify-content: flex-start; /* 修改为靠左对齐 */\n\t\tflex-wrap: wrap; /* 添加换行显示 */\n\t\t\n\t\t.info-item {\n\t\t\tdisplay: flex;\n\t\t\talign-items: center;\n\t\t\tmargin-right: 20rpx; /* 统一使用margin-right */\n\t\t\t\n\t\t\t&:first-child {\n\t\t\t\tmargin-left: 0;\n\t\t\t}\n\t\t\t\n\t\t\t&:last-child {\n\t\t\t\tmargin-right: 0;\n\t\t\t}\n\t\t\t\n\t\t\t.info-text {\n\t\t\t\tmargin-left: 8rpx;\n\t\t\t\tfont-size: 26rpx;\n\t\t\t\tcolor: #999;\n\t\t\t}\n\t\t}\n\t}\n\n\t.caozuo {\n\t\tdisplay: none;\n\t}\n\n\t.image-counter {\n\t\tposition: absolute;\n\t\tright: 20rpx;\n\t\ttop: 20rpx;\n\t\tbackground-color: rgba(0, 0, 0, 0.6);\n\t\t\t\t\tcolor: #fff;\n\t\t\t\t\tpadding: 8rpx 20rpx;\n\t\t\t\t\tborder-radius: 30rpx;\n\t\t\t\t\tfont-size: 24rpx;\n\t\t\t\t\tz-index: 2;\n\t\tdisplay: flex;\n\t\talign-items: center;\n\t\tbox-shadow: 0 2rpx 10rpx rgba(0, 0, 0, 0.2);\n\t\t\n\t\t&::before {\n\t\t\tcontent: '';\n\t\t\tdisplay: inline-block;\n\t\t\twidth: 24rpx;\n\t\t\theight: 24rpx;\n\t\t\tbackground-image: url('data:image/svg+xml;utf8,<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\" fill=\"white\"><path d=\"M0 0h24v24H0z\" fill=\"none\"/><path d=\"M21 19V5c0-1.1-.9-2-2-2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2zM8.5 13.5l2.5 3.01L14.5 12l4.5 6H5l3.5-4.5z\"/></svg>');\n\t\t\tbackground-size: contain;\n\t\t\tmargin-right: 8rpx;\n\t\t}\n\t}\n\n\t.manual-mode-indicator {\n\t\tposition: absolute;\n\t\tleft: 20rpx;\n\t\ttop: 20rpx;\n\t\tbackground-color: rgba(0, 0, 0, 0.5);\n\t\tcolor: #fff;\n\t\tpadding: 6rpx 16rpx;\n\t\tborder-radius: 20rpx;\n\t\tfont-size: 24rpx;\n\t\tz-index: 2;\n\t\tdisplay: none; /* 隐藏手动模式提示 */\n\t\talign-items: center;\n\t\tgap: 6rpx;\n\t\tanimation: pulse 1.5s infinite;\n\t}\n\t\n\t@keyframes pulse {\n\t\t0% {\n\t\t\topacity: 0.7;\n\t\t}\n\t\t50% {\n\t\t\topacity: 1;\n\t\t}\n\t\t100% {\n\t\t\topacity: 0.7;\n\t\t}\n\t}\n\n\t// 添加旋转动画\n\t@keyframes spin {\n\t\t0% {\n\t\t\ttransform: rotate(0deg);\n\t\t}\n\t\t100% {\n\t\t\ttransform: rotate(360deg);\n\t\t}\n\t}\n\t\n\t// 客服按钮样式\n\t.customer-service-btn {\n\t\tposition: fixed;\n\t\tright: 30rpx;\n\t\tbottom: 180rpx;\n\t\tz-index: 100;\n\t\tbackground-color: #FF4D4F; // 红色背景\n\t\tcolor: #ffffff;\n\t\tborder-radius: 50rpx;\n\t\tpadding: 16rpx 30rpx;\n\t\tfont-size: 28rpx;\n\t\t\t\t\tdisplay: flex;\n\t\t\t\t\talign-items: center;\n\t\t\t\t\tjustify-content: center;\n\t\tbox-shadow: 0 4rpx 12rpx rgba(255, 77, 79, 0.3);\n\t\tborder: none;\n\t\tline-height: 1.5;\n\t\t\n\t\t&::after {\n\t\t\tborder: none;\n\t\t}\n\t\t\n\t\ttext {\n\t\t\tmargin-left: 10rpx;\n\t\t}\n\t\t\n\t\t&:active {\n\t\t\ttransform: scale(0.95);\n\t\t\topacity: 0.9;\n\t\t}\n\t}\n\n\t.comment-header-bar {\n\t\tdisplay: flex;\n\t\tjustify-content: space-between;\n\t\talign-items: center;\n\t\tpadding: 20rpx 0;\n\t\t\n\t\t.comment-title {\n\t\t\tfont-size: 32rpx;\n\t\t\tfont-weight: 500;\n\t\t\tcolor: #333;\n\t\t}\n\t}\n\n\t/* 添加类目信息样式 */\n\t.category-info {\n\t\tpadding: 20rpx 24rpx 16rpx;\n\t\tbackground-color: #fff;\n\t\t\n\t\t.category-tag {\n\t\t\tdisplay: inline-flex;\n\t\t\talign-items: center;\n\t\t\tpadding: 8rpx 20rpx;\n\t\t\tbackground-color: rgba(57, 155, 254, 0.1);\n\t\t\tborder-radius: 24rpx;\n\t\t\t\n\t\t\ttext {\n\t\t\t\tfont-size: 26rpx;\n\t\t\t\tcolor: #399bfe;\n\t\t\t\tmargin-left: 8rpx;\n\t\t\t\tfont-weight: 500;\n\t\t\t}\n\t\t}\n\t}\n\n\t\n\n\t.category-name {\n\t\tfont-size: 32rpx;\n\t}\n\n\t.category-name1 {\n\t\tcolor: #399bfe;\n\t}\n\n\t.load-more {\n\t\tpadding: 20rpx 0;\n\t\tdisplay: flex;\n\t\tjustify-content: center;\n\t\talign-items: center;\n\t}\n\t\n\t/* 点赞相关样式 */\n\t.like-item {\n\t\tcursor: pointer;\n\t\ttransition: all 0.2s;\n\t\tposition: relative;\n\t\t\n\t\t&:active {\n\t\t\ttransform: scale(1.1);\n\t\t}\n\t}\n\t\n\t.info-text.liked {\n\t\tcolor: #ff6b6b;\n\t}\n\t\n\t.liked-text {\n\t\tcolor: #ff6b6b;\n\t}\n\t\n\t/* 点赞动画 */\n\t@keyframes like-animation {\n\t\t0% {\n\t\t\ttransform: scale(1);\n\t\t}\n\t\t25% {\n\t\t\ttransform: scale(1.2);\n\t\t}\n\t\t50% {\n\t\t\ttransform: scale(0.95);\n\t\t}\n\t\t75% {\n\t\t\ttransform: scale(1.1);\n\t\t}\n\t\t100% {\n\t\t\ttransform: scale(1);\n\t\t}\n\t}\n\t\n\t.like-animation {\n\t\tanimation: like-animation 0.4s cubic-bezier(0.175, 0.885, 0.32, 1.275);\n\t}\n\t\n\t/* 点赞图标动画 */\n\t@keyframes heart-beat {\n\t\t0% {\n\t\t\ttransform: scale(1);\n\t\t}\n\t\t15% {\n\t\t\ttransform: scale(1.3);\n\t\t}\n\t\t30% {\n\t\t\ttransform: scale(1);\n\t\t}\n\t\t45% {\n\t\t\ttransform: scale(1.2);\n\t\t}\n\t\t60% {\n\t\t\ttransform: scale(1);\n\t\t}\n\t\t100% {\n\t\t\ttransform: scale(1);\n\t\t}\n\t}\n\t\n\t.action-item[data-action=\"like\"] uni-icons,\n\t.like-item uni-icons {\n\t\ttransition: transform 0.2s ease;\n\t}\n\t\n\t.action-item[data-action=\"like\"]:active uni-icons,\n\t.like-item:active uni-icons {\n\t\ttransform: scale(1.2);\n\t}\n\t\n\t.action-item[data-action=\"like\"].like-animation uni-icons,\n\t.like-item.like-animation uni-icons {\n\t\tanimation: heart-beat 0.8s cubic-bezier(0.175, 0.885, 0.32, 1.275);\n\t}\n\n\t.custom-rate-control {\n\t\tposition: absolute;\n\t\ttop: 20rpx;\n\t\tleft: 20rpx;\n\t\tbackground-color: rgba(0, 0, 0, 0.6);\n\t\tcolor: white;\n\t\tz-index: 10;\n\t\twidth: auto;\n\t\tmin-width: 120rpx;\n\t\tpadding: 8rpx 20rpx;\n\t\tborder-radius: 30rpx;\n\t\tfont-size: 26rpx;\n\t\ttext-align: center;\n\t\tborder: 1px solid rgba(255,255,255,0.2);\n\t\t\n\t\t&:active {\n\t\t\tbackground-color: rgba(0, 0, 0, 0.8);\n\t\t}\n\t}\n\n\t/* 底部操作栏样式 */\n\t.article-actions {\n\t\tdisplay: flex;\n\t\tjustify-content: space-between;\n\t\talign-items: center;\n\t\tpadding: 20rpx 30rpx;\n\t\tborder-top: 1px solid #f0f0f0;\n\t\tbackground-color: #fff;\n\t\tposition: fixed;\n\t\tbottom: 0;\n\t\tleft: 0;\n\t\tright: 0;\n\t\tz-index: 100;\n\t\tbox-shadow: 0 -2rpx 10rpx rgba(0, 0, 0, 0.05);\n\t}\n\n\t.left-actions, .right-actions {\n\t\tdisplay: flex;\n\t\talign-items: center;\n\t}\n\n\t.left-actions {\n\t\tflex: 1;\n\t}\n\n\t.info-item {\n\t\tdisplay: flex;\n\t\talign-items: center;\n\t\tmargin-right: 0rpx;\n\t\tcolor: #999;\n\t}\n\n\t.info-text {\n\t\tfont-size: 24rpx;\n\t\tmargin-left: 8rpx;\n\t}\n\n\t.right-actions {\n\t\tdisplay: flex;\n\t\talign-items: center;\n\t}\n\n\t.action-item {\n\t\tmargin-right: 20rpx;\n\t}\n\n\t.call-btn {\n\t\tflex: 1;\n\t\tmax-width: 240rpx;\n\t\theight: 76rpx;\n\t\tline-height: 76rpx;\n\t\ttext-align: center; // 确保文字居中显示\n\t\tbackground-color: #399bfe;\n\t\tcolor: #fff;\n\t\tborder-radius: 5rpx;\n\t\tfont-size: 28rpx;\n\t\t\n\t\t&:active {\n\t\t\topacity: 0.9;\n\t\t\ttransform: scale(0.98);\n\t\t}\n\t}\n\n\t/* 在组件的<style>部分的末尾添加 */\n\t:deep(.icon) {\n\t\tfont-family: \"icon\" !important;\n\t}\n\n\t/* 添加图片底部信息栏样式 */\n\t.image-info-bar {\n\t\tposition: absolute;\n\t\tbottom: 20rpx;\n\t\tright: 20rpx;\n\t\tbackground-color: rgba(0, 0, 0, 0.5);\n\t\tdisplay: inline-table;\n\t\twidth: auto;\n\t\ttext-align: right;\n\t\tpadding: 10rpx 20rpx;\n\t\tcolor: #fff;\n\t\tz-index: 2;\n\t\tborder-radius: 8rpx;\n\t\t\n\t\t.info-item {\n\t\t\tdisplay: flex;\n\t\t\talign-items: center;\n\t\t\tjustify-content: flex-end;\n\t\t\tmargin-bottom: 10rpx;\n\t\t\t\n\t\t\t&:last-child {\n\t\t\t\tmargin-bottom: 0;\n\t\t\t}\n\t\t\t\n\t\t\t.info-label {\n\t\t\t\tfont-size: 22rpx;\n\t\t\t\tcolor: #ffffff;\n\t\t\t\tmargin-right: 4rpx;\n\t\t\t}\n\t\t\t\n\t\t\t.info-text {\n\t\t\t\tfont-size: 22rpx;\n\t\t\t\tcolor: #ffffff;\n\t\t\t}\n\t\t}\n\t}\n\n\t/* 添加图片网格样式 */\n\t.image-grid {\n\t\tdisplay: flex;\n\t\tflex-wrap: wrap;\n\t\twidth: 100%;\n\t\tz-index: 1;\n\t\tposition: relative;\n\t\t\n\t\t.image-grid-item {\n\t\t\tposition: relative;\n\t\t\twidth: calc(33.33% - 4rpx);\n\t\t\theight: 240rpx;\n\t\t\tmargin: 2rpx;\n\t\t\toverflow: hidden;\n\t\t\tbackground-color: #f5f5f5;\n\t\t\t\n\t\t\t// 特殊处理单图的情况\n\t\t\t&:first-child:last-child {\n\t\t\t\twidth: 100%;\n\t\t\t\theight: 500rpx;\n\t\t\t\tmargin: 0;\n\t\t\t}\n\t\t\t\n\t\t\timage {\n\t\t\t\twidth: 100%;\n\t\t\t\theight: 100%;\n\t\t\t\ttransition: opacity 0.5s ease;\n\t\t\t}\n\t\t\t\n\t\t\t.image-placeholder {\n\t\t\t\tposition: absolute;\n\t\t\t\ttop: 0;\n\t\t\t\tleft: 0;\n\t\t\t\twidth: 100%;\n\t\t\t\theight: 100%;\n\t\t\t\tdisplay: flex;\n\t\t\t\tflex-direction: column;\n\t\t\t\tjustify-content: center;\n\t\t\t\talign-items: center;\n\t\t\t\tbackground-color: #f5f5f5;\n\t\t\t\t\n\t\t\t\ttext {\n\t\t\t\t\tmargin-top: 20rpx;\n\t\t\t\t\tcolor: #999999;\n\t\t\t\t\tfont-size: 24rpx;\n\t\t\t\t}\n\t\t\t}\n\t\t\t\n\t\t\t/* 更多图片指示器 */\n\t\t\t.more-images {\n\t\t\t\tposition: absolute;\n\t\t\t\ttop: 0;\n\t\t\t\tleft: 0;\n\t\t\t\twidth: 100%;\n\t\t\t\theight: 100%;\n\t\t\t\tdisplay: flex;\n\t\t\t\tjustify-content: center;\n\t\t\t\talign-items: center;\n\t\t\t\tbackground-color: rgba(0, 0, 0, 0.5);\n\t\t\t\t\n\t\t\t\ttext {\n\t\t\t\t\tcolor: #fff;\n\t\t\t\t\tfont-size: 40rpx;\n\t\t\t\t\tfont-weight: bold;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\t/* 新的元信息显示区域 */\n\t.article-meta-info {\n\t\tdisplay: flex;\n\t\tflex-wrap: nowrap;\n\t\tpadding: 24rpx 24rpx 24rpx 24rpx;\n\t\tbackground-color: #f9f9f9;\n\t\tborder-bottom: 1px solid #eaeaea;\n\t\tposition: relative;\n\t\tjustify-content: flex-start;\n\t\talign-items: center; /* 垂直居中对齐 */\n\t\toverflow-x: auto;\n\t\t-webkit-overflow-scrolling: touch;\n\t\t\n\t\t/* 左侧蓝色指示条 */\n\t\t&::before {\n\t\t\tcontent: '';\n\t\t\tposition: absolute;\n\t\t\tleft: 0;\n\t\t\ttop: 50%;\n\t\t\ttransform: translateY(-50%);\n\t\t\twidth: 6rpx;\n\t\t\theight: 32rpx;\n\t\t\tbackground-color: #399bfe;\n\t\t\tborder-radius: 0 4rpx 4rpx 0;\n\t\t\tmargin-left: 20rpx;\n\t\t}\n\t\t\n\t\t.meta-item {\n\t\t\tdisplay: flex;\n\t\t\talign-items: center;\n\t\t\twhite-space: nowrap;\n\t\t\tpadding: 0 16rpx;\n\t\t\tflex-shrink: 0;\n\t\t\theight: 50rpx;\n\t\t\tline-height: 50rpx; /* 添加行高确保文字垂直居中 */\n\t\t\t\n\t\t\tuni-icons {\n\t\t\t\tdisplay: flex;\n\t\t\t\talign-items: center;\n\t\t\t\tjustify-content: center;\n\t\t\t\theight: 36rpx; /* 固定图标容器高度 */\n\t\t\t}\n\t\t\t\n\t\t\ttext {\n\t\t\t\tfont-size: 26rpx;\n\t\t\t\tcolor: #666;\n\t\t\t\tmargin-left: 10rpx;\n\t\t\t\tdisplay: inline-block;\n\t\t\t\tvertical-align: middle; /* 确保文本垂直居中 */\n\t\t\t\tline-height: 1; /* 重置文本行高 */\n\t\t\t}\n\t\t\t\n\t\t\t&.date {\n\t\t\t\tpadding-left: 20rpx;\n\t\t\t}\n\t\t\t\n\t\t\t&.category {\n\t\t\t\tbackground-color: rgba(57, 155, 254, 0.1);\n\t\t\t\tpadding: 0 16rpx;\n\t\t\t\tborder-radius: 24rpx;\n\t\t\t\theight: 44rpx; /* 调整高度与其他项一致 */\n\t\t\t\tmargin-left: 8rpx;\n\t\t\t\talign-self: center;\n\t\t\t\tborder: 1px solid rgba(57, 155, 254, 0.2);\n\t\t\t\t\n\t\t\t\ttext {\n\t\t\t\t\tcolor: #399bfe;\n\t\t\t\t\tfont-weight: 500;\n\t\t\t\t\tfont-size: 24rpx;\n\t\t\t\t\tline-height: 44rpx; /* 确保文本在分类标签中居中 */\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\t\n\t\t/* 添加分隔符 */\n\t\t.meta-divider {\n\t\t\twidth: 1px;\n\t\t\theight: 24rpx;\n\t\t\tbackground-color: #ddd;\n\t\t\tflex-shrink: 0;\n\t\t\tmargin: 0 8rpx; /* 增加左右间距 */\n\t\t}\n\t\t\n\t\t/* 添加滚动条样式 */\n\t\t&::-webkit-scrollbar {\n\t\t\tdisplay: none; /* 隐藏滚动条 */\n\t\t}\n\t}\n\n\t/* 详情图样式 */\n\t.article-detail-images {\n\t\tmargin-top: 20rpx;\n\t\tpadding: 30rpx 30rpx 40rpx;\n\t\tbackground-color: #fff;\n\t\t\n\t\t.detail-images-title {\n\t\t\tdisplay: flex;\n\t\t\talign-items: center;\n\t\t\tjustify-content: center;\n\t\t\tmargin-bottom: 30rpx;\n\t\t\t\n\t\t\ttext {\n\t\t\t\tfont-size: 30rpx;\n\t\t\t\tcolor: #333;\n\t\t\t\tmargin: 0 20rpx;\n\t\t\t}\n\t\t\t\n\t\t\t.line {\n\t\t\t\theight: 1px;\n\t\t\t\tflex: 1;\n\t\t\t\tbackground-color: #ddd;\n\t\t\t}\n\t\t}\n\t\t\n\t\t.detail-images-container {\n\t\t\tdisplay: flex;\n\t\t\tflex-direction: column;\n\t\t\t\n\t\t\t.detail-image-wrapper {\n\t\t\t\tmargin-bottom: 20rpx;\n\t\t\t\tposition: relative;\n\t\t\t\tbackground-color: #f9f9f9;\n\t\t\t\tborder-radius: 8rpx;\n\t\t\t\toverflow: hidden;\n\t\t\t\t\n\t\t\t\t&:last-child {\n\t\t\t\t\tmargin-bottom: 0;\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\t.detail-image {\n\t\t\t\t\twidth: 100%;\n\t\t\t\t\tborder-radius: 8rpx;\n\t\t\t\t\tdisplay: block;\n\t\t\t\t\tbox-shadow: 0 2rpx 10rpx rgba(0, 0, 0, 0.1);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\t/* 浮动分享按钮 */\n\t.float-share-btn {\n\t\tdisplay: none;\n\t}\n\t\n\t/* 分享面板 */\n\t.float-share-panel {\n\t\tdisplay: none;\n\t}\n\n\t/* 添加分享按钮样式 */\n\t.share-button {\n\t\tdisplay: flex;\n\t\tflex-direction: column;\n\t\talign-items: center;\n\t\tmargin-right: 48rpx;\n\t\tbackground: transparent;\n\t\tborder: none;\n\t\tpadding: 0;\n\t\tline-height: normal;\n\t\theight: auto;\n\t\tfont-size: inherit;\n\t\tcolor: inherit;\n\n\t\t&::after {\n\t\t\tborder: none;\n\t\t}\n\n\t\t.text {\n\t\t\tmargin-top: 8rpx;\n\t\t\tfont-size: 24rpx;\n\t\t}\n\n\t\t&:active {\n\t\t\topacity: 0.7;\n\t\t}\n\t}\n\t\n\t/* 更新action-item按钮样式，适用于普通按钮和open-type按钮 */\n\tbutton.action-item {\n\t\tdisplay: flex;\n\t\tflex-direction: column;\n\t\talign-items: center;\n\t\tjustify-content: center;\n\t\tflex: 1;\n\t\tmargin-right: 30rpx;\n\t\tbackground: transparent;\n\t\tborder: none;\n\t\tpadding: 0;\n\t\tline-height: normal;\n\t\theight: auto;\n\t\tfont-size: inherit;\n\t\tcolor: inherit;\n\t\t\n\t\t&::after {\n\t\t\tborder: none;\n\t\t}\n\t\t\n\t\t.text {\n\t\t\tmargin-top: 8rpx;\n\t\t\tfont-size: 24rpx;\n\t\t}\n\t\t\n\t\t&:active {\n\t\t\topacity: 0.7;\n\t\t}\n\t}\n\n\t/* 加载更多评论按钮样式 */\n\t.load-more-comments {\n\t\tpadding: 20rpx 0;\n\t\tdisplay: flex;\n\t\tjustify-content: center;\n\t\talign-items: center;\n\t\tcolor: #666;\n\t\tfont-size: 26rpx;\n\t\t\n\t\t&.fold {\n\t\t\tborder-top: 1rpx solid #f5f5f5;\n\t\t}\n\t\t\n\t\ttext {\n\t\t\tmargin-right: 10rpx;\n\t\t}\n\t\t\n\t\t&:active {\n\t\t\tbackground-color: #f5f5f5;\n\t\t}\n\t}\n\n\t/* 增强评论列表样式 */\n\t.enhanced-comment-list {\n\t\t:deep(.comment-list) {\n\t\t\tpadding: 0 40rpx;\n\t\t\tbackground-color: #fff;\n\t\t\tmargin: 0 40rpx;\n\t\t\tbox-shadow: none;\n\t\t\t\n\t\t\t.comment-item {\n\t\t\t\tpadding: 24rpx 0;\n\t\t\t\t\n\t\t\t\t&:last-child {\n\t\t\t\t\tborder-bottom: none;\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\t.comment-content {\n\t\t\t\t\t.username {\n\t\t\t\t\t\tletter-spacing: 1rpx;\n\t\t\t\t\t}\n\t\t\t\t\t\n\t\t\t\t\t.comment-text {\n\t\t\t\t\t\t.content {\n\t\t\t\t\t\t\tfont-size: 28rpx;\n\t\t\t\t\t\t\tline-height: 1.6;\n\t\t\t\t\t\t\tletter-spacing: 0.5rpx;\n\t\t\t\t\t\t\tcolor: #333;\n\t\t\t\t\t\t\tword-break: break-all;\n\t\t\t\t\t\t\tword-wrap: break-word;\n\t\t\t\t\t\t}\n\t\t\t\t\t\t\n\t\t\t\t\t\t.time {\n\t\t\t\t\t\t\tmargin-left: 12rpx;\n\t\t\t\t\t\t\tcolor: #999;\n\t\t\t\t\t\t\tfont-size: 24rpx;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\t\n\t/* 自定义评论弹窗样式 */\n\t.comment-popup {\n\t\tposition: fixed;\n\t\ttop: 0;\n\t\tleft: 0;\n\t\tright: 0;\n\t\tbottom: 0;\n\t\tz-index: 999;\n\t\tdisplay: flex;\n\t\tflex-direction: column;\n\t\tjustify-content: flex-end;\n\t\t\n\t\t.comment-popup-mask {\n\t\t\tposition: absolute;\n\t\t\ttop: 0;\n\t\t\tleft: 0;\n\t\t\tright: 0;\n\t\t\tbottom: 0;\n\t\t\tbackground-color: rgba(0, 0, 0, 0.5);\n\t\t\tz-index: -1;\n\t\t}\n\t\t\n\t\t.comment-popup-content {\n\t\t\tbackground-color: #fff;\n\t\t\tborder-radius: 24rpx 24rpx 0 0;\n\t\t\tpadding: 30rpx;\n\t\t\tanimation: slideUp 0.3s ease;\n\t\t\t\n\t\t\t/* 快速评论样式 */\n\t\t\t.quick-comments {\n\t\t\t\tdisplay: flex;\n\t\t\t\tflex-wrap: wrap;\n\t\t\t\tpadding: 20rpx 0;\n\t\t\t\t\n\t\t\t\t.quick-comment-item {\n\t\t\t\t\tbackground-color: #f5f5f7;\n\t\t\t\t\tcolor: #333;\n\t\t\t\t\tpadding: 12rpx 24rpx;\n\t\t\t\t\tborder-radius: 30rpx;\n\t\t\t\t\tmargin: 10rpx;\n\t\t\t\t\tfont-size: 24rpx;\n\t\t\t\t\tborder: 1px solid #eee;\n\t\t\t\t\ttransition: all 0.2s ease;\n\t\t\t\t\t\n\t\t\t\t\t&:active {\n\t\t\t\t\t\tbackground-color: #e1e1e3;\n\t\t\t\t\t\ttransform: scale(0.95);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\t\n\t\t\t.comment-popup-header {\n\t\t\t\tdisplay: flex;\n\t\t\t\tjustify-content: space-between;\n\t\t\t\t\n\t\t\t\t.comment-popup-title {\n\t\t\t\t\tfont-size: 32rpx;\n\t\t\t\t\tfont-weight: 600;\n\t\t\t\t\tcolor: #333;\n\t\t\t\t\tletter-spacing: 2rpx;\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\t.comment-popup-close {\n\t\t\t\t\tpadding: 10rpx;\n\t\t\t\t\tborder-radius: 50%;\n\t\t\t\t\t\n\t\t\t\t\t&:active {\n\t\t\t\t\t\tbackground-color: #f5f5f5;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\t\n\t\t\t.comment-popup-body {\n\t\t\t\tposition: relative;\n\t\t\t\tmargin-bottom: 30rpx;\n\t\t\t\t\n\t\t\t\t.comment-textarea {\n\t\t\t\t\twidth: 100%;\n\t\t\t\t\tmin-height: 180rpx;\n\t\t\t\t\tpadding: 20rpx;\n\t\t\t\t\tbox-sizing: border-box;\n\t\t\t\t\tbackground-color: #f9f9f9;\n\t\t\t\t\tborder-radius: 12rpx;\n\t\t\t\t\tfont-size: 28rpx;\n\t\t\t\t\tline-height: 1.6;\n\t\t\t\t\tletter-spacing: 1rpx;\n\t\t\t\t\tcolor: #333;\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\t.comment-length {\n\t\t\t\t\tposition: absolute;\n\t\t\t\t\tright: 20rpx;\n\t\t\t\t\tbottom: 10rpx;\n\t\t\t\t\tfont-size: 24rpx;\n\t\t\t\t\tcolor: #999;\n\t\t\t\t}\n\t\t\t}\n\t\t\t\n\t\t\t.comment-popup-footer {\n\t\t\t\tdisplay: flex;\n\t\t\t\tjustify-content: flex-end;\n\t\t\t\t\n\t\t\t\t.comment-cancel-btn, .comment-submit-btn {\n\t\t\t\t\tpadding: 16rpx 40rpx;\n\t\t\t\t\tborder-radius: 40rpx;\n\t\t\t\t\tfont-size: 28rpx;\n\t\t\t\t\tmargin-left: 20rpx;\n\t\t\t\t\tletter-spacing: 2rpx;\n\t\t\t\t\tfont-weight: 500;\n\t\t\t\t\t\n\t\t\t\t\t&:active {\n\t\t\t\t\t\topacity: 0.8;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\t.comment-cancel-btn {\n\t\t\t\t\tcolor: #666;\n\t\t\t\t\tbackground-color: #f5f5f5;\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\t.comment-submit-btn {\n\t\t\t\t\tcolor: #fff;\n\t\t\t\t\tbackground-color: #399bfe;\n\t\t\t\t\tbox-shadow: 0 4rpx 8rpx rgba(57, 155, 254, 0.3);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\t\n\t@keyframes slideUp {\n\t\tfrom {\n\t\t\ttransform: translateY(100%);\n\t\t}\n\t\tto {\n\t\t\ttransform: translateY(0);\n\t\t}\n\t}\n\n\t/* 幸运抽奖按钮样式 */\n\t.lottery-button-container {\n\t\tmargin: 30rpx 0;\n\t\tdisplay: flex;\n\t\tjustify-content: center;\n\t}\n\t\n\t.lottery-button {\n\t\tbackground-color: #FF5500;\n\t\tcolor: #FFFFFF;\n\t\tborder: none;\n\t\tborder-radius: 40rpx;\n\t\tpadding: 20rpx 40rpx;\n\t\tfont-size: 28rpx;\n\t\tdisplay: flex;\n\t\talign-items: center;\n\t\tbox-shadow: 0 6rpx 20rpx rgba(255, 85, 0, 0.3);\n\t}\n\t\n\t.lottery-button text {\n\t\tmargin-left: 10rpx;\n\t}\n\t\n\t.lottery-button[disabled] {\n\t\tbackground-color: #CCCCCC;\n\t\tcolor: #999999;\n\t}\n\t\n\n\t\n\t.lottery-button-small text {\n\t\tmargin-left: 6rpx;\n\t}\n\t\n\t.lottery-button-small[disabled] {\n\t\tbackground-color: #CCCCCC;\n\t\tcolor: #999999;\n\t}\n\t\n\t.comment-input {\n\t\tmargin-top: 50rpx;  /* 给抽奖按钮留出空间 */\n\t\tpadding: 20rpx;\n\t\tbackground: #f5f5f5;\n\t\tborder-radius: 8rpx;\n\t\tcolor: #999;\n\t\tfont-size: 28rpx;\n\t}\n\t\n\t.comment-loading, .empty-comment {\n\t\tpadding: 40rpx 0;\n\t\tdisplay: flex;\n\t\tflex-direction: column;\n\t\talign-items: center;\n\t\tjustify-content: center;\n\t}\n\t\n\t.comment-loading :deep(.uni-load-more) {\n\t\theight: auto;\n\t\tpadding: 20rpx 0;\n\t}\n\n\t.comment-loading :deep(.uni-load-more__text) {\n\t\tfont-size: 28rpx;\n\t\tcolor: #666;\n\t}\n\n\t.lottery-component-container {\n\t\tmargin: 20rpx 0;\n\t\tborder-radius: 20rpx;\n\t\toverflow: hidden;\n\t}\n\n\t// 添加补充的加载组件样式\n\t.video-loading :deep(.uni-load-more) {\n\t\tbackground-color: transparent;\n\t}\n\n\t.video-loading :deep(.uni-load-more__text) {\n\t\tcolor: #fff;\n\t\ttext-shadow: 0 1px 2px rgba(0, 0, 0, 0.5);\n\t}\n\n\t/* 添加渐显动画 */\n\t.fade-in-animation {\n\t\tanimation: fadeIn 0.4s ease-in-out;\n\t}\n\t\n\t@keyframes fadeIn {\n\t\tfrom { opacity: 0; }\n\t\tto { opacity: 1; }\n\t}\n\n\t/* 添加自定义加载动画样式与首页一致 */\n\t.custom-loading-container {\n\t\tposition: fixed;\n\t\ttop: 0;\n\t\tleft: 0;\n\t\tright: 0;\n\t\tbottom: 0;\n\t\tbackground-color: #f8f8f8;\n\t\tdisplay: flex;\n\t\tflex-direction: column;\n\t\talign-items: center;\n\t\tjustify-content: center;\n\t\tz-index: 9999;\n\t\t\n\t\t.loading-spinner {\n\t\t\tanimation: rotate 1.5s linear infinite;\n\t\t}\n\t\t\n\t\t.loading-text {\n\t\t\tmargin-top: 30rpx;\n\t\t\tcolor: #666;\n\t\t\tfont-size: 28rpx;\n\t\t}\n\t}\n\t\n\t@keyframes rotate {\n\t\tfrom { transform: rotate(0deg); }\n\t\tto { transform: rotate(360deg); }\n\t}\n\n\t/* 用户信息区域样式 */\n\t.article-user-info {\n\t\tdisplay: flex;\n\t\talign-items: center;\n\t\tpadding: 24rpx;\n\t\tbackground-color: #fff;\n\t\tborder-bottom: 1px solid #eaeaea;\n\t\tposition: fixed;\n\t\ttop: 0;\n\t\tleft: 0;\n\t\tright: 0;\n\t\tz-index: 100;\n\t\t\n\t\t.user-avatar-container {\n\t\t\tflex-shrink: 0;\n\t\t\twidth: 80rpx;\n\t\t\theight: 80rpx;\n\t\t\tmargin-right: 16rpx;\n\t\t\t\n\t\t\t.user-avatar {\n\t\t\t\twidth: 100%;\n\t\t\t\theight: 100%;\n\t\t\t\tborder-radius: 8rpx;\n\t\t\t}\n\t\t}\n\t\t\n\t\t.user-info-container {\n\t\t\tflex: 1;\n\t\t\toverflow: hidden;\n\t\t\t\n\t\t\t.user-name {\n\t\t\t\tfont-size: 32rpx;\n\t\t\t\tfont-weight: 500;\n\t\t\t\tcolor: #333;\n\t\t\t\tmargin-bottom: 8rpx;\n\t\t\t\t@include textShenglue(1);\n\t\t\t}\n\t\t\t\n\t\t\t.user-meta {\n\t\t\t\tdisplay: flex;\n\t\t\t\tflex-direction: column;\n\t\t\t\t\n\t\t\t\t.meta-row {\n\t\t\t\t\tdisplay: flex;\n\t\t\t\t\talign-items: center;\n\t\t\t\t\tfont-size: 24rpx;\n\t\t\t\t\tcolor: #999;\n\t\t\t\t\t\n\t\t\t\t\t.time-text {\n\t\t\t\t\t\tmargin-right: 0;\n\t\t\t\t\t}\n\t\t\t\t\t\n\t\t\t\t\t.view-count {\n\t\t\t\t\t\tdisplay: flex;\n\t\t\t\t\t\talign-items: center;\n\t\t\t\t\t\t\n\t\t\t\t\t\t.view-separator {\n\t\t\t\t\t\t\tmargin: 0 8rpx;\n\t\t\t\t\t\t\tcolor: #ddd;\n\t\t\t\t\t\t}\n\t\t\t\t\t\t\n\t\t\t\t\t\t.view-text {\n\t\t\t\t\t\t\tfont-size: 24rpx;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\t\n\t\t.contact-button {\n\t\t\tflex-shrink: 0;\n\t\t\twidth: 80rpx;\n\t\t\theight: 80rpx;\n\t\t\tdisplay: flex;\n\t\t\tjustify-content: center;\n\t\t\talign-items: center;\n\t\t\t\n\t\t\t&:active {\n\t\t\t\topacity: 0.7;\n\t\t\t}\n\t\t}\n\t}\n\n\t.time-views-container {\n\t\tdisplay: flex;\n\t\talign-items: center;\n\t\tpadding: 0 24rpx 16rpx;\n\t\tcolor: #999;\n\t\tfont-size: 24rpx;\n\t\tbackground-color: #fff;\n\t\t\n\t\t.time-text {\n\t\t\tposition: relative;\n\t\t\tpadding-right: 16rpx;\n\t\t\tmargin-right: 16rpx;\n\t\t\t\n\t\t\t&::after {\n\t\t\t\tcontent: \"|\";\n\t\t\t\tposition: absolute;\n\t\t\t\tright: 0;\n\t\t\t\tcolor: #ddd;\n\t\t\t}\n\t\t}\n\t\t\n\t\t.views-text {\n\t\t\tdisplay: flex;\n\t\t\talign-items: center;\n\t\t\t\n\t\t\t&::before {\n\t\t\t\tcontent: \"\";\n\t\t\t\tdisplay: inline-block;\n\t\t\t\twidth: 24rpx;\n\t\t\t\theight: 24rpx;\n\t\t\t\tmargin-right: 4rpx;\n\t\t\t\tbackground: url('data:image/svg+xml;base64,PHN2ZyB0PSIxNjg4NDAwMDk1NjY3IiBjbGFzcz0iaWNvbiIgdmlld0JveD0iMCAwIDEwMjQgMTAyNCIgdmVyc2lvbj0iMS4xIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHAtaWQ9IjIxOTgiIHdpZHRoPSIyMDAiIGhlaWdodD0iMjAwIj48cGF0aCBkPSJNNTEyIDI0Ny40NjdjLTE0Ny4yIDAtMjY4LjggMTIxLjYtMjY4LjggMjY4Ljh2MC4wNjdDMjQzLjIgNjYzLjQ2NyAzNjQuOCA3ODUuMDY3IDUxMiA3ODUuMDY3YzE0Ny4yIDAgMjY4LjgtMTIxLjYgMjY4LjgtMjY4LjggMC0xNDcuMi0xMjEuNi0yNjguOC0yNjguOC0yNjguOHoiIGZpbGw9IiNlNmU2ZTYiIHAtaWQ9IjIxOTkiPjwvcGF0aD48cGF0aCBkPSJNNTEyIDc4NS4wNjdjLTE0Ny4yIDAtMjY4LjgtMTIxLjYtMjY4LjgtMjY4LjggMC0xNDcuMiAxMjEuNi0yNjguOCAyNjguOC0yNjguOCAxNDcuMiAwIDI2OC44IDEyMS42IDI2OC44IDI2OC44IDAgMTQ3LjItMTIxLjYgMjY4LjgtMjY4LjggMjY4Ljh6IG0wLTQ3MC40Yy0xMTEuMSAwLTIwMS42IDkwLjUtMjAxLjYgMjAxLjYgMCAxMTEuMSA5MC41IDIwMS42IDIwMS42IDIwMS42IDExMS4xIDAgMjAxLjYtOTAuNSAyMDEuNi0yMDEuNiAwLTExMS4xLTkwLjUtMjAxLjYtMjAxLjYtMjAxLjZ6IiBmaWxsPSIjOTk5OTk5IiBwLWlkPSIyMjAwIj48L3BhdGg+PHBhdGggZD0iTTUxMiA1ODMuNDY3Yy0zNi44IDAtNjcuMi0zMC40LTY3LjItNjcuMnMzMC40LTY3LjIgNjcuMi02Ny4yIDY3LjIgMzAuNCA2Ny4yIDY3LjItMzAuNCA2Ny4yLTY3LjIgNjcuMnogbTAtNjcuMnYwIDBjMC4wMDEgMCAwLjAwMSAwIDAgMHoiIGZpbGw9IiM5OTk5OTkiIHAtaWQ9IjIyMDEiPjwvcGF0aD48cGF0aCBkPSJNNTEyIDk0MC44Yy0yMDkuNiAwLTM4NC42NCAxNTAuMDgtNDIzLjA4IDM0OC4xNkMyMy4wNCA4NDguNjQgNzEuMDQgMzkwLjcyIDIxMi40OCAyMTIuOCA0MDguNjQtNDMuODQgNzU4LjA4LTY5LjYgOTgwLjQ4IDEzNS4yYzE4OC4xNiAxNzMuNDQgMjUwLjg4IDQ0Mi4yNCAxNTYuOCA2NzguNEMxMDMzLjI4IDU3My40NCA3OTQuNTYgMzg0IDUxMiAzODQgMzAxLjQ0IDM4NCAxMzAuODggNTUzLjkyIDEzMC44OCA3NjQuMTZjMCAyMTAuMjQgMTcwLjU2IDM4MC4xNiAzODEuMTIgMzgwLjE2IDIxMC4yNCAwIDM4MC44LTE2OS45MiAzODAuOC0zODAuMTYgMC03My42LTIxLjEyLTE0NC0zMi02NC45NlY1MzIuOGMwLTM2LjQ4LTI5LjQ0LTY2LjU2LTY1LjkyLTY2LjU2cy02NS45MiAyOS40NC02NS45MiA2NS45MnYxNTkuNjhjMjMuMDQgMjQuOTYgMzguNCA1Ny42IDM4LjQgOTMuNDQgMCA3NC4yNC02MC4xNiAxMzMuNzYtMTM0LjQgMTMzLjc2cy0xMzQuNC01OS41Mi0xMzQuNC0xMzMuNzYgNjAuMTYtMTMzLjc2IDEzNC40LTEzMy43NmMxMy40NCAwIDI2LjI0IDEuOTIgMzcuNzYgNS43NlY1MzIuOGMwLTU3LjYgMzMuOTItMTA2Ljg4IDgyLjU2LTEyOS45MiA2MS40NC0yOS40NCAxMzUuMDQtMTAuODggMTcxLjUyIDQ0LjE2IDEuMjgtMS45MiAyLjU2LTMuODQgNC40OC01Ljc2IDQ3LjM2LTQ3LjM2IDEyMy41Mi00Ni43MiAxNjkuNiAwIDQ3LjM2IDQ2LjA4IDQ3LjM2IDEyMS42IDAgMTY5LjYtNDcuMzYgNDcuMzYtMTIzLjUyIDQ2LjcyLTE2OS42IDAtMS4yOCAxLjI4LTEuOTIgMi41Ni0zLjIgMy44NEM3NzMuMTIgODQ5LjI4IDY1My4xMiA5NDAuOCA1MTIgOTQwLjh6IG0xNzYuNjQtMTc1LjM2YzUzLjc2IDUzLjEyIDE0MS40NCA1My4xMiAxOTUuMiAwIDUzLjc2LTUzLjEyIDUzLjc2LTEzOS41MiAwLTE5My4yOC01My43Ni01My4xMi0xNDEuNDQtNTMuMTItMTk1LjIgMC01My43NiA1My43Ni01My43NiAxNDAuMTYgMCAxOTMuMjh6IG0tMTc2IDExLjUyYy0xMC4yNCAyLjU2LTIxLjEyIDMuODQtMzIgMy44NC05Mi44IDAtMTY3LjY4LTc1LjUyLTE2Ny42OC0xNjguMzJzNzQuODgtMTY4LjMyIDE2Ny42OC0xNjguMzIgMTY4LjMyIDc1LjUyIDE2OC4zMiAxNjguMzJjMCAxMC44OC0xLjI4IDIxLjc2LTMuODQgMzJoMGMtMTUuMzYgNzQuODgtODEuMjggMTMyLjQ4LTE2MS40OCAxMzIuNDhIODUuMTJDMTI4IDUxNy40NCAzMDYuNTYgMzUwLjcyIDUxMiAzNTAuNzJjMjkxLjg0IDAgNTI5LjI4IDE5Ni40OCA2MDYuMDggNDY0IDEwLjg4IDMzLjkyIDEwLjg4IDcwLjQgMTAuODggMTA2Ljg4QzEwNTguODggNTk2LjQ4IDgyNS42IDI5NC40IDUxMiAyOTQuNGMtMjI5LjQ0IDAtNDE1LjM2IDE4NS45Mi00MTUuMzYgNDE2IDAgMjI5LjQ0IDE4NS45MiA0MTYgNDE1LjM2IDQxNiAyMDkuNiAwIDM4MS43Ni0xNTUuMiA0MDkuNi0zNTcuNDQtMzcuMTIgNDAuOTYtOTAuMjQgNjcuODQtMTQ4LjQ4IDcwLjRDNzQyLjA4IDg0MC45NiA2NDIuNTYgODIzLjY4IDU2OS4yOCA3NTIuNjRjLTIuNTYtMi41Ni00LjQ4LTUuMTItNi40LTcuNjh2MzIuNjR6IG0wLTEyOGMwLTM2LjQ4IDMwLjA4LTY1LjkyIDY2LjU2LTY1LjkyIDM2LjQ4IDAgNjYuNTYgMjkuNDQgNjYuNTYgNjUuOTJzLTMwLjA4IDY2LjU2LTY2LjU2IDY2LjU2Yy0zNi40OCAwLTY2LjU2LTMwLjA4LTY2LjU2LTY2LjU2eiIgZmlsbD0iIzk5OTk5OSIgcC1pZD0iMjIwMiI+PC9wYXRoPjwvc3ZnPg==') no-repeat;\n\t\t\t\tbackground-size: contain;\n\t\t\t}\n\t\t}\n\t}\n\n\t// 删除不再需要的粉丝群按钮样式\n\t.fans-group-btn {\n\t\t// 样式已被替换\n\t}\n\n\t/* 加群引导弹窗样式 */\n\t.group-guide-popup {\n\t\tposition: fixed;\n\t\ttop: 0;\n\t\tleft: 0;\n\t\tright: 0;\n\t\tbottom: 0;\n\t\tz-index: 1000;\n\t\tdisplay: flex;\n\t\tjustify-content: center;\n\t\talign-items: center;\n\t\t\n\t\t.group-guide-mask {\n\t\t\tposition: absolute;\n\t\t\ttop: 0;\n\t\t\tleft: 0;\n\t\t\tright: 0;\n\t\t\tbottom: 0;\n\t\t\tbackground-color: rgba(0, 0, 0, 0.7);\n\t\t\tbackdrop-filter: blur(6rpx);\n\t\t\tz-index: -1;\n\t\t}\n\t\t\n\t\t.group-guide-content {\n\t\t\twidth: 620rpx;\n\t\t\tbackground-color: #fff;\n\t\t\tborder-radius: 24rpx;\n\t\t\tpadding: 60rpx 40rpx 50rpx;\n\t\t\tposition: relative;\n\t\t\tbox-shadow: 0 20rpx 40rpx rgba(0, 0, 0, 0.15);\n\t\t\tanimation: popIn 0.4s cubic-bezier(0.22, 0.61, 0.36, 1);\n\t\t\t\n\t\t\t.group-guide-close {\n\t\t\t\tposition: absolute;\n\t\t\t\ttop: 20rpx;\n\t\t\t\tright: 20rpx;\n\t\t\t\twidth: 60rpx;\n\t\t\t\theight: 60rpx;\n\t\t\t\tdisplay: flex;\n\t\t\t\tjustify-content: center;\n\t\t\t\talign-items: center;\n\t\t\t\tborder-radius: 50%;\n\t\t\t\tbackground-color: rgba(0, 0, 0, 0.05);\n\t\t\t\tz-index: 10;\n\t\t\t\ttransition: all 0.2s ease;\n\t\t\t\t\n\t\t\t\t&:active {\n\t\t\t\t\tbackground-color: rgba(0, 0, 0, 0.15);\n\t\t\t\t\ttransform: scale(0.9);\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\t/* 添加X图标样式 */\n\t\t\t\t&::before, &::after {\n\t\t\t\t\tcontent: '';\n\t\t\t\t\tposition: absolute;\n\t\t\t\t\twidth: 24rpx;\n\t\t\t\t\theight: 4rpx;\n\t\t\t\t\tbackground-color: #999;\n\t\t\t\t\tborder-radius: 2rpx;\n\t\t\t\t\ttransition: all 0.2s;\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\t&::before {\n\t\t\t\t\ttransform: rotate(45deg);\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\t&::after {\n\t\t\t\t\ttransform: rotate(-45deg);\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\t&:active::before, &:active::after {\n\t\t\t\t\tbackground-color: #666;\n\t\t\t\t}\n\t\t\t}\n\t\t\t\n\t\t\t.group-guide-title {\n\t\t\t\tfont-size: 44rpx;\n\t\t\t\tfont-weight: bold;\n\t\t\t\ttext-align: center;\n\t\t\t\tcolor: #FF4757;\n\t\t\t\tmargin-bottom: 20rpx;\n\t\t\t\tpadding: 16rpx 0;\n\t\t\t\tposition: relative;\n\t\t\t\tborder-radius: 12rpx;\n\t\t\t\tbackground: linear-gradient(135deg, rgba(255, 71, 87, 0.12), rgba(255, 71, 87, 0.06));\n\t\t\t\twidth: 70%;\n\t\t\t\tmargin: 0 auto 30rpx auto;\n\t\t\t\t\n\t\t\t\t&::after {\n\t\t\t\t\tcontent: '';\n\t\t\t\t\tposition: absolute;\n\t\t\t\t\tbottom: -8rpx;\n\t\t\t\t\tleft: 50%;\n\t\t\t\t\ttransform: translateX(-50%);\n\t\t\t\t\twidth: 80rpx;\n\t\t\t\t\theight: 4rpx;\n\t\t\t\t\tbackground-color: #FF4757;\n\t\t\t\t\tborder-radius: 4rpx;\n\t\t\t\t}\n\t\t\t}\n\t\t\t\n\t\t\t.group-guide-desc {\n\t\t\t\tfont-size: 30rpx;\n\t\t\t\tcolor: #333;\n\t\t\t\ttext-align: center;\n\t\t\t\tmargin-bottom: 40rpx;\n\t\t\t\tline-height: 1.5;\n\t\t\t\tletter-spacing: 1rpx;\n\t\t\t}\n\t\t\t\n\t\t\t/* 替换单张图片样式为6宫格样式 */\n\t\t\t.group-guide-image-grid {\n\t\t\t\tdisplay: flex;\n\t\t\t\tflex-wrap: wrap;\n\t\t\t\tmargin-bottom: 50rpx;\n\t\t\t\tborder-radius: 16rpx;\n\t\t\t\toverflow: hidden;\n\t\t\t\tbox-shadow: 0 8rpx 24rpx rgba(0, 0, 0, 0.1);\n\t\t\t\tborder: 1px solid #f0f0f0;\n\t\t\t\t\n\t\t\t\t.grid-item {\n\t\t\t\t\twidth: calc(33.33% - 6rpx);\n\t\t\t\t\theight: 160rpx;\n\t\t\t\t\tmargin: 3rpx;\n\t\t\t\t\t\n\t\t\t\t\t&::after {\n\t\t\t\t\t\tcontent: '';\n\t\t\t\t\t\tposition: absolute;\n\t\t\t\t\t\ttop: 0;\n\t\t\t\t\t\tleft: 0;\n\t\t\t\t\t\tright: 0;\n\t\t\t\t\t\tbottom: 0;\n\t\t\t\t\t\tbackground: linear-gradient(to bottom, transparent 70%, rgba(0, 0, 0, 0.2));\n\t\t\t\t\t\topacity: 0;\n\t\t\t\t\t\ttransition: opacity 0.3s ease;\n\t\t\t\t\t}\n\t\t\t\t\t\n\t\t\t\t\t&:active::after {\n\t\t\t\t\t\topacity: 1;\n\t\t\t\t\t}\n\t\t\t\t\t\n\t\t\t\t\timage {\n\t\t\t\t\t\twidth: 100%;\n\t\t\t\t\t\theight: 100%;\n\t\t\t\t\t\tobject-fit: cover;\n\t\t\t\t\t\ttransition: transform 0.3s ease;\n\t\t\t\t\t\t\n\t\t\t\t\t\t&:active {\n\t\t\t\t\t\t\ttransform: scale(1.05);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\t\n\t\t\t.group-guide-button {\n\t\t\t\tbackground: linear-gradient(135deg, #FF6B6B, #FF4757);\n\t\t\t\tcolor: #FFFFFF;\n\t\t\t\theight: 88rpx;\n\t\t\t\tline-height: 88rpx;\n\t\t\t\tfont-size: 32rpx;\n\t\t\t\tfont-weight: bold;\n\t\t\t\tletter-spacing: 2rpx;\n\t\t\t\tborder-radius: 44rpx;\n\t\t\t\ttext-align: center;\n\t\t\t\tbox-shadow: 0 8rpx 16rpx rgba(255, 71, 87, 0.3);\n\t\t\t\tmargin: 0;\n\t\t\t\tborder: none;\n\t\t\t\tposition: relative;\n\t\t\t\toverflow: hidden;\n\t\t\t\tanimation: pulse 1.2s ease-in-out infinite alternate;\n\t\t\t\t\n\t\t\t\t&::after {\n\t\t\t\t\tborder: none;\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\t&:active {\n\t\t\t\t\topacity: 0.9;\n\t\t\t\t\ttransform: scale(0.98);\n\t\t\t\t\tanimation-play-state: paused;\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\t/* 添加闪光动画 */\n\t\t\t\t&::before {\n\t\t\t\t\tcontent: '';\n\t\t\t\t\tposition: absolute;\n\t\t\t\t\ttop: -50%;\n\t\t\t\t\tleft: -50%;\n\t\t\t\t\twidth: 200%;\n\t\t\t\t\theight: 200%;\n\t\t\t\t\tbackground: linear-gradient(\n\t\t\t\t\t\tto right,\n\t\t\t\t\t\trgba(255, 255, 255, 0) 0%,\n\t\t\t\t\t\trgba(255, 255, 255, 0.5) 50%,\n\t\t\t\t\t\trgba(255, 255, 255, 0) 100%\n\t\t\t\t\t);\n\t\t\t\t\ttransform: rotate(30deg);\n\t\t\t\t\tanimation: shine 3s infinite;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\t\n\t@keyframes popIn {\n\t\t0% {\n\t\t\topacity: 0;\n\t\t\ttransform: scale(0.8) translateY(30rpx);\n\t\t}\n\t\t100% {\n\t\t\topacity: 1;\n\t\t\ttransform: scale(1) translateY(0);\n\t\t}\n\t}\n\t\n\t@keyframes shine {\n\t\t0% {\n\t\t\tleft: -100%;\n\t\t}\n\t\t20% {\n\t\t\tleft: 100%;\n\t\t}\n\t\t100% {\n\t\t\tleft: 100%;\n\t\t}\n\t}\n\n\t// 优化脉动动画效果\n\t@keyframes pulse {\n\t\t0% {\n\t\t\ttransform: scale(1);\n\t\t\tbox-shadow: 0 8rpx 16rpx rgba(255, 71, 87, 0.3);\n\t\t}\n\t\t100% {\n\t\t\ttransform: scale(1.03);\n\t\t\tbox-shadow: 0 12rpx 24rpx rgba(255, 71, 87, 0.4);\n\t\t}\n\t}\n</style>\n","import MiniProgramPage from 'E:/dy2/pages/article/articleDetail.vue'\ntt.createPage(MiniProgramPage)"],"names":["ref","uniCloud","uni","useUserInfoStore","err","computed","onShareAppMessage","onShareTimeline","onBeforeUnmount","watch","onPullDownRefresh","onMounted","onUnmounted","onReachBottom"],"mappings":"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"}
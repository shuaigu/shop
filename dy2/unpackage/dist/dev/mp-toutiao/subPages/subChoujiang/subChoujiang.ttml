<view class="container"><view tt:if="{{a}}" class="settings-panel"><view class="settings-header"><text class="settings-title">抽奖设置</text><button class="close-btn" bindtap="{{b}}">关闭</button></view><view class="prize-settings"><view class="section-title">奖品设置</view><block tt:if="{{c}}"><view tt:for="{{d}}" tt:for-item="prize" tt:key="h" class="prize-item"><input class="prize-name" placeholder="奖品名称" value="{{prize.a}}" bindinput="{{prize.b}}"/><picker tt:if="{{prize.c}}" value="{{prize.e}}" range="{{prize.f}}" range-key="name" bindchange="{{prize.g}}"><view class="picker"> 类型: {{prize.d}}</view></picker></view></block></view><view class="probability-settings"><view class="section-title">概率设置（总和需为100%）</view><view class="prob-item"><text>谢谢参与概率(%):</text><input class="prob-input" type="number" value="{{e}}" bindinput="{{f}}"/></view><view class="prob-item"><text>小额奖品概率(%):</text><input class="prob-input" type="number" value="{{g}}" bindinput="{{h}}"/></view><view class="prob-item"><text>中额奖品概率(%):</text><input class="prob-input" type="number" value="{{i}}" bindinput="{{j}}"/></view><view class="prob-item"><text>大额奖品概率(%):</text><input class="prob-input" type="number" value="{{k}}" bindinput="{{l}}"/></view><text class="{{('total-prob') + ' ' + (o && 'error')}}"> 总概率: {{m}}% {{n}}</text></view><button class="save-btn" bindtap="{{p}}">保存设置</button></view><view tt:if="{{q}}" class="manual-panel"><view class="settings-header"><text class="settings-title">指定奖品</text><button class="close-btn" bindtap="{{r}}">关闭</button></view><view class="section-title">选择奖品</view><view class="prize-select"><picker tt:if="{{s}}" value="{{v}}" range="{{w}}" bindchange="{{x}}"><view class="picker-full"> 选择奖品: {{t}}</view></picker></view><view class="custom-prize"><view class="section-title">或自定义奖品</view><input class="manual-input" placeholder="请输入自定义奖品名称" value="{{y}}" bindinput="{{z}}"/></view><button class="confirm-btn" bindtap="{{A}}">确认</button></view><view tt:if="{{B}}" class="action-btns"><button class="settings-btn" bindtap="{{C}}">设置</button><button class="manual-btn" bindtap="{{D}}">指定奖品</button><text class="mode-text">当前模式: {{E}}</text></view><view tt:if="{{F}}" class="lottery-container"><view class="lottery-grid"><view tt:for="{{G}}" tt:for-item="prize" tt:key="b" class="{{('lottery-item') + ' ' + prize.c + ' ' + prize.d}}" bindtap="{{prize.e}}"><text>{{prize.a}}</text></view></view></view><view tt:if="{{H}}" class="result"><text class="result-text">{{I}}</text><button class="again-btn" bindtap="{{J}}">再来一次</button></view></view>
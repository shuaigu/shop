# 打印功能快速参考卡片

## 🚀 5分钟快速上手

### 步骤1：添加打印机（30秒）
```
首页 → 当前打印机 → + 添加打印机 
→ ⚡ 快速填充测试设备 → 确定
```

### 步骤2：连接测试（1分钟）
```
首页 → 🔌 连接测试 → 🚀 开始测试 
→ 查看日志 → 记录任务ID
```

### 步骤3：提交打印（2分钟）
```
打印页面 → 文档 → 文件URL 
→ 输入：https://www.w3.org/WAI/ER/tests/xhtml/testfiles/resources/pdf/dummy.pdf
→ 设置参数 → 开始打印
```

### 步骤4：查询状态（1分钟）
```
测试页面 → 查询任务状态 → 打开预览图
或
历史页面 → 查看记录
```

---

## 📋 关键检查点

### ✅ 打印机信息必须包含
```javascript
{
  id: "设备ID",
  password: "设备密码",      // ← 不是 secret！
  model: "打印机型号",
  driverName: "驱动名称"     // ← 必须有！
}
```

### ✅ 打印参数必须提供
- deviceId（设备ID）
- devicePassword（设备密码）
- printerName（打印机名称）
- driverName（驱动名称）
- jobFileUrl（文件URL）

---

## 🔍 快速调试

### 查看打印机信息
```javascript
// 在Console执行
const printer = uni.getStorageSync('selectedPrinter')
console.log(printer)
```

### 查看打印参数
```javascript
// 打印时自动输出到Console
// 查找：「打印参数:」
```

### 清空重新开始
```javascript
uni.clearStorageSync()  // 清空所有
// 或
uni.removeStorageSync('printers')
uni.removeStorageSync('selectedPrinter')
```

---

## ⚠️ 常见错误

### 错误1：打印任务提交失败
**原因**：打印机信息缺少 `password` 或 `driverName`  
**解决**：删除打印机，使用快速填充重新添加

### 错误2：任务一直PENDING
**原因**：云盒离线或打印机未连接  
**解决**：检查设备状态，确保在线

### 错误3：预览图不显示
**原因**：任务未完成或未开启预览  
**解决**：等待任务完成，确认isPreview=1

---

## 📞 快速联系

| 用途 | 地址 |
|------|------|
| 设备管理 | https://open.liankenet.com |
| 云打印管理 | https://printing.liankenet.com |
| API文档 | https://cloud.liankenet.com/api/docs |
| 技术支持 | support@liankenet.com |

---

## 📚 完整文档

- **README.md** - 项目说明
- **使用指南.md** - 详细教程
- **验证清单.md** - 测试流程
- **更新说明-2026-01-27.md** - 更新内容
- **修复完成总结.md** - 修复详情

---

## 🎯 测试用URL

```
https://www.w3.org/WAI/ER/tests/xhtml/testfiles/resources/pdf/dummy.pdf
```

---

**版本**: v1.2.0 | **日期**: 2026-01-27

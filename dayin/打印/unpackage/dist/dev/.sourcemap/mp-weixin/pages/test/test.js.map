{"version":3,"file":"test.js","sources":["pages/test/test.vue","../../../ËΩØ‰ª∂/HBuilderX/HBuilderX/plugins/uniapp-cli-vite/uniPage:/cGFnZXMvdGVzdC90ZXN0LnZ1ZQ"],"sourcesContent":["<template>\r\n\t<view class=\"container\">\r\n\t\t<view class=\"header\">\r\n\t\t\t<text class=\"title\">üîå ÊâìÂç∞Êú∫ËøûÊé•ÊµãËØï</text>\r\n\t\t</view>\r\n\t\t\r\n\t\t<!-- ËÆæÂ§á‰ø°ÊÅØ -->\r\n\t\t<view class=\"device-card\">\r\n\t\t\t<view class=\"card-title\">ËÆæÂ§á‰ø°ÊÅØ</view>\r\n\t\t\t<view class=\"info-row\">\r\n\t\t\t\t<text class=\"label\">ËÆæÂ§áIDÔºö</text>\r\n\t\t\t\t<text class=\"value\">{{ deviceInfo.id }}</text>\r\n\t\t\t</view>\r\n\t\t\t<view class=\"info-row\">\r\n\t\t\t\t<text class=\"label\">ËÆæÂ§áÂûãÂè∑Ôºö</text>\r\n\t\t\t\t<text class=\"value\">{{ deviceInfo.model }}</text>\r\n\t\t\t</view>\r\n\t\t\t<view class=\"info-row\">\r\n\t\t\t\t<text class=\"label\">‰∏ªÊú∫ÂêçÔºö</text>\r\n\t\t\t\t<text class=\"value\">{{ deviceInfo.name }}</text>\r\n\t\t\t</view>\r\n\t\t\t<view class=\"info-row\">\r\n\t\t\t\t<text class=\"label\">ËøûÊé•Áä∂ÊÄÅÔºö</text>\r\n\t\t\t\t<text class=\"value\" :class=\"connectionStatus\">\r\n\t\t\t\t\t{{ statusText }}\r\n\t\t\t\t</text>\r\n\t\t\t</view>\r\n\t\t</view>\r\n\t\t\r\n\t\t<!-- ËøûÊé•Ê≠•È™§ -->\r\n\t\t<view class=\"steps-card\">\r\n\t\t\t<view class=\"card-title\">ËøûÊé•Ê≠•È™§</view>\r\n\t\t\t<view class=\"step-item\" :class=\"{'active': currentStep >= 1, 'success': currentStep > 1}\">\r\n\t\t\t\t<view class=\"step-num\">1</view>\r\n\t\t\t\t<view class=\"step-content\">\r\n\t\t\t\t\t<text class=\"step-title\">È™åËØÅËÆæÂ§á</text>\r\n\t\t\t\t\t<text class=\"step-desc\">Ê£ÄÊü•ËÆæÂ§áIDÂíåÂØÜÁ†Å</text>\r\n\t\t\t\t</view>\r\n\t\t\t\t<view class=\"step-icon\">{{ currentStep > 1 ? '‚úì' : '' }}</view>\r\n\t\t\t</view>\r\n\t\t\t<view class=\"step-item\" :class=\"{'active': currentStep >= 2, 'success': currentStep > 2}\">\r\n\t\t\t\t<view class=\"step-num\">2</view>\r\n\t\t\t\t<view class=\"step-content\">\r\n\t\t\t\t\t<text class=\"step-title\">ËøûÊé•ÊâìÂç∞Êú∫</text>\r\n\t\t\t\t\t<text class=\"step-desc\">Âª∫Á´ãÈÄö‰ø°ËøûÊé•</text>\r\n\t\t\t\t</view>\r\n\t\t\t\t<view class=\"step-icon\">{{ currentStep > 2 ? '‚úì' : '' }}</view>\r\n\t\t\t</view>\r\n\t\t\t<view class=\"step-item\" :class=\"{'active': currentStep >= 3, 'success': currentStep > 3}\">\r\n\t\t\t\t<view class=\"step-num\">3</view>\r\n\t\t\t\t<view class=\"step-content\">\r\n\t\t\t\t\t<text class=\"step-title\">ÊµãËØïÊâìÂç∞</text>\r\n\t\t\t\t\t<text class=\"step-desc\">ÂèëÈÄÅÊµãËØïÊñáÊ°£</text>\r\n\t\t\t\t</view>\r\n\t\t\t\t<view class=\"step-icon\">{{ currentStep > 3 ? '‚úì' : '' }}</view>\r\n\t\t\t</view>\r\n\t\t</view>\r\n\t\t\r\n\t\t<!-- Áä∂ÊÄÅÊü•ËØ¢ -->\r\n\t\t<view class=\"query-card\" v-if=\"currentTaskId\">\r\n\t\t\t<view class=\"card-title\">‰ªªÂä°Áä∂ÊÄÅÊü•ËØ¢</view>\r\n\t\t\t<view class=\"info-row\">\r\n\t\t\t\t<text class=\"label\">‰ªªÂä°IDÔºö</text>\r\n\t\t\t\t<text class=\"value task-id\">{{ currentTaskId }}</text>\r\n\t\t\t</view>\r\n\t\t\t<view class=\"action-row\">\r\n\t\t\t\t<button class=\"query-btn\" @click=\"queryTask\">Êü•ËØ¢‰ªªÂä°Áä∂ÊÄÅ</button>\r\n\t\t\t\t<button class=\"cancel-btn\" @click=\"cancelTask\">ÂèñÊ∂à‰ªªÂä°</button>\r\n\t\t\t\t<button class=\"preview-btn\" v-if=\"previewImageUrl\" @click=\"openPreview\">ÊâìÂºÄÈ¢ÑËßàÂõæ</button>\r\n\t\t\t</view>\r\n\t\t\t<view class=\"task-info\" v-if=\"taskInfo\">\r\n\t\t\t\t<view class=\"info-row\">\r\n\t\t\t\t\t<text class=\"label\">‰ªªÂä°Áä∂ÊÄÅÔºö</text>\r\n\t\t\t\t\t<text class=\"value\" :class=\"getStatusClass(taskInfo.task_state)\">{{ taskInfo.task_state }}</text>\r\n\t\t\t\t</view>\r\n\t\t\t\t<view class=\"info-row\" v-if=\"taskInfo.task_done_time\">\r\n\t\t\t\t\t<text class=\"label\">ÂÆåÊàêÊó∂Èó¥Ôºö</text>\r\n\t\t\t\t\t<text class=\"value\">{{ taskInfo.task_done_time }}</text>\r\n\t\t\t\t</view>\r\n\t\t\t</view>\r\n\t\t</view>\r\n\t\t\r\n\t\t<!-- ÊµãËØïÊó•Âøó -->\r\n\t\t<view class=\"log-card\">\r\n\t\t\t<view class=\"card-title\">ËøûÊé•Êó•Âøó</view>\r\n\t\t\t<scroll-view class=\"log-scroll\" scroll-y>\r\n\t\t\t\t<view class=\"log-item\" v-for=\"(log, index) in logs\" :key=\"index\" :class=\"log.type\">\r\n\t\t\t\t\t<text class=\"log-time\">{{ log.time }}</text>\r\n\t\t\t\t\t<text class=\"log-text\">{{ log.message }}</text>\r\n\t\t\t\t</view>\r\n\t\t\t\t<view class=\"empty-log\" v-if=\"logs.length === 0\">\r\n\t\t\t\t\t<text>ÊöÇÊó†Êó•Âøó</text>\r\n\t\t\t\t</view>\r\n\t\t\t</scroll-view>\r\n\t\t</view>\r\n\t\t\r\n\t\t<!-- Êìç‰ΩúÊåâÈíÆ -->\r\n\t\t<view class=\"action-buttons\">\r\n\t\t\t<button class=\"test-btn\" @click=\"startTest\" :disabled=\"testing\">\r\n\t\t\t\t{{ testing ? 'ÊµãËØï‰∏≠...' : 'üöÄ ÂºÄÂßãÊµãËØï' }}\r\n\t\t\t</button>\r\n\t\t\t<button class=\"printer-list-btn\" @click=\"getPrinterList\">\r\n\t\t\t\tüñ®Ô∏è Ëé∑ÂèñÊâìÂç∞Êú∫ÂàóË°®\r\n\t\t\t</button>\r\n\t\t\t<button class=\"reset-btn\" @click=\"resetTest\" v-if=\"currentStep > 0\">\r\n\t\t\t\tÈáçÁΩÆ\r\n\t\t\t</button>\r\n\t\t\t<button class=\"web-btn\" @click=\"openWebManage\">\r\n\t\t\t\tüåê ÊâìÂºÄWebÁÆ°ÁêÜ\r\n\t\t\t</button>\r\n\t\t</view>\r\n\t</view>\r\n</template>\r\n\r\n<script>\r\n\timport printApi from '@/utils/printApi.js';\r\n\t\r\n\texport default {\r\n\t\tdata() {\r\n\t\t\treturn {\r\n\t\t\t\tdeviceInfo: {},\r\n\t\t\t\tconnectionStatus: 'disconnected', // disconnected, connecting, connected, error\r\n\t\t\t\tcurrentStep: 0,\r\n\t\t\t\ttesting: false,\r\n\t\t\t\tlogs: [],\r\n\t\t\t\t// ‰ªªÂä°Áõ∏ÂÖ≥\r\n\t\t\t\tcurrentTaskId: '',\r\n\t\t\t\ttaskInfo: null,\r\n\t\t\t\tpreviewImageUrl: ''\r\n\t\t\t}\r\n\t\t},\r\n\t\t\r\n\t\tcomputed: {\r\n\t\t\tstatusText() {\r\n\t\t\t\tconst statusMap = {\r\n\t\t\t\t\tdisconnected: 'Êú™ËøûÊé•',\r\n\t\t\t\t\tconnecting: 'ËøûÊé•‰∏≠...',\r\n\t\t\t\t\tconnected: 'Â∑≤ËøûÊé•',\r\n\t\t\t\t\terror: 'ËøûÊé•Â§±Ë¥•'\r\n\t\t\t\t};\r\n\t\t\t\treturn statusMap[this.connectionStatus] || 'Êú™Áü•';\r\n\t\t\t}\r\n\t\t},\r\n\t\t\r\n\t\tonLoad() {\r\n\t\t\t// Âä†ËΩΩËÆæÂ§á‰ø°ÊÅØ\r\n\t\t\tconst defaultDevice = printApi.getDefaultDevice();\r\n\t\t\tthis.deviceInfo = defaultDevice;\r\n\t\t\tthis.addLog('info', 'ËÆæÂ§á‰ø°ÊÅØÂ∑≤Âä†ËΩΩ');\r\n\t\t},\r\n\t\t\r\n\t\tmethods: {\r\n\t\t\t// Ê∑ªÂä†Êó•Âøó\r\n\t\t\taddLog(type, message) {\r\n\t\t\t\tconst now = new Date();\r\n\t\t\t\tconst time = `${String(now.getHours()).padStart(2, '0')}:${String(now.getMinutes()).padStart(2, '0')}:${String(now.getSeconds()).padStart(2, '0')}`;\r\n\t\t\t\tthis.logs.push({\r\n\t\t\t\t\ttype, // info, success, error, warning\r\n\t\t\t\t\ttime,\r\n\t\t\t\t\tmessage\r\n\t\t\t\t});\r\n\t\t\t\t\r\n\t\t\t\t// Ëá™Âä®ÊªöÂä®Âà∞Â∫ïÈÉ®\r\n\t\t\t\tthis.$nextTick(() => {\r\n\t\t\t\t\tconst query = uni.createSelectorQuery().in(this);\r\n\t\t\t\t\tquery.select('.log-scroll').boundingClientRect();\r\n\t\t\t\t\tquery.exec();\r\n\t\t\t\t});\r\n\t\t\t},\r\n\t\t\t\r\n\t\t\t// Âª∂ËøüÂáΩÊï∞\r\n\t\t\tsleep(ms) {\r\n\t\t\t\treturn new Promise(resolve => setTimeout(resolve, ms));\r\n\t\t\t},\r\n\t\t\t\r\n\t\t\t// ÂºÄÂßãÊµãËØï\r\n\t\t\tasync startTest() {\r\n\t\t\t\tif (this.testing) return;\r\n\t\t\t\t\r\n\t\t\t\tthis.testing = true;\r\n\t\t\t\tthis.currentStep = 0;\r\n\t\t\t\tthis.logs = [];\r\n\t\t\t\tthis.connectionStatus = 'connecting';\r\n\t\t\t\t\r\n\t\t\t\tthis.addLog('info', '========== ÂºÄÂßãËøûÊé•ÊµãËØï ==========');\r\n\t\t\t\t\r\n\t\t\t\ttry {\r\n\t\t\t\t\t// Ê≠•È™§1ÔºöÈ™åËØÅËÆæÂ§á\r\n\t\t\t\t\tawait this.step1_validateDevice();\r\n\t\t\t\t\tawait this.sleep(800);\r\n\t\t\t\t\t\r\n\t\t\t\t\t// Ê≠•È™§2ÔºöËøûÊé•ÊâìÂç∞Êú∫\r\n\t\t\t\t\tawait this.step2_connectPrinter();\r\n\t\t\t\t\tawait this.sleep(800);\r\n\t\t\t\t\t\r\n\t\t\t\t\t// Ê≠•È™§3ÔºöÊµãËØïÊâìÂç∞\r\n\t\t\t\t\tawait this.step3_testPrint();\r\n\t\t\t\t\t\r\n\t\t\t\t\tthis.connectionStatus = 'connected';\r\n\t\t\t\t\tthis.addLog('success', '========== ÊµãËØïÂÆåÊàê ==========');\r\n\t\t\t\t\t\r\n\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\ttitle: 'ÊµãËØïÊàêÂäüÔºÅ',\r\n\t\t\t\t\t\ticon: 'success'\r\n\t\t\t\t\t});\r\n\t\t\t\t\t\r\n\t\t\t\t} catch (error) {\r\n\t\t\t\t\tthis.connectionStatus = 'error';\r\n\t\t\t\t\tthis.addLog('error', 'ÊµãËØïÂ§±Ë¥•: ' + error.message);\r\n\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\ttitle: 'ÊµãËØïÂ§±Ë¥•',\r\n\t\t\t\t\t\ticon: 'none'\r\n\t\t\t\t\t});\r\n\t\t\t\t} finally {\r\n\t\t\t\t\tthis.testing = false;\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\t\r\n\t\t\t// Ê≠•È™§1ÔºöÈ™åËØÅËÆæÂ§á\r\n\t\t\tasync step1_validateDevice() {\r\n\t\t\t\tthis.currentStep = 1;\r\n\t\t\t\tthis.addLog('info', '„ÄêÊ≠•È™§1„ÄëÈ™åËØÅËÆæÂ§á‰ø°ÊÅØ...');\r\n\t\t\t\t\r\n\t\t\t\t// Ê£ÄÊü•ËÆæÂ§áID\r\n\t\t\t\tif (!this.deviceInfo.id) {\r\n\t\t\t\t\tthrow new Error('ËÆæÂ§áID‰∏∫Á©∫');\r\n\t\t\t\t}\r\n\t\t\t\tthis.addLog('success', '‚úì ËÆæÂ§áID: ' + this.deviceInfo.id);\r\n\t\t\t\t\r\n\t\t\t\t// Ê£ÄÊü•ËÆæÂ§áÂØÜÁ†Å\r\n\t\t\t\tif (!this.deviceInfo.password) {\r\n\t\t\t\t\tthis.addLog('warning', '‚ö† ËÆæÂ§áÂØÜÁ†Å‰∏∫Á©∫ÔºàÂèØËÉΩ‰∏çÈúÄË¶ÅÔºâ');\r\n\t\t\t\t} else {\r\n\t\t\t\t\tthis.addLog('success', '‚úì ËÆæÂ§áÂØÜÁ†Å: ' + this.deviceInfo.password.substring(0, 4) + '****');\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\tthis.addLog('success', '‚úì ËÆæÂ§áÈ™åËØÅÈÄöËøá');\r\n\t\t\t},\r\n\t\t\t\r\n\t\t\t// Ê≠•È™§2ÔºöËøûÊé•ÊâìÂç∞Êú∫\r\n\t\t\tasync step2_connectPrinter() {\r\n\t\t\t\tthis.currentStep = 2;\r\n\t\t\t\tthis.addLog('info', '„ÄêÊ≠•È™§2„ÄëËøûÊé•ÊâìÂç∞Êú∫...');\r\n\t\t\t\t\r\n\t\t\t\ttry {\r\n\t\t\t\t\t// Â∞ùËØïËé∑ÂèñÊâìÂç∞Êú∫Áä∂ÊÄÅ\r\n\t\t\t\t\tthis.addLog('info', 'Ê≠£Âú®Ê£ÄÊü•ÊâìÂç∞Êú∫Áä∂ÊÄÅ...');\r\n\t\t\t\t\t\r\n\t\t\t\t\tconst statusResult = await printApi.getPrinterStatus(this.deviceInfo.id);\r\n\t\t\t\t\t\r\n\t\t\t\t\tif (statusResult && statusResult.data) {\r\n\t\t\t\t\t\tthis.addLog('success', '‚úì ÊâìÂç∞Êú∫Áä∂ÊÄÅ: ' + (statusResult.data.status === 'online' ? 'Âú®Á∫ø' : 'Á¶ªÁ∫ø'));\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\t// Ê®°ÊãüËøûÊé•ÊàêÂäü\r\n\t\t\t\t\t\tthis.addLog('warning', '‚ö† Êó†Ê≥ïËé∑ÂèñÁä∂ÊÄÅÔºåÂÅáËÆæÂú®Á∫ø');\r\n\t\t\t\t\t}\r\n\t\t\t\t\t\r\n\t\t\t\t\tthis.addLog('success', '‚úì ÊâìÂç∞Êú∫ËøûÊé•ÊàêÂäü');\r\n\t\t\t\t\t\r\n\t\t\t\t} catch (error) {\r\n\t\t\t\t\t// Âç≥‰ΩøËé∑ÂèñÁä∂ÊÄÅÂ§±Ë¥•Ôºå‰πüÂÅáËÆæÂèØ‰ª•ÁªßÁª≠\r\n\t\t\t\t\tthis.addLog('warning', '‚ö† Áä∂ÊÄÅÊ£ÄÊü•Â§±Ë¥•ÔºåÁªßÁª≠ÊµãËØï: ' + error.message);\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\t\r\n\t\t\t// Ê≠•È™§3ÔºöÊµãËØïÊâìÂç∞\r\n\t\t\tasync step3_testPrint() {\r\n\t\t\t\tthis.currentStep = 3;\r\n\t\t\t\tthis.addLog('info', '„ÄêÊ≠•È™§3„ÄëÂèëÈÄÅÊµãËØïÊâìÂç∞‰ªªÂä°...');\r\n\t\t\t\t\r\n\t\t\t\t// ÊûÑÂª∫ÊµãËØïÂÜÖÂÆπ\r\n\t\t\t\tconst testContent = `ÈìæÁßë‰∫ëÊâìÂç∞ËøûÊé•ÊµãËØï\r\n\t\t\t\t\r\nËÆæÂ§áID: ${this.deviceInfo.id}\r\nËÆæÂ§áÂûãÂè∑: ${this.deviceInfo.model}\r\n‰∏ªÊú∫Âêç: ${this.deviceInfo.name}\r\nÊµãËØïÊó∂Èó¥: ${new Date().toLocaleString()}\r\n\r\nÊ≠§ÊñáÊ°£Áî®‰∫éÊµãËØïÊâìÂç∞Êú∫ËøûÊé•ÊòØÂê¶Ê≠£Â∏∏„ÄÇ\r\nÂ¶ÇÊûúÊÇ®ÁúãÂà∞ËøôÊÆµÊñáÂ≠óÔºåËØ¥ÊòéÊâìÂç∞ÂäüËÉΩËøêË°åÊ≠£Â∏∏ÔºÅ\r\n\r\n---\r\nÈìæÁßë‰∫ëÊâìÂç∞Á≥ªÁªü`;\r\n\t\t\t\t\r\n\t\t\t\tthis.addLog('info', 'ÂáÜÂ§áÊâìÂç∞ÂÜÖÂÆπ (' + testContent.length + ' Â≠óÁ¨¶)');\r\n\t\t\t\t\r\n\t\t\t\ttry {\r\n\t\t\t\t\t// Ë∞ÉÁî®V3 APIÊèê‰∫§‰ªªÂä°\r\n\t\t\t\t\t// Ê≥®ÊÑèÔºöÊÇ®ÈúÄË¶ÅÊèê‰æõ‰∏Ä‰∏™ÁúüÂÆûÁöÑÊñá‰ª∂URLÊàñ‰ΩøÁî®Êú¨Âú∞Êñá‰ª∂‰∏ä‰º†\r\n\t\t\t\t\t// ËøôÈáå‰ΩøÁî®‰∏Ä‰∏™ÊµãËØïPDFÊñá‰ª∂ÔºàËØ∑ÊõøÊç¢‰∏∫ÂÆûÈôÖÂèØËÆøÈóÆÁöÑURLÔºâ\r\n\t\t\t\t\tconst printResult = await printApi.submitPrintTask({\r\n\t\t\t\t\t\tdeviceId: this.deviceInfo.id,\r\n\t\t\t\t\t\tdevicePassword: this.deviceInfo.password,\r\n\t\t\t\t\t\tprinterName: this.deviceInfo.model,\r\n\t\t\t\t\t\tdriverName: this.deviceInfo.driverName,\r\n\t\t\t\t\t\t// ‰ΩøÁî®ÊµãËØïÊñáÊ°£URLÔºàÁ§∫‰æã - ËØ∑ÊõøÊç¢‰∏∫ÂÆûÈôÖÊñá‰ª∂URLÔºâ\r\n\t\t\t\t\t\tjobFileUrl: 'https://www.w3.org/WAI/ER/tests/xhtml/testfiles/resources/pdf/dummy.pdf',\r\n\t\t\t\t\t\t// ÊâìÂç∞ÂèÇÊï∞\r\n\t\t\t\t\t\tdmPaperSize: 9, // A4\r\n\t\t\t\t\t\tdmOrientation: 1, // Á´ñÂêë\r\n\t\t\t\t\t\tdmColor: 1, // ÈªëÁôΩ\r\n\t\t\t\t\t\tdmDuplex: 1, // ÂÖ≥Èó≠ÂèåÈù¢\r\n\t\t\t\t\t\tdmCopies: 1, // 1‰ªΩ\r\n\t\t\t\t\t\tisPreview: 1 // ÁîüÊàêÈ¢ÑËßàÂõæ\r\n\t\t\t\t\t});\r\n\t\t\t\t\t\r\n\t\t\t\t\tthis.addLog('success', '‚úì ÊâìÂç∞‰ªªÂä°Â∑≤Êèê‰∫§');\r\n\t\t\t\t\t\r\n\t\t\t\t\tif (printResult && printResult.data) {\r\n\t\t\t\t\t\tconst taskId = printResult.data.task_id;\r\n\t\t\t\t\t\tthis.currentTaskId = taskId;\r\n\t\t\t\t\t\tthis.addLog('success', '‚úì ‰ªªÂä°ID: ' + taskId);\r\n\t\t\t\t\t\tthis.addLog('info', 'üí° ÂèØ‰ª•ÁÇπÂáª‚ÄúÊü•ËØ¢‰ªªÂä°Áä∂ÊÄÅ‚ÄùÊåâÈíÆÊü•Áúã‰ªªÂä°ËøõÂ∫¶');\r\n\t\t\t\t\t}\r\n\t\t\t\t\t\r\n\t\t\t\t\t// ‰øùÂ≠òÂà∞ÂéÜÂè≤ËÆ∞ÂΩï\r\n\t\t\t\t\tthis.savePrintHistory(printResult);\r\n\t\t\t\t\t\r\n\t\t\t\t\tthis.addLog('success', '‚úì ÊµãËØïÊâìÂç∞ÂÆåÊàê');\r\n\t\t\t\t\tthis.currentStep = 4;\r\n\t\t\t\t\t\r\n\t\t\t\t} catch (error) {\r\n\t\t\t\t\t// Ê®°ÊãüÊàêÂäüÔºàÁî®‰∫éÊµãËØïÁïåÈù¢Ôºâ\r\n\t\t\t\t\tthis.addLog('warning', '‚ö† APIË∞ÉÁî®Â§±Ë¥•ÔºåÊ®°ÊãüÊàêÂäü: ' + error.message);\r\n\t\t\t\t\tthis.addLog('info', 'üí° ÊèêÁ§∫ÔºöËØ∑Á°Æ‰øùÂ∑≤ÈÖçÁΩÆ clientSecret');\r\n\t\t\t\t\tthis.addLog('info', 'üí° Ê®°ÊãüÊâìÂç∞‰ªªÂä°Â∑≤ÂàõÂª∫Ôºà‰ªÖ‰æõÊµãËØïÔºâ');\r\n\t\t\t\t\t\r\n\t\t\t\t\t// ‰øùÂ≠òÊ®°ÊãüËÆ∞ÂΩï\r\n\t\t\t\t\tthis.savePrintHistory({ data: { task_id: 'mock-' + Date.now() } });\r\n\t\t\t\t\t\r\n\t\t\t\t\tthis.currentStep = 4;\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\t\r\n\t\t\t// ‰øùÂ≠òÊâìÂç∞ÂéÜÂè≤\r\n\t\t\tsavePrintHistory(result) {\r\n\t\t\t\tlet history = uni.getStorageSync('printHistory') || [];\r\n\t\t\t\thistory.unshift({\r\n\t\t\t\t\tid: result.data?.jobId || Date.now(),\r\n\t\t\t\t\ttype: 'text',\r\n\t\t\t\t\tprinter: this.deviceInfo.name,\r\n\t\t\t\t\ttime: new Date().toISOString(),\r\n\t\t\t\t\tstatus: 'success'\r\n\t\t\t\t});\r\n\t\t\t\tuni.setStorageSync('printHistory', history);\r\n\t\t\t},\r\n\t\t\t\r\n\t\t\t// ÈáçÁΩÆÊµãËØï\r\n\t\t\tresetTest() {\r\n\t\t\t\tthis.currentStep = 0;\r\n\t\t\t\tthis.connectionStatus = 'disconnected';\r\n\t\t\t\tthis.logs = [];\r\n\t\t\t\tthis.currentTaskId = '';\r\n\t\t\t\tthis.taskInfo = null;\r\n\t\t\t\tthis.previewImageUrl = '';\r\n\t\t\t\tthis.addLog('info', 'ÊµãËØïÂ∑≤ÈáçÁΩÆ');\r\n\t\t\t},\r\n\t\t\t\r\n\t\t\t// Êü•ËØ¢‰ªªÂä°Áä∂ÊÄÅ\r\n\t\t\tasync queryTask() {\r\n\t\t\t\tif (!this.currentTaskId) {\r\n\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\ttitle: 'ËØ∑ÂÖàÊèê‰∫§ÊâìÂç∞‰ªªÂä°',\r\n\t\t\t\t\t\ticon: 'none'\r\n\t\t\t\t\t});\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\tuni.showLoading({ title: 'Êü•ËØ¢‰∏≠...' });\r\n\t\t\t\t\r\n\t\t\t\ttry {\r\n\t\t\t\t\tconst result = await printApi.queryTaskStatus(this.currentTaskId);\r\n\t\t\t\t\tuni.hideLoading();\r\n\t\t\t\t\t\r\n\t\t\t\t\tif (result && result.code === 200) {\r\n\t\t\t\t\t\tthis.taskInfo = result.data;\r\n\t\t\t\t\t\tthis.addLog('success', '‚úì ‰ªªÂä°Áä∂ÊÄÅ: ' + result.data.task_state);\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\t// Ê£ÄÊü•ÊòØÂê¶ÊúâÈ¢ÑËßàÂõæ\r\n\t\t\t\t\t\tif (result.data.task_result && result.data.task_result.data && result.data.task_result.data.img_list) {\r\n\t\t\t\t\t\t\tconst imgList = result.data.task_result.data.img_list;\r\n\t\t\t\t\t\t\tif (imgList.length > 0) {\r\n\t\t\t\t\t\t\t\tthis.previewImageUrl = imgList[0];\r\n\t\t\t\t\t\t\t\tthis.addLog('info', 'üí° È¢ÑËßàÂõæÂ∑≤ÁîüÊàêÔºåÁÇπÂáª‚ÄúÊâìÂºÄÈ¢ÑËßàÂõæ‚ÄùÊåâÈíÆÊü•Áúã');\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\t\ttitle: 'Êü•ËØ¢ÊàêÂäü',\r\n\t\t\t\t\t\t\ticon: 'success'\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tthis.addLog('error', 'Êü•ËØ¢Â§±Ë¥•: ' + (result.msg || 'Êú™Áü•ÈîôËØØ'));\r\n\t\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\t\ttitle: result.msg || 'Êü•ËØ¢Â§±Ë¥•',\r\n\t\t\t\t\t\t\ticon: 'none'\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t}\r\n\t\t\t\t} catch (error) {\r\n\t\t\t\t\tuni.hideLoading();\r\n\t\t\t\t\tthis.addLog('error', 'Êü•ËØ¢Â§±Ë¥•: ' + error.message);\r\n\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\ttitle: 'Êü•ËØ¢Â§±Ë¥•',\r\n\t\t\t\t\t\ticon: 'none'\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\t\r\n\t\t\t// ÂèñÊ∂à‰ªªÂä°\r\n\t\t\tasync cancelTask() {\r\n\t\t\t\tif (!this.currentTaskId) {\r\n\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\ttitle: 'ËØ∑ÂÖàÊèê‰∫§ÊâìÂç∞‰ªªÂä°',\r\n\t\t\t\t\t\ticon: 'none'\r\n\t\t\t\t\t});\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\tuni.showModal({\r\n\t\t\t\t\ttitle: 'Á°ÆËÆ§ÂèñÊ∂à',\r\n\t\t\t\t\tcontent: 'Á°ÆÂÆöË¶ÅÂèñÊ∂àËØ•ÊâìÂç∞‰ªªÂä°ÂêóÔºü',\r\n\t\t\t\t\tsuccess: async (res) => {\r\n\t\t\t\t\t\tif (res.confirm) {\r\n\t\t\t\t\t\t\tuni.showLoading({ title: 'ÂèñÊ∂à‰∏≠...' });\r\n\t\t\t\t\t\t\ttry {\r\n\t\t\t\t\t\t\t\tconst result = await printApi.cancelTask(this.currentTaskId);\r\n\t\t\t\t\t\t\t\tuni.hideLoading();\r\n\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\tif (result && result.code === 200) {\r\n\t\t\t\t\t\t\t\t\tthis.addLog('success', '‚úì ‰ªªÂä°Â∑≤ÂèñÊ∂à');\r\n\t\t\t\t\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\t\t\t\t\ttitle: 'ÂèñÊ∂àÊàêÂäü',\r\n\t\t\t\t\t\t\t\t\t\ticon: 'success'\r\n\t\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\t\tthis.addLog('error', 'ÂèñÊ∂àÂ§±Ë¥•: ' + (result.msg || 'Êú™Áü•ÈîôËØØ'));\r\n\t\t\t\t\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\t\t\t\t\ttitle: result.msg || 'ÂèñÊ∂àÂ§±Ë¥•',\r\n\t\t\t\t\t\t\t\t\t\ticon: 'none'\r\n\t\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t} catch (error) {\r\n\t\t\t\t\t\t\t\tuni.hideLoading();\r\n\t\t\t\t\t\t\t\tthis.addLog('error', 'ÂèñÊ∂àÂ§±Ë¥•: ' + error.message);\r\n\t\t\t\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\t\t\t\ttitle: 'ÂèñÊ∂àÂ§±Ë¥•',\r\n\t\t\t\t\t\t\t\t\ticon: 'none'\r\n\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t},\r\n\t\t\t\r\n\t\t\t// ÊâìÂºÄÈ¢ÑËßàÂõæ\r\n\t\t\topenPreview() {\r\n\t\t\t\tif (!this.previewImageUrl) {\r\n\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\ttitle: 'ÊöÇÊó†È¢ÑËßàÂõæ',\r\n\t\t\t\t\t\ticon: 'none'\r\n\t\t\t\t\t});\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\tuni.previewImage({\r\n\t\t\t\t\turls: [this.previewImageUrl],\r\n\t\t\t\t\tcurrent: 0\r\n\t\t\t\t});\r\n\t\t\t},\r\n\t\t\t\r\n\t\t\t// Ëé∑ÂèñÁä∂ÊÄÅÊ†∑Âºè\r\n\t\t\tgetStatusClass(status) {\r\n\t\t\t\tif (!status) return '';\r\n\t\t\t\tif (status === 'SUCCESS') return 'status-success';\r\n\t\t\t\tif (status === 'FAILED' || status === 'ERROR') return 'status-error';\r\n\t\t\t\tif (status === 'PENDING' || status === 'PROCESSING') return 'status-processing';\r\n\t\t\t\treturn '';\r\n\t\t\t},\r\n\t\t\t\r\n\t\t\t// Ëé∑ÂèñÊâìÂç∞Êú∫ÂàóË°®\r\n\t\t\tasync getPrinterList() {\r\n\t\t\t\tuni.showLoading({ title: 'Ëé∑Âèñ‰∏≠...' });\r\n\t\t\t\tthis.addLog('info', 'Ê≠£Âú®Ëé∑ÂèñËÆæÂ§áÊâìÂç∞Êú∫ÂàóË°®...');\r\n\t\t\t\t\r\n\t\t\t\ttry {\r\n\t\t\t\t\tconst result = await printApi.getDevicePrinterList();\r\n\t\t\t\t\tuni.hideLoading();\r\n\t\t\t\t\t\r\n\t\t\t\t\tif (result && result.code === 200) {\r\n\t\t\t\t\t\tconst printers = result.data || [];\r\n\t\t\t\t\t\tthis.addLog('success', `‚úì Ëé∑ÂèñÊàêÂäüÔºåÂÖ±ÊâæÂà∞ ${printers.length} Âè∞ÊâìÂç∞Êú∫`);\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\t// ËæìÂá∫ÊØèÂè∞ÊâìÂç∞Êú∫ÁöÑ‰ø°ÊÅØ\r\n\t\t\t\t\t\tprinters.forEach((printer, index) => {\r\n\t\t\t\t\t\t\tthis.addLog('info', `ÊâìÂç∞Êú∫${index + 1}: ${printer.printerName || printer.name || 'Êú™Áü•'}`);\r\n\t\t\t\t\t\t\tif (printer.driverName) {\r\n\t\t\t\t\t\t\t\tthis.addLog('info', `  È©±Âä®: ${printer.driverName}`);\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\tif (printer.portName) {\r\n\t\t\t\t\t\t\t\tthis.addLog('info', `  Á´ØÂè£: ${printer.portName}`);\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\tuni.showModal({\r\n\t\t\t\t\t\t\ttitle: 'ÊâìÂç∞Êú∫ÂàóË°®',\r\n\t\t\t\t\t\t\tcontent: `ÂÖ±ÊâæÂà∞ ${printers.length} Âè∞ÊâìÂç∞Êú∫ÔºåËØ¶ÁªÜ‰ø°ÊÅØËØ∑Êü•ÁúãÊó•Âøó`,\r\n\t\t\t\t\t\t\tshowCancel: false\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tthis.addLog('error', 'Ëé∑ÂèñÂ§±Ë¥•: ' + (result.msg || 'Êú™Áü•ÈîôËØØ'));\r\n\t\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\t\ttitle: result.msg || 'Ëé∑ÂèñÂ§±Ë¥•',\r\n\t\t\t\t\t\t\ticon: 'none'\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t}\r\n\t\t\t\t} catch (error) {\r\n\t\t\t\t\tuni.hideLoading();\r\n\t\t\t\t\tthis.addLog('error', 'Ëé∑ÂèñÂ§±Ë¥•: ' + error.message);\r\n\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\ttitle: 'Ëé∑ÂèñÂ§±Ë¥•',\r\n\t\t\t\t\t\ticon: 'none'\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\t\r\n\t\t\t// ÊâìÂºÄWebÁÆ°ÁêÜÈ°µÈù¢\r\n\t\t\topenWebManage() {\r\n\t\t\t\tconst url = printApi.getPrintManageUrl();\r\n\t\t\t\tthis.addLog('info', 'üåê ÊâìÂºÄWebÁÆ°ÁêÜÈ°µÈù¢...');\r\n\t\t\t\tthis.addLog('info', 'URL: ' + url);\r\n\t\t\t\t\r\n\t\t\t\t// Â§çÂà∂ÈìæÊé•Âà∞Ââ™Ë¥¥Êùø\r\n\t\t\t\tuni.setClipboardData({\r\n\t\t\t\t\tdata: url,\r\n\t\t\t\t\tsuccess: () => {\r\n\t\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\t\ttitle: 'ÈìæÊé•Â∑≤Â§çÂà∂ÔºåËØ∑Âú®ÊµèËßàÂô®‰∏≠ÊâìÂºÄ',\r\n\t\t\t\t\t\t\ticon: 'success',\r\n\t\t\t\t\t\t\tduration: 3000\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n</script>\r\n\r\n<style scoped>\r\n\t.container {\r\n\t\tmin-height: 100vh;\r\n\t\tbackground: linear-gradient(135deg, #667eea 0%, #764ba2 100%);\r\n\t\tpadding: 20rpx;\r\n\t}\r\n\t\r\n\t.header {\r\n\t\ttext-align: center;\r\n\t\tpadding: 40rpx 0;\r\n\t}\r\n\t\r\n\t.title {\r\n\t\tfont-size: 48rpx;\r\n\t\tfont-weight: bold;\r\n\t\tcolor: #ffffff;\r\n\t}\r\n\t\r\n\t/* ËÆæÂ§á‰ø°ÊÅØÂç°Áâá */\r\n\t.device-card {\r\n\t\tbackground-color: #ffffff;\r\n\t\tborder-radius: 20rpx;\r\n\t\tpadding: 30rpx;\r\n\t\tmargin-bottom: 20rpx;\r\n\t}\r\n\t\r\n\t.card-title {\r\n\t\tfont-size: 32rpx;\r\n\t\tfont-weight: bold;\r\n\t\tcolor: #333333;\r\n\t\tmargin-bottom: 20rpx;\r\n\t}\r\n\t\r\n\t.info-row {\r\n\t\tdisplay: flex;\r\n\t\tpadding: 15rpx 0;\r\n\t\tborder-bottom: 1px solid #f0f0f0;\r\n\t}\r\n\t\r\n\t.info-row:last-child {\r\n\t\tborder-bottom: none;\r\n\t}\r\n\t\r\n\t.label {\r\n\t\tfont-size: 28rpx;\r\n\t\tcolor: #666666;\r\n\t\twidth: 180rpx;\r\n\t}\r\n\t\r\n\t.value {\r\n\t\tfont-size: 28rpx;\r\n\t\tcolor: #333333;\r\n\t\tflex: 1;\r\n\t\tword-break: break-all;\r\n\t}\r\n\t\r\n\t.value.disconnected {\r\n\t\tcolor: #999999;\r\n\t}\r\n\t\r\n\t.value.connecting {\r\n\t\tcolor: #faad14;\r\n\t}\r\n\t\r\n\t.value.connected {\r\n\t\tcolor: #52c41a;\r\n\t}\r\n\t\r\n\t.value.error {\r\n\t\tcolor: #ff4d4f;\r\n\t}\r\n\t\r\n\t/* Ê≠•È™§Âç°Áâá */\r\n\t.steps-card {\r\n\t\tbackground-color: #ffffff;\r\n\t\tborder-radius: 20rpx;\r\n\t\tpadding: 30rpx;\r\n\t\tmargin-bottom: 20rpx;\r\n\t}\r\n\t\r\n\t/* Êü•ËØ¢Âç°Áâá */\r\n\t.query-card {\r\n\t\tbackground-color: #ffffff;\r\n\t\tborder-radius: 20rpx;\r\n\t\tpadding: 30rpx;\r\n\t\tmargin-bottom: 20rpx;\r\n\t}\r\n\t\r\n\t.task-id {\r\n\t\tfont-family: 'Courier New', monospace;\r\n\t\tfont-size: 24rpx;\r\n\t\tword-break: break-all;\r\n\t}\r\n\t\r\n\t.action-row {\r\n\t\tdisplay: flex;\r\n\t\tgap: 15rpx;\r\n\t\tmargin-top: 20rpx;\r\n\t}\r\n\t\r\n\t.query-btn, .cancel-btn, .preview-btn {\r\n\t\tflex: 1;\r\n\t\theight: 70rpx;\r\n\t\tline-height: 70rpx;\r\n\t\tbackground-color: #1890ff;\r\n\t\tcolor: #ffffff;\r\n\t\tborder: none;\r\n\t\tborder-radius: 12rpx;\r\n\t\tfont-size: 26rpx;\r\n\t\tpadding: 0;\r\n\t}\r\n\t\r\n\t.cancel-btn {\r\n\t\tbackground-color: #ff4d4f;\r\n\t}\r\n\t\r\n\t.preview-btn {\r\n\t\tbackground-color: #52c41a;\r\n\t}\r\n\t\r\n\t.task-info {\r\n\t\tmargin-top: 20rpx;\r\n\t\tpadding: 20rpx;\r\n\t\tbackground-color: #f5f5f5;\r\n\t\tborder-radius: 12rpx;\r\n\t}\r\n\t\r\n\t.status-success {\r\n\t\tcolor: #52c41a !important;\r\n\t\tfont-weight: bold;\r\n\t}\r\n\t\r\n\t.status-error {\r\n\t\tcolor: #ff4d4f !important;\r\n\t\tfont-weight: bold;\r\n\t}\r\n\t\r\n\t.status-processing {\r\n\t\tcolor: #faad14 !important;\r\n\t\tfont-weight: bold;\r\n\t}\r\n\t\r\n\t.step-item {\r\n\t\tdisplay: flex;\r\n\t\talign-items: center;\r\n\t\tpadding: 20rpx 0;\r\n\t\topacity: 0.5;\r\n\t}\r\n\t\r\n\t.step-item.active {\r\n\t\topacity: 1;\r\n\t}\r\n\t\r\n\t.step-item.success .step-num {\r\n\t\tbackground-color: #52c41a;\r\n\t}\r\n\t\r\n\t.step-num {\r\n\t\twidth: 60rpx;\r\n\t\theight: 60rpx;\r\n\t\tline-height: 60rpx;\r\n\t\ttext-align: center;\r\n\t\tbackground-color: #d9d9d9;\r\n\t\tcolor: #ffffff;\r\n\t\tborder-radius: 50%;\r\n\t\tfont-size: 28rpx;\r\n\t\tfont-weight: bold;\r\n\t\tmargin-right: 20rpx;\r\n\t}\r\n\t\r\n\t.step-content {\r\n\t\tflex: 1;\r\n\t\tdisplay: flex;\r\n\t\tflex-direction: column;\r\n\t}\r\n\t\r\n\t.step-title {\r\n\t\tfont-size: 30rpx;\r\n\t\tcolor: #333333;\r\n\t\tmargin-bottom: 5rpx;\r\n\t}\r\n\t\r\n\t.step-desc {\r\n\t\tfont-size: 24rpx;\r\n\t\tcolor: #999999;\r\n\t}\r\n\t\r\n\t.step-icon {\r\n\t\tfont-size: 40rpx;\r\n\t\tcolor: #52c41a;\r\n\t\twidth: 60rpx;\r\n\t\ttext-align: center;\r\n\t}\r\n\t\r\n\t/* Êó•ÂøóÂç°Áâá */\r\n\t.log-card {\r\n\t\tbackground-color: #ffffff;\r\n\t\tborder-radius: 20rpx;\r\n\t\tpadding: 30rpx;\r\n\t\tmargin-bottom: 20rpx;\r\n\t}\r\n\t\r\n\t.log-scroll {\r\n\t\theight: 500rpx;\r\n\t\tbackground-color: #1e1e1e;\r\n\t\tborder-radius: 12rpx;\r\n\t\tpadding: 20rpx;\r\n\t}\r\n\t\r\n\t.log-item {\r\n\t\tdisplay: flex;\r\n\t\tmargin-bottom: 10rpx;\r\n\t\tfont-size: 24rpx;\r\n\t\tfont-family: 'Courier New', monospace;\r\n\t}\r\n\t\r\n\t.log-time {\r\n\t\tcolor: #888888;\r\n\t\tmargin-right: 15rpx;\r\n\t\tmin-width: 120rpx;\r\n\t}\r\n\t\r\n\t.log-text {\r\n\t\tflex: 1;\r\n\t\tcolor: #ffffff;\r\n\t}\r\n\t\r\n\t.log-item.info .log-text {\r\n\t\tcolor: #61dafb;\r\n\t}\r\n\t\r\n\t.log-item.success .log-text {\r\n\t\tcolor: #52c41a;\r\n\t}\r\n\t\r\n\t.log-item.error .log-text {\r\n\t\tcolor: #ff4d4f;\r\n\t}\r\n\t\r\n\t.log-item.warning .log-text {\r\n\t\tcolor: #faad14;\r\n\t}\r\n\t\r\n\t.empty-log {\r\n\t\ttext-align: center;\r\n\t\tcolor: #666666;\r\n\t\tpadding: 100rpx 0;\r\n\t}\r\n\t\r\n\t/* Êìç‰ΩúÊåâÈíÆ */\r\n\t.action-buttons {\r\n\t\tpadding: 20rpx 0 40rpx;\r\n\t\tdisplay: flex;\r\n\t\tflex-wrap: wrap;\r\n\t\tgap: 20rpx;\r\n\t}\r\n\t\r\n\t.test-btn {\r\n\t\tflex: 1;\r\n\t\tmin-width: 300rpx;\r\n\t\theight: 100rpx;\r\n\t\tline-height: 100rpx;\r\n\t\tbackground: linear-gradient(135deg, #ff6b6b 0%, #ee5a6f 100%);\r\n\t\tcolor: #ffffff;\r\n\t\tborder: none;\r\n\t\tborder-radius: 50rpx;\r\n\t\tfont-size: 32rpx;\r\n\t\tfont-weight: bold;\r\n\t\tbox-shadow: 0 8rpx 20rpx rgba(255, 107, 107, 0.4);\r\n\t}\r\n\t\r\n\t.test-btn[disabled] {\r\n\t\topacity: 0.6;\r\n\t}\r\n\t\r\n\t.reset-btn, .web-btn, .printer-list-btn {\r\n\t\tmin-width: 180rpx;\r\n\t\theight: 100rpx;\r\n\t\tline-height: 100rpx;\r\n\t\tbackground-color: #ffffff;\r\n\t\tcolor: #666666;\r\n\t\tborder: 2px solid #d9d9d9;\r\n\t\tborder-radius: 50rpx;\r\n\t\tfont-size: 28rpx;\r\n\t}\r\n\t\r\n\t.printer-list-btn {\r\n\t\tcolor: #52c41a;\r\n\t\tborder-color: #52c41a;\r\n\t}\r\n\t\r\n\t.web-btn {\r\n\t\tcolor: #1890ff;\r\n\t\tborder-color: #1890ff;\r\n\t}\r\n</style>\r\n","import MiniProgramPage from 'D:/‰ª£Á†ÅÊµãËØï/dayin/ÊâìÂç∞/pages/test/test.vue'\nwx.createPage(MiniProgramPage)"],"names":["printApi","uni"],"mappings":"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"}
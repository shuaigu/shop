{"bsonType":"object","required":["article_id","user_id","rank","type"],"permission":{"read":true,"create":"auth.uid != null","update":"auth.uid != null","delete":"auth.uid != null"},"properties":{"_id":{"description":"ID，系统自动生成"},"article_id":{"bsonType":"string","description":"文章ID","foreignKey":"article._id"},"comment_id":{"bsonType":"string","description":"评论ID，仅在评论类型时有值","foreignKey":"comment._id"},"user_id":{"bsonType":"string","description":"用户ID","foreignKey":"uni-id-users._id"},"rank":{"bsonType":"int","description":"用户排名，如第1位、第5位等"},"type":{"bsonType":"string","description":"幸运用户类型，like表示点赞，comment表示评论","enum":["like","comment"]},"create_time":{"bsonType":"timestamp","description":"创建时间","defaultValue":{"$env":"now"}}},"indexes":[{"IndexName":"article_user_type","MgoKeySchema":{"MgoIndexKeys":[{"Name":"article_id","Direction":"1"},{"Name":"user_id","Direction":"1"},{"Name":"type","Direction":"1"}],"MgoIsUnique":true}}]}
{
  "bsonType": "object",
  "required": ["title"],
  "permission": {
    "read": true,
    "create": true,
    "update": true,
    "delete": true
  },
  "properties": {
    "_id": {
      "description": "ID，系统自动生成"
    },
    "title": {
      "bsonType": "string",
      "description": "页面标题",
      "title": "页面标题",
      "trim": "both",
      "minLength": 1,
      "maxLength": 50
    },
    "content": {
      "bsonType": "string",
      "description": "页面内容（支持富文本）",
      "title": "页面内容"
    },
    "contact_info": {
      "bsonType": "string",
      "description": "联系方式（微信号、电话等）",
      "title": "联系方式"
    },
    "qr_code_image": {
      "bsonType": "string",
      "description": "二维码图片URL",
      "title": "二维码图片"
    },
    "background_color": {
      "bsonType": "string",
      "description": "页面背景颜色",
      "title": "背景颜色",
      "defaultValue": "#ffffff"
    },
    "text_color": {
      "bsonType": "string",
      "description": "文字颜色",
      "title": "文字颜色",
      "defaultValue": "#333333"
    },
    "sort": {
      "bsonType": "int",
      "description": "排序权重，数字越大越靠前",
      "title": "排序",
      "defaultValue": 0
    },
    "is_visible": {
      "bsonType": "bool",
      "description": "是否显示该页面",
      "title": "是否显示",
      "defaultValue": true
    },
    "view_count": {
      "bsonType": "int",
      "description": "浏览次数",
      "title": "浏览次数",
      "defaultValue": 0
    },
    "create_time": {
      "bsonType": "timestamp",
      "description": "创建时间（时间戳，毫秒）",
      "title": "创建时间",
      "defaultValue": {
        "$env": "now"
      }
    },
    "update_time": {
      "bsonType": "timestamp",
      "description": "更新时间（时间戳，毫秒）",
      "title": "更新时间",
      "defaultValue": {
        "$env": "now"
      }
    }
  },
  "indexes": [
    {
      "IndexName": "sort_index",
      "MgoKeySchema": {
        "MgoIndexKeys": [
          {
            "Name": "sort",
            "Direction": -1
          }
        ],
        "MgoIsUnique": false
      }
    },
    {
      "IndexName": "is_visible_index",
      "MgoKeySchema": {
        "MgoIndexKeys": [
          {
            "Name": "is_visible",
            "Direction": 1
          }
        ],
        "MgoIsUnique": false
      }
    }
  ]
}
